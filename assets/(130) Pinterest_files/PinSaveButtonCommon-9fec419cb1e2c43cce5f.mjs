(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon",8,12,14,16,37,134,"RoleBasedAccessControlProvider"],{"+zF7":function(e,t,n){var i=n("LqyK"),o=n("eOdZ"),r=n("G35+"),a=n("zpPL"),s=n("dwea"),c=n("mBfy"),l=n("Wer7");function d(){}Object.assign(d.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const o={success:function(i){const o={network:e,data:i};this._internalConnectNetwork(t,o,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?o.windowOptions="width=600,height=800":"instagram"===e?o.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?o.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(o.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,o)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){const e={user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"};a.a.instance.dispatch(Object(l.f)("UserResource",e));o.a.create("UserResource",e).callGet().then(e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;c.default.set(n)})},_externalConnectNetwork(e,t,n){t?r.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case r.a.FACEBOOK:t="UserFacebookFriendsResource";break;case r.a.TWITTER:t="UserTwitterFriendsResource";break;case r.a.GOOGLE:t="UserGmailFriendsResource";break;case r.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const r=o.a.create(i,n);r.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(r)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let u=null;d.instance=function(){return u||(u=new d),u},t.a=d},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"/zJj":function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return m}));const i=508,o=2*i,r=488,a=2*r,s=672,c=1176,l=.6,d=.84,u=40,h=72,p=740,b=60,f=912,m={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("VBRM"),o=n("YWqT"),r=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(r.a)(-t,n),a=new Date;return!Object(o.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,r=new Date,a=n?new Date(n):r,s=Object(i.a)(a,t);return Object(o.a)(s,r)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0Xtd":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a}));const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>!!(e&&e.isAuth&&(t===e.id||n&&n.id&&n.id!==e.id&&n.id===t)),a=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return r(e,i,n)}},"0nTG":function(e,t,n){n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return j}));var i=n("mwIZ"),o=n.n(i),r=n("6/Sz"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,h=e=>e.is_stale_product,p=e=>u(e)||h(e),b=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},f=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function m(e,t={}){var n,i,o,s,c,l;const d=f(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=Object(r.a)(e);var h;if(t)u.image_count=null===(h=t.carousel_slots)||void 0===h?void 0:h.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(c=s.products)&&void 0!==c&&null!==(l=c[0])&&void 0!==l&&l.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const j=(e,t={})=>{if(e){return g(m(e,t))}return null}},"1+5i":function(e,t,n){var i=n("w/wX"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isSet,s=a?o(a):i;e.exports=s},"1Nkp":function(e,t,n){var i=n("kmwA"),o=n("28DW");const r={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>(Object(o.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(o.a)("unauth_web.init_google.sdk."+e)};t.a=(e=r)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>a(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>a(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"1inl":function(e,t,n){var i=n("Te9D"),o=n.n(i);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,n){const i=o()(e);return r.showHtmlError(i,t,n)},r.showHtmlError=function(e,t,n){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,n)},t.a=r},"1unC":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("nKUr");function o({children:e,fullWidth:t}){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto",...t?{width:"100%"}:{}},children:e})}function r({children:e,enabled:t}){return t?Object(i.jsx)(o,{children:e}):e}},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},"2qKt":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("Y+p1"),a=n.n(r),s=n("Vzit"),c=n("vh5K"),l=n("pLLR"),d=n("ANjH"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>r=>{const b=function(e){return t=>({experience:t.experiences.eligibleExperiences[e],experiencesMulti:t.experiences.experiencesMulti?t.experiences.experiencesMulti[e]:void 0})}(e);n={...p,...n};const f=function(e,t,n=!0,o=!0,r=!1,l){var d,p;return p=d=class extends i.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{a()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:o,experience:r}=this.props;let c=i.extraContext,l=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,i.extraContext||{}),l=t(this.props,this.state.extraContext||{})),l&&Object.keys(l).length>0&&!a()(c,l)&&o(Object(s.c)(e,l)),!r||n.experience&&r.id===n.experience.id||o(Object(s.k)(e,l))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(s.m)(e))}dispatchPlacementMount(){const{dispatch:n}=this.props,i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=r&&null!=i&&i.advertiser_id?{advertiserId:i.advertiser_id}:void 0;n(Object(s.l)(e,i,o))}render(){const{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:Object(c.e)(e)?e:null};return Object(u.jsx)(l,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}},h(d,"displayName",`withPlacement(${l.displayName||l.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return Object(d.compose)(l.e,Object(o.connect)(b))(f)}},"3Qy3":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("4Utz"),o=n("n6mq"),r=n("nKUr");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(r.jsx)(o.f,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{var s,c,l,d;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},h=Object(r.jsx)(o.y,{alt:"",fit:"cover",naturalHeight:null!==(c=u.height)&&void 0!==c?c:1,naturalWidth:null!==(l=u.width)&&void 0!==l?l:1,src:null!==(d=u.url)&&void 0!==d?d:""});return Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(r.jsx)(o.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(r.jsx)(o.D,{height:"100%",wash:!0,width:"100%",children:t?Object(r.jsx)(i.a,{sizing:"fullSize",collageChipId:n.id,pin:e,children:h}):h})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("q1tI"),o=n("TSYQ"),r=n.n(o),a=n("juJw"),s=n("qD10"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");class u extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:i,shouldUseLegoStyles:o,type:c,url:u}=this.props;if(o&&t)return null;const h="boardless"===c?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):i;let p,b;if(!n||e||o){const e=o?Object(d.jsx)(l.cb,{color:"white",size:"lg",weight:"bold",children:h.length<=20?h:Object(a.a)(h,20)}):Object(d.jsx)(l.v,{color:"white",size:"sm",lineClamp:1,children:h});p=u?Object(d.jsx)(s.a,{to:u,children:e}):e}else p=Object(d.jsx)(l.cb,{color:"white",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(b=e?"board":"saved"),Object(d.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:o?14:void 0,paddingRight:o?14:void 0},className:o?r()("Lego__SavedPin",b):r()("SavedAnimation",b),children:p})}}t.a=function(e){const t=Object(c.c)();return Object(d.jsx)(u,{...e,i18n:t})}},"44Ds":function(e,t,n){var i=n("e4Nc");function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a)||r,a};return n.cache=new(o.Cache||i),n}o.Cache=i,e.exports=o},"4Utz":function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("gqRH"),o=n("0nTG"),r=n("OkGA"),a=n("QLqj"),s=n("n6mq"),c=n("U4JR"),l=n("QAzJ"),d=n("gD/Z"),u=n("nKUr");function h({sizing:e="default",children:t,collageChipId:n,componentType:h,contextLogData:p,elementType:b,pin:f,viewParameter:m,viewType:g}){const j=Object(d.b)(),{group:y}=Object(l.a)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:O,id:v}=f;let _,x=`/pin/${n||v}/`;if(O){const{carousel_slots:e=[],id:t,index:n=0}=O;x=`/pin/${v}/`,_={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}_={..._||{},...Object(o.f)(f,p)||{}};const S=Object(i.b)({href:x,externalData:{auxData:_,pin:f}});return Object(u.jsx)(s.bb,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,disableOnNavigation:t})=>{t(),(()=>{if(Object(c.b)(101,{...p,component:h||j.componentType,element:b,objectId:v,view:g||j.viewType,viewParameter:m||j.viewParameter,...Object(o.f)(f,p)||{}}),Object(c.b)(8948,{closeup_navigation_type:"click",view:g||j.viewType,viewParameter:m||j.viewParameter,component:h||j.componentType,element:b,objectId:v,...p,...Object(o.f)(f,p)||{}}),y){const e=Number(a.d.getItem(r.b)||0);a.d.setItem(r.b,e+1)}})(),S({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:x,role:"link",children:t})}},"4cTg":function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d}));var i=n("q1tI"),o=n("dKiF"),r=n("/zJj");const a=({showPdp:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?r.c:r.f:1,s=Object(o.d)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})),c={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.j,regular:r.e},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.h,regular:r.d}},l=Object(i.createContext)(c);function d(){const e=Object(i.useContext)(l);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.c=l},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),o=n("Jr++");let r;void 0===r&&(r=e),r._gaq=r._gaq||[];let a=[];const s=function(e){if(a.length)for(let t=0;t<a.length;t+=1){const n=a[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},c=function(e){if(a=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},l=2,d=3,u={};u.init=function(e,t){c(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",l])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:o}){c(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):o&&o.id?s(["_setCustomVar",1,"viewingUser",o.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const h=function(e,t){let n=e;const r=Object(o.a)(t).q;return r&&(n+="?"+Object(i.a)({q:r})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",h(r.location.pathname,r.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,o){s(["_trackEvent",e,t,n,i,o])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4sDh":function(e,t,n){var i=n("4uTw"),o=n("03A+"),r=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(r(e)||o(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),o=n("9ggG"),r=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:r(a(e))}},"5+ob":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"51gp":function(e,t,n){n.d(t,"a",(function(){return v}));var i=n("q1tI"),o=n("sEfC"),r=n.n(o),a=n("qrav");var s=n("BEAQ"),c=n("jgRP"),l=n("9pre"),d=n("U4JR"),u=n("n6mq"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[0,.25,.5,.75,.95,.97],f=[0,.5,.8,1],m={threshold:f},g={rootMargin:"-64px 0px 0px 0px",threshold:l.c},j=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function y(){return(new Date).getTime()}function O(e){return!!e.volume&&e.volume>0}class v extends i.Component{constructor(e){super(e),p(this,"videoWrapperRef",Object(i.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,o=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const o of i){const i=o*n;if(e<=i&&t>i)return o}return null}(this.videoTime,i,this.currentInterval.videoDuration,b);if("number"==typeof o&&this.props.playing&&!t&&n){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],o=t[n+1];if(null==o)return i;if(i<=e&&e<o)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),f);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:j.PAUSED}):this.startNewInterval({viewability:i}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=y();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:O(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};O(e)&&!O(this.props)?n.isAudible=!1:!O(e)&&O(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?j.PLAYING:j.PAUSED:j.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:o,windowHeight:r,windowWidth:a,viewability:s,...c}=t;if(null!=i&&null!=o&&null!=r&&null!=a&&null!=s){const t={...c,height:i,width:o,windowHeight:r,windowWidth:a,viewability:s};Object(d.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:o,videoEndTime:r,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}},...f}=e;return{...f,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:o,endVideoTime:r,isAudible:a,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=y();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:u,controls:p,cropHeight:b,hlsConfig:f,inAdsDesktopVideoExperiment:j,loop:y,objectFit:O,onLoadedChange:v,onPause:_,onPlay:x,onSeek:S,onVolumeChange:w,playbackRate:T,playing:P,playsInline:E,poster:I,preload:C,rootMargin:R,src:k,surface:D,videoStartTime:A,volume:L}=this.props,{seeking:N}=this.state,B=j?g:m;return void 0!==R&&(B.rootMargin=D?Object(c.a)(D):R),Object(h.jsx)(a.a,{options:B,onVisibilityChange:this.handleVisibilityChange,children:Object(h.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:b?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(h.jsx)(s.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:l,captions:d,contextLogData:u,controls:p,hlsConfig:f,loop:y,objectFit:O,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:v,onLoop:this.handleLoop,onPause:_,onPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:S,onTimeChange:this.handleTimeChange,onVolumeChange:w,playbackRate:T,playing:!N&&P,playsInline:E,poster:I,preload:C,src:k,videoStartTime:A,visible:this.visible,volume:L})})})}}p(v,"defaultProps",u.jb.defaultProps)},5871:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("Ofms"),a=n("n6mq"),s=n("nKUr");function c({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:o}){return Object(s.jsxs)(a.u,{alignItems:"stretch",justifyContent:"start",children:[Object(s.jsx)(r.a,{id:"ad-reason-icon",children:Object(s.jsx)(a.K,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),Object(s.jsx)(a.f,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:Object(s.jsx)(a.cb,{children:o})}),i&&n&&Object(s.jsx)(a.u,{direction:"column",justifyContent:"center",children:Object(s.jsx)(a.w,{accessibilityLabel:n,color:"darkGray",icon:"arrow-forward"})})]})}var l=n("EC51"),d=n("TgLd"),u=n("TNox"),h=n("kmwA"),p=n("yweb"),b=n("vvax"),f=n("U4JR");const{ACCOUNT_SETTINGS:m,CANONICAL_MAIN_URL:g,HELP_BLOCKING:j,HELP_PROMOTED_PINS_URL:y}=h.a.settings;function O({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:h,isCustomerListMatched:O,isGeoPostalCodeMatched:v,isGeoRegionMatched:_,isShoppingTargetingRematched:x}){const S=Object(p.c)();return Object(s.jsx)(d.b,{accessibilityModalLabel:S._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:Object(s.jsxs)(a.f,{paddingX:8,paddingY:6,children:[Object(s.jsxs)(a.f,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[Object(s.jsx)(a.f,{position:"absolute",left:!0,children:Object(s.jsx)(a.x,{accessibilityLabel:S._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),Object(s.jsx)(a.v,{align:"center",size:"md",children:S._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),Object(s.jsxs)(a.f,{children:[Object(s.jsxs)(a.u,{direction:"column",gap:4,children:[Object(s.jsx)(a.f,{children:Object(s.jsx)(a.cb,{children:Object(b.b)(S._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:Object(s.jsx)(r.a,{id:"ad-reasons-learn-more-link",children:Object(s.jsx)(a.cb,{inline:!0,children:Object(s.jsx)(l.a,{forceTarget:!0,href:y,inline:!0,onClick:()=>{Object(f.b)(101,{component:13756,element:12057})},target:"blank",children:S._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),Object(s.jsx)(a.f,{marginBottom:4,children:Object(s.jsx)(a.cb,{children:Object(b.b)(S._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),Object(s.jsx)(r.a,{id:"ad-reasons",children:Object(s.jsxs)(a.u,{direction:"column",flex:"none",gap:4,children:[v||_?Object(s.jsx)(u.a,{href:`${g}${m}`,onTap:()=>{Object(f.b)(101,{component:13756,element:12059})},target:"blank",children:Object(s.jsx)(c,{iconAccessibilityLabel:S._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:S._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:Object(b.b)(S._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,o&&Object(s.jsx)(c,{iconAccessibilityLabel:S._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:Object(b.b)(S._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),h&&Object(s.jsx)(c,{iconAccessibilityLabel:S._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:S._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),x&&Object(s.jsx)(c,{iconAccessibilityLabel:S._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:Object(b.b)(S._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),O&&Object(s.jsx)(c,{iconAccessibilityLabel:S._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:Object(b.b)(S._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:Object(s.jsx)(a.cb,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),Object(s.jsx)(a.f,{marginBottom:1,children:Object(s.jsx)(a.cb,{children:S._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),Object(s.jsxs)(a.u,{direction:"column",gap:1,children:[Object(s.jsx)(a.f,{marginBottom:3,marginTop:3,children:Object(s.jsx)(a.q,{})}),Object(s.jsx)(a.f,{marginBottom:1,marginTop:1,children:Object(s.jsx)(a.v,{size:"sm",children:S._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),Object(s.jsx)(a.f,{marginBottom:4,children:Object(s.jsx)(a.cb,{children:Object(b.b)(S._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:Object(s.jsx)(a.cb,{inline:!0,children:Object(s.jsx)(l.a,{inline:!0,href:j,forceTarget:!0,onClick:()=>{Object(f.b)(101,{component:13756,element:12058})},target:"blank",children:S._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var v=n("w70y"),_=n("xkL+"),x=n("pLLR");function S({pinId:e,onDismiss:t}){var n,r,a,c;const{locale:l}=Object(x.d)(),{country:d=""}=Object(_.b)(),u=Object(v.a)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=Object(v.a)({name:"LocalesResource"}),p=Object(o.useSelector)(({pins:t})=>t[e]);Object(i.useEffect)(()=>{Object(f.b)(120,{component:13756})},[]);const{ad_targeting_attribution:b,promoter:m}=null!=p?p:{},{is_age_matched:g=!1,is_behavior_targeting_matched:j=!1,is_customer_list_matched:y=!1,is_geo_postal_code_matched:S=!1,is_geo_region_matched:w=!1,is_shopping_retargeting_matched:T=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter(t=>"boolean"==typeof e[t]).slice(0,t).reduce((t,n)=>({...t,[n]:e[n]}),{})}(b))&&void 0!==n?n:{},P=null!==(r=null==m?void 0:m.full_name)&&void 0!==r?r:"",E=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(a=u.data)&&void 0!==a?a:[],d),I=function(e,t){var n;const{name:i=""}=null!==(n=e.find(e=>e.key===t))&&void 0!==n?n:{};return i}(null!==(c=h.data)&&void 0!==c?c:[],l);return Object(s.jsx)(O,{brandName:P,country:E,language:I,isAgeMatched:g,isBehaviorTargetingMatched:j,isCustomerListMatched:y,isGeoPostalCodeMatched:S,isGeoRegionMatched:w,isShoppingTargetingRematched:T,onDismiss:t})}var w=n("Nle8"),T=n("E/VT"),P=n("iYS+"),E=n("gSZa"),I=n("hFNL"),C=n("zwad"),R=n("ANjH"),k=n("pSsd"),D=n("5+ob"),A=n("1Fta"),L=n("DJoW"),N=n("eqXv"),B=n("EC67");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={color:"white",textDecorationColor:"white"};class F extends i.Component{constructor(e){super(e),M(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),M(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,c;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",c="/"+n.username):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",c=i&&i.board&&i.board.url||e.url),o?Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:Object(s.jsx)(a.bb,{onTap:()=>{var e;return this.props.history.push(null!==(e=c)&&void 0!==e?e:"")},children:Object(s.jsx)(a.D,{height:40,wash:!0,width:40,children:Object(s.jsx)(a.y,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null}),M(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),M(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),M(this,"feedbackHelpers",Object(A.a)({i18n:this.props.i18n,interpolateNamedTemplate:b.b})),M(this,"makeNavigateLink",(e,t,n,i)=>{const o={display:"inline",...i?U:{}};return Object(s.jsx)(a.C,{onClick:this.props.onLinkClick,role:"link",href:t,inline:!0,children:Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:o},children:n})},e)}),M(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),M(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&D.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&Object(A.d)(o),throughProperties:o&&Object(A.e)(o),clientTrackingParams:Object(w.a)(i)}),c=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),M(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&D.ReasonToChoose[r],s=i&&Object(A.d)(i),c=i&&Object(A.e)(i),l="pfyBoard"===t,{action:d,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:l?2:4,throughId:s,throughProperties:c,clientTrackingParams:Object(w.a)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:d,actionOptions:u,feedbackText:{subTitle:l&&o?Object(b.b)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:l&&o?Object(b.b)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),M(this,"unfollowBoardOption",()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=Object(b.b)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=Object(b.b)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:Object(b.b)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}}),M(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(b.b)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(b.b)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:k.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(b.b)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),M(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(b.b)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(b.b)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),M(this,"downloadPinOption",()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),M(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),c=this.reportPinOption(),l="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],c]};case"promoted":const{pinId:d,showAdReasonsModal:u}=this.props,h=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(d)}},c];return{description:this.getRecommendationDescription(),options:h};case"topic":const p=this.unfollowTopicOption(),b=[s,...a&&p?[p]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:b};case"pfy":case"pfyBoard":const f=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:f};default:const m=[s,...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:m}}}),M(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(N.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:c,showPinFeedbackUndo:l,viewParameter:d,viewType:u}=this.props;t&&n&&i?l(a,e,Object(A.b)(n,i,a,u,d,o,f.b),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),c(a))}makeStrongText(e,t){return Object(s.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;Object(f.b)(101,{...t,view:o,viewParameter:i,element:e,component:Object(A.c)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o}=this.props,{pinFeedbackConfig:c}=this.state,{options:l}=c,d=[],u=l.length;for(let h=0;h<u;h+=1){const c=l[h],u=N.b.includes(c.action),p=c.callback?c.callback:()=>this.onPinHide(c.feedbackText,u,c.actionOptions,c.action);if("downloadPin"!==c.action){const e=C.a.isOffsiteUrl(c.link)?"nofollow":"none";d.push(Object(s.jsx)(a.f,{children:c.link?Object(s.jsx)(r.a,{id:c.dataTestId||"",children:Object(s.jsx)(a.bb,{target:"blank",role:"link",href:c.link,rel:e,children:Object(s.jsx)(P.a,{compact:!0,text:c.text})})}):Object(s.jsx)(r.a,{id:c.dataTestId||"",children:Object(s.jsx)(a.bb,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,c,p),children:Object(s.jsx)(P.a,{compact:!0,text:c.text})})})},h))}else if(!e&&"undefined"!=typeof window&&"windows"!==Object(I.b)(window)){const{bestPinImgSrc:e,pinTitle:r,pinDescription:c,pinCategory:l}=this.props;d.push(Object(s.jsx)(a.f,{children:Object(s.jsx)(T.a,{category:l,filename:r||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i,children:e=>Object(s.jsx)(a.bb,{fullWidth:!1,onTap:e,children:Object(s.jsx)(P.a,{compact:!0,text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image")})})})},h))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{feedbackData:n,feedbackType:i,hideAdReasonsModal:o,pinId:r,onHide:c,recommendationReason:l,showAdReasons:d,viewParameter:u,viewType:h}=this.props,{description:p}=e,b=this.getRecommendationDescriptionImage();return Object(s.jsxs)(a.f,{overflow:"hidden",width:"100%",children:[t?Object(s.jsx)(E.a,{feedbackData:n,feedbackType:i,pinId:r,onHide:c,recommendationReason:l,viewParameter:u,viewType:h}):Object(s.jsxs)(a.f,{children:[p&&Object(s.jsxs)(a.f,{children:[Object(s.jsxs)(a.f,{alignItems:"center",display:"flex",padding:4,children:[Object(s.jsx)(a.f,{"data-pin-recommendation-reason":null==l?void 0:l.reason,maxHeight:56,overflow:"hidden",children:Object(s.jsx)(a.cb,{color:"darkGray",overflow:"normal",size:"md",children:p})}),b]}),Object(s.jsx)(a.q,{})]}),Object(s.jsx)(a.f,{marginBottom:3,marginTop:2,children:this.renderButtons()})]}),d&&Object(s.jsx)(S,{onDismiss:()=>o(r),pinId:r})]})}}t.a=Object(R.compose)(Object(o.connect)(null,e=>({hidePinFeedback:t=>e(Object(L.c)(t)),showPinFeedback:(t,n)=>e(Object(L.a)(t,n)),showPinFeedbackOverlay:t=>e(Object(L.f)(t)),showPinFeedbackUndo:(t,n,i,o)=>e(Object(L.g)(t,n,i,o)),showAdReasonsModal:t=>e(Object(L.e)(t)),hideAdReasonsModal:t=>e(Object(L.b)(t))})),B.l)((function(e){const t=Object(p.c)(),{ad_targeting_attribution:n,show_ad_reasons:i=!1}=Object(o.useSelector)(({pins:t})=>t[e.pinId]);return Object(s.jsx)(F,{...e,showAdReasons:i,adTargetingAttribution:n,i18n:t})}))},"5f3z":function(e,t,n){function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:r,user:a}){const s=[o,n,e,a,r,i].map(e=>null!=e?e:"").join(":");return t?"auto-correction-disabled:"+s:s}function o({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:o=null,rs:r="direct_navigation",scope:a="pins",selectedPinImgSig:s=null,sourceId:c=null,user:l}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:o,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:a,source_id:c,user:l}}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:r,query:a,rs:s,scope:c,bubbleId:l,user:d}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:a,rs:s,scope:c,selectedPinImgSig:r,bubbleId:l,user:d})}}},"7Ve8":function(e,t,n){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("h4v/"),o=n("XhR6"),r=n("U4JR");const a=["search_articles_story","style_pivot","structured_search_bubble","user_style_story_v2"];function s({query:e,scope:t}){return`${e}-${t}`}function c({category:e,domains:t,minPrice:n,maxPrice:i}){return[e,t,i,n].map(e=>null!=e?e:"").join("-")}function l({query:e,rs:t,scope:n}){const a=i.a.getInstance().getPreviousViewFromContext();if(!(!a.view_type&&!a.view_parameter)){const{view_type:i,view_parameter:s}=a;Object(r.b)(Object(o.b)(n),{view:i,viewParameter:s,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?Object(r.b)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&Object(r.b)(101,{component:0,element:10349,view:142})}const d=(e=[])=>{let t=!0;return e.reduce((e,n)=>{var i;return t&&n.story_type&&a.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e},{searchFullWidthStories:[],filteredResults:[]})}},"7wXf":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("ynlw"),o=n("rsy7"),r=n("lNaY"),a=n("US8k"),s=n("yweb"),c=n("QAzJ"),l=n("n6mq"),d=n("nKUr");const u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},h={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function p({backgroundColor:e,identifier:t,size:n="sm"}){const i="pine"===e?"#0FA573":"#fff",o="sm"===n?u:h;return Object(d.jsx)(l.f,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?i:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function b({pin:e,size:t="sm",allowProductCarousel:n,allowShoppingPriceIndicator:u,shoppingLabelColor:h}){const b=Object(s.c)(),f=Object(i.a)(e),m=Object(c.a)("web_sp2s");if(f.isGif)return p({identifier:"GIF",size:t});if(f.isStoryPin){const{page_count:n=0}=e.story_pin_data||{};return p({identifier:Object(d.jsxs)(l.u,{alignItems:"center",justifyContent:"between",children:[Object(d.jsx)(l.f,{marginEnd:1,display:"flex",alignItems:"center",children:Object(d.jsx)(l.w,{accessibilityLabel:m().anyEnabled?b._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"):b._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:"sm"===t?12:16})}),Object(d.jsx)(l.cb,{inline:!0,size:"sm",weight:"bold",children:n.toString()})]}),size:t})}if(f.isVideo){const n=e.videos,{duration:i=0}=n&&n.video_list&&n.video_list[Object.keys(n.video_list)[0]]||{};return p({identifier:Object(a.a)(i),size:t})}if(f.isProduct){if(u){const n=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,i=n&&(n.price||n.max_price);return i?p({identifier:i,size:t}):null}if(h){const n=Object(o.a)(e)[0];return n?p({identifier:n,backgroundColor:h,size:t}):null}return null}if(n){const n=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],i=n&&Object(r.a)(e.images,n,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:o=[],index:a=0}=i;return p({identifier:`${a+1}/${o.length}`,size:t})}if(f.isCarousel){const n=e.carousel_data||{},{carousel_slots:i=[],index:o=0}=n;return p({identifier:`${o+1}/${i.length}`,size:t})}return null}},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("7w6Q"),o=n("eOdZ"),r=n("yweb"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");function l(e){const t=Object(r.c)(),{identifier:n,onHide:l}=e,d=()=>{o.a.create("ShareSuggestionsHideResource",{user_identifier:n}).callCreate().then(()=>{l(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(c.jsx)(a.x,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),d()},accessibilityLabel:t._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!(null===(n=t.collaborator_permissions)||void 0===n||!n.includes(e))}},"9ggG":function(e,t,n){var i=n("Z0cm"),o=n("/9aa"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},"9pre":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i=2,o="V_HLSV3_MOBILE",r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},AAEI:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("/MKj"),r=n("ANjH"),a=n("vh5K"),s=n("Vzit");function c(e){const t=Object(o.useDispatch)(),n=Object(o.useSelector)(e=>e.experiences.eligibleExperiences),c=Object(o.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(a.c)(n,c,e):null,...Object(i.useMemo)(()=>Object(r.bindActionCreators)({completeExperience:s.a,dismissExperience:s.b,fetchAllExperiences:s.d,fetchAllExperiencesMulti:s.f,fetchExperienceForPlacement:s.c,triggerExperimentsForPlacement:s.k,viewExperience:s.j},t),[t])}}},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},o=function(e,t){e.__listeners=t},r=function(e,t){return!e.__listeners&&t&&o(e,[]),e.__listeners},a=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let o,r,a=[];if("string"==typeof t)for(o=t.split(" "),r=0;r<o.length;r+=1)a.push({name:o[r],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(o=>{a=a.concat(e(o,t[o],i||n))});return a},c=function(e,t,n,i){const o=s(e,t,n);for(let r=0;r<o.length;r+=1)i(o[r])},l=function(e,t){const n=a(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const i=r(e,!0);for(let o=0;o<n.length;o+=1){const e=n[o];if(!e.callback)return;l(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const i=a(this,!1);if(void 0===i)return this;const o=Object.keys(i);let r=s(e,t,n);0===r.length&&(r=[{name:null,callback:t,context:n}]);for(let a=0;a<r.length;a+=1){const e=r[a];let t;t=e.name?[e.name]:o;for(let n=0;n<t.length;n+=1){const o=t[n],r=i[o];if(void 0!==r){const t=[];for(let n=0;n<r.length;n+=1){const i=r[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[o]=t}}}return this},n.trigger=function(e,...t){const n=a(this,!1);if(void 0===n)return this;let i,o,r;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const a=n.all,c=s[i],l=n[c];if(void 0!==l)for(o=0;o<l.length;o+=1)if(r=l[o],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:t});else if(r.callback)throw new Error("Callbacks must be functions");if(void 0!==a)for(o=0;o<a.length;o+=1)if(r=a[o],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:[c].concat(t)});else if(r.callback)throw new Error("Callbacks must be functions");for(o=0;o<e.length;o+=1)r=e[o],r.fn.apply(r.context,r.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const o=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,o),this},n.stopListening=function(e,t,n){const i=r(this,!1);let a,c,l;if(!i)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<i.length;c+=1)if(a=i[c],a.obj!==e&&e)d.push(a);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];a.event.name===t.name&&a.originalCallback===t.callback&&(e=!0)}e?a.obj.off(a.event.name,a.event.callback,a.event.context):d.push(a)}else a.obj.off(a.event.name,a.event.callback,a.event.context);return o(this,d),this},e.exports=n},BEAQ:function(e,t,n){n.r(t),n.d(t,"getPlaylistSourceSrc",(function(){return l})),n.d(t,"default",(function(){return d}));var i=n("q1tI"),o=n("PioT"),r=n("TqFJ"),a=n("aFfM"),s=(n("n6mq"),n("nKUr"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class d extends i.PureComponent{constructor(e){super(e),c(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),c(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),c(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=l(e.src);this.state={useHlsVideo:!e.preferMp4&&!o.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:b,loop:f,objectFit:m,onDurationChange:g,onEnded:j,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:P,onVolumeChange:E,playbackRate:I,playing:C,playsInline:R,poster:k,preferMp4:D,preload:A,src:L,videoStartTime:N,visible:B,volume:M}=this.props,{useHlsVideo:U}=this.state,F=l(L),V={...b,startPosition:N||-1},G=!j&&f;return U&&F?Object(s.jsx)(a.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:V,loop:f,loopOveride:G,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:P,onVolumeChange:E,playbackRate:I,playing:C,playsInline:R,poster:k,preload:A,setVideoRef:this.setVideoPlayerRef,src:F,visible:B,volume:M}):Object(s.jsx)(r.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:c,aspectRatio:d,captions:u,contextLogData:h,controls:p,loop:f,loopOveride:G,objectFit:m,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:y,onLoadedChange:O,onPause:v,onPlay:_,onPlayheadDown:x,onPlayheadUp:S,onReady:w,onSeek:T,onTimeChange:P,onVolumeChange:E,playbackRate:I,playing:C,playsInline:R,poster:k,preload:A,setVideoRef:this.setVideoPlayerRef,src:D?L:F||L,videoStartTime:N,visible:B,volume:M})}}},BUdX:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("sErn"),o=n("+NLT"),r=n("jZXB");let a=null;const s={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(a)return a;const e=s.fromDesktopContextProps({context:o.a.instance,...Object(i.a)(o.a.instance)});var t;return t=o.a.instance,0!==Object.keys(t).length&&(a=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.a,advertiser:null,legacyAdvertiser:null})}},BcL7:function(e,t,n){var i=n("La7j"),o=n("xBNU"),r=n.n(o);const a={getInstance(){const e=r.a.experiments;return new i.a(null==e?void 0:e.active,null==e?void 0:e.triggerable)}};t.a=a},BcvT:function(e,t,n){var i=n("q1tI"),o=n("nKUr");function r({anchor:e,children:t,zIndex:n}){const r=Object(i.useRef)(null),[a,s]=Object(i.useState)(0),[c,l]=Object(i.useState)(0),{height:d,width:u}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=r;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(d,u,e,n);s(i),l(o)}},[d,u,r.current]),Object(o.jsx)("div",{ref:r,style:{left:a,position:"absolute",top:c,zIndex:n},children:t})}var a=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:s,size:c,zIndex:l}=e;return t?Object(o.jsx)(r,{anchor:t,zIndex:l,children:Object(o.jsx)(a.bb,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:Object(o.jsx)(a.M,{paused:s,size:c})})}):null}},BiGR:function(e,t,n){var i=n("nmnc"),o=n("03A+"),r=n("Z0cm"),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(a&&e&&e[a])}},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},C2V2:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var i=n("nj6m"),o=n("foga"),r=n("Ofms"),a=n("yweb"),s=n("vvax"),c=n("XRfM"),l=n("pLLR"),d=n("n6mq"),u=n("nKUr");function h({count:e,ratingValue:t}){return Boolean(t&&"None"!==t&&!!e)}function p({count:e,countFormat:t,textSize:n}){const{locale:i}=Object(l.d)(),o=Object(a.c)();return Object(u.jsx)(d.cb,{size:n,children:Object(u.jsx)(r.a,{id:"ratings-count-text",display:"inlineBlock",children:"text"===t?Object(s.b)(o.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):Object(c.g)(i,e,{shortform:!0,shortform_maximum_fraction_digits:1})})})}function b({count:e,countFormat:t,ratingTextSize:n,ratingValue:r,shippingInfo:a,showDot:s}){const c=h({count:e,ratingValue:r}),{free_shipping_price:l,free_shipping_value:d}=a||{},b=c&&!!r&&Object(u.jsx)(i.a,{rating:r,width:12});return{rating:b&&c&&!!e&&Object(u.jsx)(p,{count:e,countFormat:t,textSize:n}),shipping:Number.isFinite(d)&&Object(u.jsx)(o.a,{freeShippingPrice:l,freeShippingValue:d,dot:s?" ":""}),stars:b}}function f({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const{rating:o,shipping:r,stars:a}=b({count:e,countFormat:t,ratingTextSize:"md",ratingValue:n,shippingInfo:i,showDot:!1});return Object(u.jsxs)(d.f,{display:"flex",direction:"column",marginTop:1,children:[Object(u.jsxs)(d.u,{alignItems:"center",direction:"row",justifyContent:"start",children:[a,o&&Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{marginLeft:"number"===t?"5px":""}},display:"inlineBlock",children:o})]}),r&&Object(u.jsx)(d.f,{marginTop:a?1:0,children:Object(u.jsx)(d.cb,{color:"gray",size:"md",children:r})})]})}function m({count:e,countFormat:t,ratingValue:n,shippingInfo:i}){const o=h({count:e,ratingValue:n}),{rating:r,shipping:a,stars:s}=b({count:e,countFormat:t,ratingTextSize:"lg",ratingValue:n,shippingInfo:i,showDot:o});return Object(u.jsxs)(d.f,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[s,r,a&&Object(u.jsx)(d.f,{marginStart:s?1:0,children:Object(u.jsx)(d.cb,{color:"darkGray",size:"lg",children:a})})]})}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("geGc"),r=n("TqAR"),a=n("TgLd"),s=n("oVol"),c=n("U4JR"),l=n("Sp3T"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=({children:e})=>e(Object(l.a)({shouldStopEventPropagation:!1}));class b extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:a,board:c,sendType:l,url:d,fullName:h,profileUrl:p,viewParameter:b,viewType:f,onExternalSend:m,showCaret:g,todayArticle:j}=this.props;let y={description:e,id:i,imageUrl:n,name:"",type:s.a.PIN,url:`/pin/${i}/`},O=s.a.PIN;switch(l){case"user":y={description:e,id:a,imageUrl:n,name:h,type:s.a.PINNER,url:p},O=s.a.USER;break;case"board":y=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:s.a.BOARD,url:c.url},O=s.a.BOARD;break;case"today_article":y=j&&{description:j.subtitle||"",id:j.id,imageUrl:n,name:j.title,type:s.a.TODAY_ARTICLE,url:Object(r.i)(j)},O=s.a.TODAY_ARTICLE;break;case"search":y={...y,type:s.a.SEARCH,url:d},O=s.a.SEARCH}const v={isFlyout:!0,onHide:this.onHide,onExternalSend:m,sendType:O,sharedObject:y,viewParameter:b,viewType:f};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:Object(u.jsx)(o.default,{...v})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(c.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:o,idealDirection:r,onDismiss:s,showCaret:c,children:l}=this.flyoutProps();return Object(u.jsxs)("div",{style:{pointerEvents:"auto"},children:[Object(u.jsx)(d.f,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(p,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:t(e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.A,{children:Object(u.jsx)(d.f,{zIndex:t?a.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.L,{anchor:o,idealDirection:r,onDismiss:s,showCaret:c,size:"xl",positionRelativeToAnchor:!1,children:l})})}):Object(u.jsx)(d.L,{anchor:o,idealDirection:r,onDismiss:s,showCaret:c,size:"xl",children:l}))]})}}h(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},Cr6c:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,bgColor:i,iconColor:c,dangerouslySetSvgPath:l,disabled:d,href:u,icon:h,onClick:p,padding:b,size:f,tabIndex:m,target:g}=e,j=o.a.isOffsiteUrl(u);return Object(s.jsx)(r.a,{href:u,target:j?null:g,children:({handleClick:e})=>Object(s.jsx)(a.x,{accessibilityLabel:n,bgColor:i,iconColor:c,dangerouslySetSvgPath:l,disabled:d,href:u,icon:h,onClick:({event:t,disableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},padding:b,ref:t,rel:j?"nofollow":void 0,role:"link",size:f,tabIndex:m})})});c.displayName="IconButtonLink",t.a=c},DBaX:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function c(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function l(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}))},"Dw+G":function(e,t,n){var i=n("juv8"),o=n("mTTR");e.exports=function(e,t){return e&&i(t,o(t),e)}},DzJC:function(e,t,n){var i=n("sEfC"),o=n("GoyQ");e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:r,maxWait:t,trailing:a})}},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),o=n("28DW"),r=n("n6mq"),a=n("U4JR"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:r,viewParameter:s,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(o.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(a.b)(82,{objectId:r,view:c||3,viewParameter:s||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,o=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(s.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&Object(s.jsx)(r.f,{display:"none",children:Object(s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,"a",(function(){return i}))},EEGq:function(e,t,n){var i=n("juv8"),o=n("oCl/");e.exports=function(e,t){return i(e,o(e),t)}},ENhS:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.e)(e),l=Object(r.f)(e);let d;if(Object(r.i)(s)&&s){const{video_list:e={}}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m}));var i=n("JW66"),o=n("BcL7"),r=n("ynlw"),a=n("eBDd"),s=n("vvax"),c=n("VpfY"),l=n("n6mq"),d=n("nKUr");const u=()=>["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function h(e,t){var n,a,s;if(!t.isAuth)return!1;const l=Object(c.c)(e)||Object(c.d)(e),d=(null===(n=e.board)||void 0===n?void 0:n.privacy)===i.a.BoardPrivacy.PUBLIC,h=(null===(a=e.board)||void 0===a?void 0:a.privacy)===i.a.BoardPrivacy.PROTECTED,p=(u()&&h||d)&&!e.is_repin&&(null===(s=e.pinner)||void 0===s?void 0:s.id)===t.id,{isStoryPin:b}=Object(r.a)(e);return l&&(!h||u())||t.isPartner&&p||["employees","enabled"].includes(o.a.getInstance().v2ActivateExperiment("web_ps4p"))&&b&&p}function p(e,t,n){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function b(e,t,n,i){const{isStoryPin:o,isVideo:a}=Object(r.a)(e),u=Object(c.c)(e),h=Object(c.d)(e)&&(o||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),b=(new Date).getTime()-p.getTime(),f=Math.floor(b/36e5),m=h?h["24h_realtime"].is_realtime:null,g=h?h["24h_realtime"].timestamp:null;let j=null;h&&(j=o||a?h.all_time_realtime.timestamp:h["30d_realtime"].timestamp);const y=j!==g,O=e=>Object(s.b)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),v={timeframe:"",lastUpdated:""};if(h)if(m){const e=h["24h_realtime"].impression>=(o||a?h.all_time_realtime.impression:h["30d_realtime"].impression);v.timeframe=e?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):o||a?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||f>48)if(o||a){const e=i(h.all_time_realtime.timestamp);v.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),v.lastUpdated=O(e)}else{const e=i(h["30d_realtime"].timestamp);v.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),v.lastUpdated=O(e)}else{const e=i(h["24h_realtime"].timestamp);v.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),v.lastUpdated=O(e)}else v.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(d.jsxs)(l.f,{alignItems:o||"lg"!==t?"center":void 0,display:o||"lg"!==t?"flex":void 0,children:[Object(d.jsx)(l.cb,{align:"end",color:"gray",size:"sm",children:v.lastUpdated}),(o||["md","sm"].includes(t))&&!!h&&Object(d.jsx)(l.cb,{color:"gray",inline:!0,size:"sm",children:" "}),Object(d.jsx)(l.cb,{align:"end",color:"gray",size:"sm",children:v.timeframe})]})}function f(e,t){return Object(a.a)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function m(e,t){return Object(a.a)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},ESls:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("0rqB"),o=n("pLLR"),r=n("nKUr");function a({activate:e,children:t,isEligible:n,name:a}){return Object(r.jsx)(o.b,{children:o=>Object(r.jsx)(i.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a,children:t})})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var i=n("BUdX");const o=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],r=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],a=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],s=["US","CA"],c=e=>{if(r.includes(e.toUpperCase())){const e=i.a.fromGlobalContext(),{anyEnabled:t}=e.experiments.getWithActivation("advertiser_growth_qp_expansion");return t}return o.includes(e.toUpperCase())},l=e=>a.includes(e.toUpperCase()),d=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach(e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},u=e=>!!e&&s.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},FZoo:function(e,t,n){var i=n("MrPd"),o=n("4uTw"),r=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,d=(t=o(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=s(t[l]),b=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=u){var f=h[p];void 0===(b=c?c(f,p,h):void 0)&&(b=a(f)?f:r(t[l+1])?[]:{})}i(h,p,b),h=h[p]}return e}},FfPP:function(e,t,n){var i=n("idmN"),o=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return o(e,n)}))}},"G35+":function(e,t,n){var i=n("AHhP"),o=n.n(i),r=n("1inl"),a=n("K316"),s=n("fZ0m"),c=n("YYM5"),l=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),h=n("28DW");function p(){}let b;Object.assign(p.prototype,o.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(c.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,o;n&&(i=n.grantedScopes,i=i?i.split(","):[],o=n.userID);const r=i.find(e=>"email"===e),a={id:o};"connected"===e.status&&r?t.success(a):t.error(a),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),o=window.open("/connect/"+e+"/","",i);if(!o)return r.a.showError(l.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=u.a.setInterval(()=>{o.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(a),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(b||(b=new p),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},G6z8:function(e,t,n){var i=n("fR/l"),o=n("oCl/"),r=n("mTTR");e.exports=function(e){return i(e,r,o)}},GNiM:function(e,t,n){var i=n("I01J"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,i,o){t.push(i?o.replace(r,"$1"):n||e)})),t}));e.exports=a},Gi0A:function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,o=60*i,r=60*o,a=24*r,s=30*a,c=365*a},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i=-1,o=5,r=6},"HOY+":function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("jmst"),a=n("BUdX"),s=n("qhFy"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000"}}};function b({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o,pin:r}){const a=Object(c.c)(),{id:s}=r;return Object(d.jsxs)(l.y,{alt:o||a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(d.jsx)(l.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),Object(d.jsxs)(l.f,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s,children:[Object(d.jsx)(l.bb,{rounding:2,children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.w,{accessibilityLabel:a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:h,size:25}),Object(d.jsx)(l.f,{margin:1}),Object(d.jsx)(l.cb,{color:"white",lineClamp:1,weight:"bold",children:a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(d.jsx)(l.f,{margin:3}),Object(d.jsx)(l.bb,{onTap:i,rounding:2,children:Object(d.jsxs)(l.f,{display:"flex",justifyContent:"center",padding:2,children:[Object(d.jsx)(l.w,{accessibilityLabel:a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(d.jsx)(l.f,{margin:1}),Object(d.jsx)(l.cb,{color:"white",lineClamp:1,weight:"bold",children:a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var f=n("51gp"),m=n("Y8Sn");const g=new Map;let j=null;const y=e=>{e.forEach(e=>{const t=g.get(e.target);t&&t(e)})};function O({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:o}){const r=Object(i.useRef)(null);let a=!1;const s=()=>{var t;r.current instanceof HTMLElement&&(t=r.current,g.has(t))&&(a&&(e(!1),a=!1))},c=Object(i.useCallback)(i=>{r.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};j=j||new window.IntersectionObserver(y,i),g.set(e,n),j.observe(e)})(r.current,i,i=>{if(!g.has(r.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,c=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!c;!a&&c?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;a=n,a&&e(!0)})(i):a&&l&&s()})},[r.current]);return Object(i.useEffect)(()=>(c(o),()=>{var e;r.current instanceof HTMLElement&&(s(),e=r.current,j.unobserve(e),g.delete(e))}),[c]),r}var v=n("vZlu");const _=new Set(["ConversationView","TodayTabFeed"]);var x=Object(o.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(v.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:o,lowResOnly:r,highResOnly:a,onLoad:u,onError:h,saved:p,onTimeChange:g,isExperimentalPinRep:j,pin:y,surface:v,playing:x,rootMargin:S,setCurrentVideo:w,viewType:T,viewParameter:P,onVisibilityChanged:E,trackFullVisible:I,inVisibilityChangedHookExperiment:C}){var R,k;const D=Object(c.c)(),[A,L]=Object(i.useState)(!1),[N,B]=Object(i.useState)(!0),M=Object(m.f)(y),U=M&&!y.is_eligible_for_web_closeup,F=j&&M&&y.is_eligible_for_web_closeup&&!_.has(v),V=U||!j||!M,G=O({onVisibilityChanged:E,inAdsDesktopVideoExperiment:e,trackFullVisible:I,rootMargin:S});let H=!x;e&&(H=N,t&&x&&N&&B(!1));const{url:z}=(null===(R=y.images)||void 0===R?void 0:R["236x"])||{},{id:W,is_promoted:q}=y,Y=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),w({pinId:W,isPromoted:Boolean(q),currentTime:0}),L(!1)},[q,W,w]),K=Object(i.useCallback)(()=>{q&&L(F)},[F,q]);if(!y.videos||null===(k=y.videos.video_list)||void 0===k||!k.V_HLSV4)return null;const{height:X,thumbnail:$,width:Z,url:J}=y.videos.video_list.V_HLSV4||{},Q=y.videos.id,ee=[{type:"video/m3u8",src:J}];return A&&M?Object(d.jsx)(l.f,{ref:C?G:null,children:Object(d.jsx)(b,{backgroundImage:null!=z?z:"",naturalHeight:null!=X?X:1,naturalWidth:null!=Z?Z:1,pin:y,onRestartVideo:Y})}):H?Object(d.jsx)(l.f,{ref:C?G:null,children:Object(d.jsx)(s.b,{lowResOnly:r,highResOnly:a,onLoad:u,onError:h,pin:y,saved:p})}):Object(d.jsx)(l.f,{ref:C?G:null,children:Object(d.jsx)(f.a,{cropHeight:n,rootMargin:S,surface:v,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:P,component:0,objectId:y.id,video_id:Q,view:T},accessibilityMaximizeLabel:D._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:D._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:D._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:D._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:D._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:D._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=Z?Z:1)/(null!=X?X:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:V,onTimeChange:g,playing:x,poster:z||$,src:null!=ee?ee:[],videoStartTime:o,volume:0,onEnded:K})})}));function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(r.a)(x);class T extends i.Component{constructor(...e){super(...e),S(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,o=Object(m.b)(i,n);return this.currentVideoCurrentTime||o||e}),S(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:a,is_promoted:s}=n,c=Object(m.j)(a,r),l=Object(m.a)(a,r);e?s?i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):l&&i({pinId:a,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:a,isPromoted:Boolean(s),currentTime:t||this.currentVideoCurrentTime})}),S(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:o}=t;Object(m.j)(o,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:o,pin:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=r,d=Object(m.j)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:Boolean(l),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:o,is_promoted:r}=n;Object(m.j)(o,i)&&t({pinId:o,isPromoted:Boolean(r),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:i,videosAutoplaying:o,viewParameter:r,viewType:s,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,inAdsDesktopVideoExperiment:b,isExperimentalPinRep:f,rootMargin:g}=this.props,{id:j}=n,y=Object(m.b)(j,o),O=Object(m.j)(j,o)&&t,v=a.a.fromGlobalContext(),{anyEnabled:_}=v.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return _?Object(d.jsx)(x,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:O,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,isExperimentalPinRep:f,inVisibilityChangedHookExperiment:_}):Object(d.jsx)(w,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:O,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:u,onLoad:h,saved:p,isExperimentalPinRep:f})}}t.a=Object(o.connect)(e=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),e=>({pauseAutoplay:t=>e(Object(v.a)(t)),setCurrentVideo:t=>e(Object(v.c)(t))}))(T)},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("n6mq"),o=n("nKUr");function r({children:e,additionalStyles:t={}}){return Object(o.jsx)(i.f,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},IWjZ:function(e,t,n){var i=n("xkL+"),o=n("isp9"),r=n("EC67");t.a=e=>{const t=Object(r.i)(),n=Object(i.b)(),a=Object(r.k)("/:username");if(Object(o.R)(t))return!1;if(Object(o.H)(t))return!0;const s=e.concat(n.isAuth?{user:{username:n.username},id:n.id}:{}).find(e=>{var t;const{user:n={}}=e||{},{username:i}=n;return i===(null==a||null===(t=a.params)||void 0===t?void 0:t.username)});return!!s&&s.id}},JRj3:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},JZM8:function(e,t,n){var i=n("FfPP"),o=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=o},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},K316:function(e,t,n){var i=n("mBfy");t.a=()=>i.default.isAuthenticated()&&!!i.default.attributes.facebook_id&&!i.default.isLimitedLogin()},KFEb:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l}));var i=n("7Ve8"),o=n("5f3z"),r=n("qtKf");const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},s={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:Object(r.c)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:r,query_pin_sigs:s,query:c,user:l},data:d})=>({type:a.SEARCH_PINS,id:Object(o.b)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:r,query:c,selectedPinImgSig:s,scope:n,user:l}),items:null!=d&&d.results?Object(i.a)(d.results).filteredResults:[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({data:e})=>({type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:e&&e.tabs||[]}),RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({data:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e||[]})},c={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function l(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}t.b=(e=c,t)=>{switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":{const{payload:n}=t;if(!n.options.redux_normalize_feed)return e;const{type:i,id:o,items:r,reversed:c}=s[n.name](n);let l=(r||n.data||[]).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i));c&&(l=l.reverse());const d=e[i][o];if(d||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){const n=d||[];let r=l;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(r=c?l.concat(n):n.concat(l)),{...e,[i]:{...e[i],[o]:r}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:s}}=t,c=e[n]||{},d=c[i]||[];let u=-1,h=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=d.findIndex(e=>e.type===o&&e.id===s),h=d.findIndex(e=>e.type===o&&e.id===r)),-1!==u&&-1!==h)return{...e,[n]:{...c,[i]:l(d,u,h)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:r,itemIds:s=[]}}=t,c=e[n]||{},l=c[i];if(l&&l.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))}),a=!!t.find(e=>"pin"===e.type);return{...e,[n]:{...c,[i]:a?t:[]}}}if(l&&l.length>0&&n===a.BOARD_SECTIONS){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&t)});return{...e,[n]:{...c,[i]:t}}}if(l&&l.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=l.filter(e=>{const t=s.includes(e.id);return!(e.type===r&&t)});return{...e,[n]:{...c,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:r=[],prepend:s}}=t,c=e[n]||{},l=c[i];if(l&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=r.map(e=>({id:e,type:o}));let a=0;"story"===(l[0]||{}).type&&(a=1),"story"===(l[1]||{}).type&&(a=2);const s=[...l.slice(0,a),...t,...l.slice(a)];return{...e,[n]:{...c,[i]:s}}}if(l&&n===a.BOARD_SECTIONS){const t=[...r].reverse().map(e=>({id:e,type:"board_section"})),o=l?[...t,...l]:[...t];return{...e,[n]:{...c,[i]:o}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=r.map(e=>({id:e,type:o})),a=l?[...s?t:l,...s?l:t]:t;return{...e,[n]:{...c,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=r.map(e=>({id:e,type:o})),a=l?[...t,...l]:t;return{...e,[n]:{...e[n],[i]:a}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=e[n]||{};if(o[i])return{...e,[n]:{...o,[i]:null}};break}}return e}},La7j:function(e,t,n){t.a=n("kugi").default},Lic6:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("7w6Q"),o=n("Xy1J");const r=["isCellular","videoUrl","sessionMark"];let a={},s="";const c=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:o,isBot:r,isMobile:c,isSocialBot:l,view:d="unknown",viewParameter:u="unknown"}=e;s=(l?"socialBot":r&&"bot")||"nonbot";const h=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(i);a={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,isMobile:c,region:h,view:d,viewParameter:u}};function l(e,t,n,o={}){const r=n?"closeup":"nonCloseup",c=t?"hls":"nonHls",l={...o,...a},d=`web.video.${c}.${s}.${r}.${e}`;i.a.increment(d,1,l)}function d(e,t,n,c={}){const l=n?"closeup":"nonCloseup",d=t?"hls":"nonHls",u=e.sessionMark===o.f?"sessionStart":"sessionEnd",h={...c,...a};if(Object.entries(e).forEach(([t,n])=>{const o=`web.video.${d}.${s}.${l}.${u}.${t}`,a=parseInt(n,10),c="number"==typeof a?a:-1;var p;if(!r.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:r}=e;i.a.increment(o,1,{errorCode:t,errorName:n,errorReason:r,...h})}else if(t.includes("Width")||t.includes("Height")){const e=(p=c)<0?"negative":0===p?"zero":p<200?"xs":p<400?"s":p<600?"m":p<800?"l":p<1e3?"xl":p<1200?"xxl":"over1200";i.a.increment(o,1,{dimensionBucket:e,...h})}else if("numberOfStalls"===t){let e=n;c>1e3?e="over1000":c>10?e="over10":c<0&&(e="negative"),i.a.increment(o,1,{numberOfStalls:e,...h})}else"screenPixelScale"===t?i.a.increment(o,1,{screenPixelScale:n||-1,...h}):c>=0?(0===c&&i.a.increment(o+".zero",1,h),i.a.timing(o,c,1),i.a.timing(o+"_with_tags",c,1,h)):c<0&&i.a.increment(o+".negative",1,h)}),e.sessionMark!==o.f){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:o,startupVariantWidth:r,startupPlayerWidth:a}=e,c=`web.video.${d}.${s}.${l}.${u}`;if("number"==typeof r&&"number"==typeof a&&"number"==typeof n){const e=1.5*r>n*a;i.a.increment(`${c}.upscaled.${e?"good":"bad"}`,1,h)}"number"==typeof o&&i.a.increment(`${c}.startupLatency.${o<500?"good":"bad"}`,1,h),"number"==typeof t&&i.a.increment(`${c}.rebufferRate.${t<.01?"good":"bad"}`,1,h)}}},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),o=n("+NLT"),r=n("K316"),a=n("TvzZ"),s=n("Jr++"),c=n("JZM8"),l=n.n(c),d=n("eOdZ"),u=n("zwad");const h={open(e){const t=l()(e,h._validParams),n=h._getDialogType(e),o=h.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let p=Object(i.a)(e.path);const b=Object(s.a)();if(b.ptrf&&(p=u.a.appendQueryString(p,{ptrf:b.ptrf})),c&&(p=u.a.appendQueryString(p,{fb_ref:o})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),Object(a.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,o=10;const r=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(r),i&&h.executeMessengerCallback(i,e.callback)),o-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{c&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:o}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},r.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return o.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((o-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}};t.default=h},MKeS:function(e,t,n){n.d(t,"b",(function(){return P}));var i=n("q1tI"),o=n.n(i);function r(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n("TOwV"),l=n("2mql"),d=n.n(l);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var p=o.a.createContext();function b(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var f={initialChunks:{}},m="PENDING",g="REJECTED";var j=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?j:t,i=e.render,l=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),b={};function j(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function y(e,i,o){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!Object(c.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(o,r,{preload:!0}),r}var O,v=function(e){var n,o;function c(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:j(n)},u(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),s(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&f.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}o=e,(n=c).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o,c.getDerivedStateFromProps=function(e,t){var n=j(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=c.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return j(this.props)},d.getCache=function(){return b[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),b[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;l&&setTimeout((function(){l(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=y(h.requireSync(this.props),this.props,x);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=y(t,e.props,{Loadable:x});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,r(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(n)).status=m,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),i.status=g}))),i},d.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,r(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,d=c.loading,u=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(l)throw l;var h=o||t.fallback||null;return d?h:i({fallback:h,result:u,options:t,props:a({},s,{ref:n})})},c}(o.a.Component),_=(O=v,function(e){return o.a.createElement(p.Consumer,null,(function(t){return o.a.createElement(O,Object.assign({__chunkExtractor:t},e))}))}),x=o.a.forwardRef((function(e,t){return o.a.createElement(_,Object.assign({forwardedRef:t},e))}));return x.preload=function(e){h.requireAsync(e)},x.load=function(e){return h.requireAsync(e)},x}return{loadable:h,lazy:function(e,t){return h(e,a({},t,{suspense:!0}))}}}var O=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.a.createElement(t,n)}}),v=O.loadable,_=O.lazy,x=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=x.loadable,w=x.lazy,T="undefined"!=typeof window;function P(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!T)return h("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(T){var r=b(i),a=document.getElementById(r);if(a){o=JSON.parse(a.textContent);var s=document.getElementById(r+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){f.initialChunks[e]=!0}))}}if(!o)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){o.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(c||(c=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var E=v;E.lib=S,_.lib=w;t.a=E},MNxV:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("XRfM"),o=n("pLLR"),r=n("nKUr");const a=i.c.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>Object(r.jsx)(o.b,{children:o=>i.c.formatDate(o.locale,n,e,t)})},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},Mulp:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("yweb"),o=n("vvax"),r=n("n6mq"),a=n("QAzJ"),s=n("nKUr");const c=[0,2,3];function l({hasAffiliateProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:l,textWeight:d}){const u=Object(i.c)(),h=Object(a.a)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let p;t?p=Object(o.b)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:n}):l||0===l?p=n&&!c.includes(l)?Object(o.b)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:n}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(p=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const b=h&&!t?"Ad  ":"";return Object(s.jsxs)(r.cb,{inline:!0,size:"md",weight:d,children:[b,p]})}},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e,t){const{isProduct:n}=Object(i.a)(e);return(n||"ShoppingWishlist"===t&&Object(o.i)(e))&&Object(o.c)(e)||""}},NdXn:function(e,t,n){function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,"a",(function(){return i}))},OBhP:function(e,t,n){var i=n("fmRc"),o=n("gFfm"),r=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),d=n("VOtZ"),u=n("EEGq"),h=n("qZTm"),p=n("G6z8"),b=n("QqLw"),f=n("yHx3"),m=n("wrZu"),g=n("+iFO"),j=n("Z0cm"),y=n("DSRE"),O=n("zEVN"),v=n("GoyQ"),_=n("1+5i"),x=n("7GkX"),S=n("mTTR"),w="[object Arguments]",T="[object Function]",P="[object Object]",E={};E[w]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[P]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[T]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,I,C,R,k){var D,A=1&n,L=2&n,N=4&n;if(I&&(D=R?I(t,C,R,k):I(t)),void 0!==D)return D;if(!v(t))return t;var B=j(t);if(B){if(D=f(t),!A)return l(t,D)}else{var M=b(t),U=M==T||"[object GeneratorFunction]"==M;if(y(t))return c(t,A);if(M==P||M==w||U&&!R){if(D=L||U?{}:g(t),!A)return L?u(t,s(D,t)):d(t,a(D,t))}else{if(!E[M])return R?t:{};D=m(t,M,A)}}k||(k=new i);var F=k.get(t);if(F)return F;k.set(t,D),_(t)?t.forEach((function(i){D.add(e(i,n,I,i,t,k))})):O(t)&&t.forEach((function(i,o){D.set(o,e(i,n,I,o,t,k))}));var V=B?void 0:(N?L?p:h:L?S:x)(t);return o(V||t,(function(i,o){V&&(i=t[o=i]),r(D,o,e(i,n,I,o,t,k))})),D}},OkGA:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const i="numSearchCloseups",o=20},PNKV:function(e,t,n){},PioT:function(e,t,n){var i=n("+NLT"),o=n("3Qy3");n.d(t,"a",(function(){return o.a}));const r={getBrowser:()=>Object(o.b)(i.a.instance.browser_name||""),isSafari(){return this.getBrowser()===o.a.SAFARI},isChrome(){return this.getBrowser()===o.a.CHROME},isFirefox(){return this.getBrowser()===o.a.FIREFOX},isEdge(){return this.getBrowser()===o.a.EDGE}};t.b=r},PzwE:function(e,t,n){function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return i}))},QO9Q:function(e,t,n){var i=n("QAzJ"),o=n("lIqH");t.a=()=>{const e=Object(i.a)("web_m10n_business_access_orbac_www"),t=Object(o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),o=n("Ep0g"),r=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(o.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(r.d)({user:e})&&!Object(r.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},"T+9/":function(e,t,n){var i=n("q1tI"),o=n("i8i4"),r=n("/MKj"),a=n("6/Sz"),s=n("D2p8"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),l(this,"trackImpression",()=>{try{this.node=Object(o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),l(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:u,objectIdStr:h,slotIndex:p,trackCarousel:b,viewData:f,viewParameter:m,viewType:g}=this.props,j=d[l],y=j.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,v={endTime:e.endTime,[y]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:O};if(b||Object(c.b)(j.eventType,{closeup_navigation_type:i,component:o,element:a,eventData:{[j.impressionType]:[v]},objectIdStr:h,view:g,viewData:f||{},viewParameter:m,...r}),t&&b){const{carousel_slots:e,index:n=0,id:i}=t;Object(c.b)(7352,{component:o,eventData:{pinCarouselSlotImpressions:[{...v,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:h,view:g,viewData:f||{},viewParameter:m,...r})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(a.a)(n)}}),()=>({}))(u)},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||null!=r&&r.is_collaborative&&r.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}))},TNox:function(e,t,n){var i=n("q1tI"),o=n("zwad"),r=n("gqRH"),a=n("n6mq"),s=n("nKUr");const c=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,disabled:c,fullHeight:l,fullWidth:d,href:u,onTap:h,onBlur:p,onFocus:b,onMouseEnter:f,onMouseLeave:m,mouseCursor:g,rounding:j,tabIndex:y,tapStyle:O,target:v}=e,_=o.a.isOffsiteUrl(u);return Object(s.jsx)(r.a,{href:u,target:_?null:v,children:({handleClick:e})=>Object(s.jsx)(a.bb,{accessibilityLabel:n,disabled:c,href:u,fullHeight:l,fullWidth:d,mouseCursor:g,onTap:({event:t,disableOnNavigation:n})=>{n(),null==h||h({event:t}),e({event:t})},onBlur:p,onFocus:b,onMouseEnter:f,onMouseLeave:m,ref:t,rel:_?"nofollow":void 0,role:"link",rounding:j,tabIndex:y,tapStyle:O,children:i})})});c.displayName="TapAreaLink",t.a=c},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te6n:function(e,t,n){n.r(t),n.d(t,"default",(function(){return g}));var i=n("q1tI"),o=n("/MKj"),r=n("ENn1"),a=n("jCsw"),s=n("5871"),c=n("Zxas"),l=n("yweb"),d=n("kVqD"),u=n("YxyV"),h=n("DJoW"),p=n("Y8Sn"),b=n("gD/Z"),f=n("n6mq"),m=n("nKUr");function g({feedbackData:e,feedbackType:t,pin:n,pinTitle:g,setForcePrimary:j,transparentBackground:y}){const O=Object(l.c)(),v=Object(o.useDispatch)(),{viewParameter:_,viewType:x}=Object(b.b)(),[S,w]=Object(i.useState)(!1),[T,P]=Object(i.useState)(),{ad_match_reason:E,show_ad_reasons:I,board:C,category:R,description:k,id:D="",images:A,is_promoted:L,pinner:N,promoter:B,recommendation_reason:M,source_interest:U,videos:F}=n;var V;const G=(V=L?60:50,function(e){return Object(c.a)((e||"").trim(),V)})(null!=k?k:""),H=Object(a.a)(A,"236x"),z=Object(p.i)(F),W=Object(d.a)(101,{component:0,element:981,feedback_type:t,objectId:D}),q=()=>{I||(j(!1),v(Object(h.d)(D)),w(!1))};return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(f.f,{"data-test-id":"feedback-button",ref:P,children:Object(m.jsx)(f.x,{accessibilityLabel:O._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{S?q():(j(!0),w(!0)),W()},size:"sm"})}),S&&Object(m.jsx)(f.A,{children:Object(m.jsx)(f.L,{anchor:T,idealDirection:"right",onDismiss:q,positionRelativeToAnchor:!1,size:"md",children:Object(m.jsx)(s.a,{ad_match_reason:E,bestPinImgSrc:Object(u.d)(n),board:C,feedbackData:e,feedbackType:t,hideDownload:z,onLinkClick:()=>{S&&q()},onHide:q,onDownloadHideFlyout:()=>{j(!1),w(!1)},pinCategory:R,pinDescription:G,pinId:D,pinImgSrc:H,pinner:N,pinTitle:g,promoter:B,recommendationReason:M,reportPin:Object(r.a)({pin:n,viewParameter:_,viewType:x}),sourceInterest:U,viewParameter:_,viewType:x})})})]})}},Te9D:function(e,t,n){var i=n("/kAC"),o=n("dt0z"),r=/[&<>"']/g,a=RegExp(r.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(r,i):e}},TqAR:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return g}));var i=n("F2ZA");n("n6mq");const o=408,r=16,a=2*(o+r),s=766,c=1.532,l=45,d=e=>{const{article_creator_user:t,display_type:n,feed_source:o,header_pin_id:r,id:a,title:s,video_pin:c}=e;switch(n){case 0:case 1:return s?Object(i.e)(o,s,a):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return r?`/pin/${r}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}},u=e=>"todayarticle"===e.type,h=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),p=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),b=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),f=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)},m=["736x","236x","170x"],g=e=>{for(const n of m){var t;if(null!==(t=e.images)&&void 0!==t&&t[n])return e.images[n]}return null}},TqFJ:function(e,t,n){var i=n("q1tI"),o=n("xkL+"),r=n("U4JR"),a=n("QAzJ"),s=n("pLLR"),c=n("n6mq"),l=n("Lic6"),d=n("Xy1J"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){var t;super(...e),h(this,"state",{canPlayVideo:!1,playbackState:d.g.DEFAULT}),h(this,"componentDidMount",()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;Object(l.c)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(d.f,{initiator:"mount"}))}),h(this,"componentDidUpdate",e=>{const{playing:t,visible:n}=this.props;e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(d.e,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.f,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(d.f,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),h(this,"errorRetryCount",2),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStartPlayTime",null),h(this,"lastStallTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoRefSetTime",null),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:(t=this.props.src,t?"string"==typeof t?t:Array.isArray(t)&&t[0].src?t[0].src:"unsupported_type_"+typeof t:"undefined"),totalStallDurationMs:0}),h(this,"addSegment",()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let o=-1;e&&t&&0===n.length&&(o=e>t?e-t:0);const r=this.videoPlayerRef&&this.videoPlayerRef.video,a={indicatedKbps:-1,duration:r&&r.duration*d.c||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:o,switchBitrateKbps:-1,uri:i,viewportWidth:r&&r.clientWidth||-1,viewportHeight:r&&r.clientHeight||-1,watchedDurationMs:0};n.push(a)}),h(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*d.c:0),h(this,"getVideoResourceTiming",()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),h(this,"handleCanPlayVideo",e=>{const{contextLogData:t={},onReady:n,playing:i,videoStartTime:o}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:a}=this.state;Object(l.c)("handleCanPlayVideo",!1,r,{firstCanPlayEvent:!a,playing:i}),this.playbackPerformance.hasFatalError=!1,a||(this.playbackPerformance.canPlayTime=new Date,null!=o&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=o)),this.setState({canPlayVideo:!0}),n&&n(e)}),h(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,o=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(d.e,{initiator:"videoEnded",loop:t}),this.setState({playbackState:d.g.ENDED}),n&&n(e)}),h(this,"handleError",()=>{var e,t,n,i,o,r,a,s;const{contextLogData:c={}}=this.props,{is_closeup_video:u=!1}=c,h=this.videoPlayerRef&&this.videoPlayerRef.video;(null==h||null===(e=h.error)||void 0===e?void 0:e.code)!==d.d.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==h||null===(t=h.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==h||null===(n=h.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==h||null===(i=h.error)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==h||null===(r=h.error)||void 0===r||null===(a=r.message)||void 0===a?void 0:a.slice(0,100))||"unknown";const p={errorRecoveryGroup:this.props.errorRecoveryGroup||"null",errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==h?void 0:h.networkState)||"unknown"};if(Object(l.c)("fatalError",!1,u,p),this.props.errorRecoveryGroup.startsWith("enabled"))switch(null==h||null===(s=h.error)||void 0===s?void 0:s.code){case d.d.MEDIA_ERR_ABORTED:break;case d.d.MEDIA_ERR_NETWORK:case d.d.MEDIA_ERR_DECODE:case d.d.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==h||h.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:d.g.FAILED})}),h(this,"handleLoadedMetadata",()=>{this.setState({playbackState:d.g.LOADED_METADATA})}),h(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:d.g.LOAD_START})}),h(this,"handleLoadedData",()=>{this.setState({playbackState:d.g.LOADED_DATA})}),h(this,"handlePlaying",()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:d.g.PLAYING})}),h(this,"handlePause",()=>{this.state.playbackState!==d.g.STALLING&&this.state.playbackState!==d.g.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:d.g.PAUSED})}),h(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==d.g.ENDED&&this.setState({playbackState:d.g.SEEKING})}),h(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==d.g.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:d.g.STALLING}))}),h(this,"handleTimeUpdate",e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===d.g.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),h(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),h(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),h(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),h(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),h(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handlePause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),h(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),h(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),h(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n={},userId:i}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:a,detailedErrors:s,errorCode:c,errorName:u,errorReason:h,hasFatalError:p,loadStartTime:b,numStalls:f,playbackStartTimestamp:m,srcString:g}=this.playbackPerformance,j=this.videoPlayerRef&&this.videoPlayerRef.video,y=e===d.f,O=y&&!this.hasVideoSessionStarted,v=!y&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(j&&(O||v)){var _;let O=-1;a&&b&&(O=a>b?a-b:0);let v=-1;a&&this.videoVisibleTime&&(v=a>this.videoVisibleTime?a-this.videoVisibleTime:0);const x=this.getVideoResourceTiming(),S={averageVideoKbps:-1,detailedErrors:s,downloadedKiloBytes:"number"==typeof(null==x?void 0:x.decodedBodySize)&&x.decodedBodySize/d.b||0,errorCode:c,errorName:u,errorReason:h,fatalError:p,isCellular:!1,nativeVideoDurationMs:j.duration*d.c||-1,numberOfStalls:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:m||-1,segments:[],sessionMark:e,screenPixelScale:null!==(_=window)&&void 0!==_&&_.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:j.clientWidth,startupPlayerHeight:j.clientHeight,startupTimeMs:O,startupLatencyMs:v,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:j.videoWidth,startupVariantHeight:j.videoHeight,videoUrl:g};if(y)this.videoSessionId=Object(d.i)(i),this.playerId=this.playerId||Object(d.h)();else{this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=this.playbackPerformance.segments.reduce((e,t)=>e+(t.watchedDurationMs||0),0);S.rebufferRate=this.playbackPerformance.totalStallDurationMs/e,S.overallWatchedDurationMs=e,S.startupVariantWatchedDurationMs=e,S.segments=this.playbackPerformance.segments}Object(l.a)(S,!1,o,{errorRecoveryGroup:this.props.errorRecoveryGroup||"null",playbackState:this.state.playbackState,...t}),Object(r.b)(3606,{...n,is_closeup_video:o,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:S}}),y?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(l.c)(y?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...t})}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(d.e,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:l,loop:d,loopOveride:h,objectFit:p,onDurationChange:b,onFullscreenChange:f,onLoadedChange:m,onPause:g,onPlay:j,onPlayheadDown:y,onPlayheadUp:O,onSeek:v,onVolumeChange:_,playbackRate:x,playing:S,playsInline:w,poster:T,preload:P,src:E,volume:I}=this.props,{canPlayVideo:C}=this.state;return Object(u.jsx)(c.jb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:l,loop:void 0===h?d:h,objectFit:p,onDurationChange:b,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:f,onLoadedChange:m,onLoadStart:this.handleLoadStart,onPause:g,onPlay:j,onPlaying:this.handlePlaying,onPlayheadDown:y,onPlayheadUp:O,onReady:this.handleCanPlayVideo,onSeek:v,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:x,playing:C&&S,playsInline:w,poster:T,preload:P,ref:this.setVideoPlayerRef,src:E,volume:I})}}t.a=Object(i.memo)((function(e){const t=Object(a.a)("web_mp4_error_recovery")().group,{country:n,isAuthenticated:i,isBot:r,isSocialBot:c,unauthId:d,userAgent:h}=Object(s.d)(),{browserName:b,browserVersion:f,isMobile:m}=h,{contextLogData:g={}}=e,{is_closeup_video:j=!1,view:y,viewParameter:O}=g,v=Object(o.b)(),_={browserName:b,browserVersion:f,country:n,isAuthenticated:i,isBot:r,is_closeup_video:j,isMobile:m,isSocialBot:c,view:y,viewParameter:O};return Object(l.b)(_),Object(u.jsx)(p,{...e,userId:v.id||d,errorRecoveryGroup:t})}))},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),o=n("eOdZ"),r=n("kmwA"),a=n("37no");let s=!1;const c=(e,t,n="en-US")=>{Object(a.c)(Object(i.a)(n),a.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:r.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&c(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){o.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=c},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},UAdG:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),o=n("/MKj"),r=n("fOIk"),a=n("yweb"),s=n("eOdZ");var c=n("n6mq"),l=n("nKUr");function d({favorited:e,favoriteCount:t,onFavorite:n,onUnfavorite:d,pinId:u,size:h}){const p=Object(a.c)(),b=Object(o.useDispatch)(),[f,m]=Object(i.useState)(!1),[g,j]=Object(i.useState)(e),[y,O]=Object(i.useState)(null!=t?t:0),v=async()=>{var e;j(!g),m(!0),g?(O(y-1),await b((e=u,async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),d(),m(!1)):(O(y+1),await b(function(e){return async t=>{await s.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),n(),m(!1))},_=y<10?y:p._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return Object(l.jsxs)(c.u,{alignItems:"center",gap:1,children:[void 0!==t&&y>0&&Object(l.jsx)(c.cb,{size:"md",weight:"bold",children:_}),Object(l.jsx)(r.b,{isDisabled:f,isFavorited:g,onTap:()=>{v()},size:h})]})}},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VJm5:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("T+9/"),a=n("6/Sz"),s=n("rIuN"),c=n("qhFy"),l=n("yweb"),d=n("n6mq"),u=n("yjg8"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=(e,t,n)=>e||`${t._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`,f=(e,t,n,i)=>{if(void 0===n||n===t)return i*t*-1;if(0===i)return 0;const o=Math.floor(.5*(n-t));return i===e-1?i*t*-1+2*o:i*t*-1+o};class m extends i.Component{constructor(...e){super(...e),p(this,"state",{showBadge:!0}),p(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:o,index:r}=e,a=i?.8:0;return!t&&n?Object(h.jsx)(d.f,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:a,transition:"opacity .3s"}},children:Object(h.jsx)(d.cb,{color:"white",children:`${(null!=r?r:0)+1}/${(null!=o?o:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:o}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,widthRatio:o=1,cropHeight:a,cropWidth:l,carouselData:p,disableTransition:m,highResOnly:g,lowResOnly:j,onError:y,onLoad:O,pinId:v,isEditMode:_,isDenseView:x}=this.props;if(!p)return null;if(o>1||o<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const{carousel_slots:S=[],index:w=0}=p,T=void 0!==t?t:w,P=!e&&l,{images:E}=S[T];let I;I=e?i:P||(g?474:x?u.g:u.f);const C=Math.floor(I*o),R=(null==E?void 0:E["236x"])||{},k=a||R.height||0,D=l||R.width||236,A=n||k/D*C,L=(e=>{const t=e.reduce((e,t)=>{var n;const{images:i}=t,{height:o=1,width:r=1}=(null==i?void 0:i["736x"])||(null==i?void 0:i["236x"])||{},a=`${r}x${o}`,s=(null===(n=e[a])||void 0===n?void 0:n.times)||0;return{...e,[a]:{imageHeight:o,imageWidth:r,times:s+1}}},{}),n=Object.keys(t).reduce((e,n)=>t[n].times>e.times?t[n]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null})(S);return Object(h.jsxs)(d.f,{height:A,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a,children:[!_&&this.renderBadge(),Object(h.jsx)(r.a,{trackCarousel:!0,impressionType:"Pin",loggingId:v,slotIndex:w,viewParameter:72,viewType:1,children:Object(h.jsx)(d.f,{position:"absolute",height:A,width:C,overflow:"hidden"})},"carousel-impression-key-"+T),Object(h.jsx)(d.f,{width:C*S.length,dangerouslySetInlineStyle:{__style:{transition:m?"":"left .3s",left:f(S.length,C,I,T)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:S.map((t,n)=>{if(e){const e=n===S.length-1;return(({pinId:e,slot:t,slotIndex:n,onError:i,onLoad:o,widthToUse:r,gap:a},c)=>{const{url:l,width:u,height:p}=Object(s.a)(t)||{},{details:f=""}=t,m=b(f,c,n);return Object(h.jsx)(d.f,{"data-test-id":"carousel-slot-container",width:r,height:"100%",marginEnd:a,children:Object(h.jsx)(d.D,{height:"100%",wash:!0,children:Object(h.jsx)(d.y,{alt:m,fit:"contain",naturalHeight:null!=p?p:1,naturalWidth:null!=u?u:1,onError:i,onLoad:o,src:null!=l?l:""})})},`carousel-slot-${e}-${n}`)})({pinId:v,slot:t,slotIndex:n,onError:y,onLoad:O,widthToUse:C,gap:C<I&&!e?1:0},this.props.i18n)}return((e,t,n,i,o,r,a,s,c,l,u,p,f,m,g)=>{var j,y,O;const{images:v,details:_=""}=t;let x,S=236,w=236,T="";var P,E,I,C,R,k,D,A;if(o?(S=474,w=v&&Math.min(S/.8,S/((null!==(P=null===(E=v["564x"])||void 0===E?void 0:E.width)&&void 0!==P?P:1)/(null!==(I=null===(C=v["564x"])||void 0===C?void 0:C.height)&&void 0!==I?I:1))),T=v&&(null===(R=v["564x"])||void 0===R?void 0:R.url)):v&&v["736x"]?(w=v&&v["736x"]&&v["736x"].height,S=v&&v["736x"]&&v["736x"].width,T=v&&v["736x"]&&v["736x"].url):v&&v["236x"]&&(w=v&&v["236x"]&&v["236x"].height,S=v&&v["236x"]&&v["236x"].width,T=v&&v["236x"]&&v["236x"].url),f&&m&&(w=Math.min(f*m,null!==(k=w)&&void 0!==k?k:1)),r)x=(null!==(D=null==v||null===(A=v["236x"])||void 0===A?void 0:A.url)&&void 0!==D?D:"")+" 1x";else if(o){var L,N;x=(null!==(L=null==v||null===(N=v["564x"])||void 0===N?void 0:N.url)&&void 0!==L?L:"")+" 1x"}else{var B,M,U;x=[(null==v?void 0:v["474x"])&&(null!==(B=v["474x"].url)&&void 0!==B?B:"")+" 2x",(null==v?void 0:v["736x"])&&(null!==(M=v["736x"].url)&&void 0!==M?M:"")+" 3x",(null==v?void 0:v.orig)&&(null!==(U=v.orig.url)&&void 0!==U?U:"")+" 4x"].filter(Boolean).join(", ")}const F=b(_,e,i),V=p?void 0:w,G=p?void 0:S,H=!!g,{boxHeight:z,boxWidth:W}=H?{boxHeight:null==g?void 0:g.imageHeight,boxWidth:null==g?void 0:g.imageWidth}:{boxHeight:V,boxWidth:G};return Object(h.jsx)(d.f,{"data-test-id":"carousel-slot-container",height:z,width:W,children:Object(h.jsx)(d.f,{height:p?u:void 0,width:p||void 0,children:Object(h.jsx)(d.y,{alt:F,fit:p?"cover":"none",naturalHeight:null!==(j=w)&&void 0!==j?j:1,naturalWidth:null!==(y=S)&&void 0!==y?y:1,onError:a,onLoad:s,src:null!==(O=T)&&void 0!==O?O:"",srcSet:x})})},`carousel-slot-${n}-${i}`)})(this.props.i18n,t,v,n,g,j,y,O,0,0,a,l,A,C,L)})})]})}}p(m,"defaultProps",{showCarouselBadge:!0});t.a=Object(o.connect)(({pins:e},{pinId:t,pin:n})=>{const i=e[t]||n;return{carouselData:Object(a.a)(i,{shouldUnifyImageSizes:!1})}},()=>({}))((function(e){const t=Object(l.c)();return Object(h.jsx)(m,{...e,i18n:t})}))},VOtZ:function(e,t,n){var i=n("juv8"),o=n("MvSz");e.exports=function(e,t){return i(e,o(e),t)}},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return b}));var i=n("RHD0"),o=(n("7jH2"),n("Y8Sn"));function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(o.i)(e.videos)&&!Object(o.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function p(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}function b({carouselInfo:e,closePanelWidth:t,isWideVideo:n,isShortImage:i,naturalWidth:o,showCloseupContentRight:r}){return!(n||!r)&&(!!i||!e&&o<t)}},Vt0H:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("PioT"),a=n("51gp"),s=n("XtwW"),c=n("9pre"),l=n("vZlu"),d=n("OSge"),u=n("QAzJ"),h=n("ptXI"),p=n("yweb"),b=n("WnLB"),f=n("y2Ga"),m=n("pf20"),g=n("n6mq"),j=n("nKUr");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),y(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!r.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),y(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!s.a)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:s.a.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(b.e),i.addSubspan("perceived_video_load",null,s.a.now()),i.metricId.segment===b.d&&i.removeConstraint(b.c))}),y(this,"componentDidMount",()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:r}=n&&i||o||{},a=(s=e||r)&&document.querySelector(`video[poster="${s}"]`)||null;var s;4===(null==a?void 0:a.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),y(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),y(this,"handleTouch",()=>{const{seeking:e}=this.state;e||this.setState(e=>({playing:!e.playing}))}),y(this,"handleShowControls",()=>this.setState({controls:!0})),y(this,"handleHideControls",()=>this.setState({controls:!1})),y(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),y(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:o,onEnded:r}=this.props;var a;e.stopPropagation(),o||(this.setState({playing:!1}),(a=t)&&a.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()}),y(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),y(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),y(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),y(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),y(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),y(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),y(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),y(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),y(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),y(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),y(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return i?Object(j.jsx)(h.b,{...r}):Object(j.jsx)(h.a,{...s,...o})})}render(){const{capLevelToPlayerSize:e,contextLogData:t={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:n,isPromoted:i,loop:o,maxLoadingDelay:s,onTimeChange:l,objectFit:u,preferMp4:h,preload:p,showControls:b,startFragPrefetch:f,variant:m,video:y,videoStartTime:O}=this.props;t.is_closeup_video=!0;const{controls:v,fullscreen:_,playing:x,showEndCard:S,volume:w}=this.state,T=r.b.isSafari(),P=y.hlsv3||y.hls||null;if(!P&&!y.mp4)return null;const E=y.mp4,I=!h&&P?[{type:"video/m3u8",src:P.url}]:(E||{}).url,{height:C,thumbnail:R,width:k}=h&&E||P||{},D=n||R;let A;A="default"===m?0:"storyPin"===m?d.e:2;let L={startLevel:c.a};return null!==e&&(L={...L,capLevelToPlayerSize:e}),null!==s&&(L={...L,maxLoadingDelay:s}),null!==f&&(L={...L,startFragPrefetch:f}),Object(j.jsx)(g.D,{willChangeTransform:!(T&&_),rounding:A,wash:!0,children:S?this.renderCloseupVideoEndCard(null!=D?D:"",null!=C?C:1,null!=k?k:1,i):Object(j.jsx)(g.bb,{onMouseEnter:b?this.handleShowControls:void 0,onMouseLeave:b?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:Object(j.jsx)(a.a,{contextLogData:{...t,video_id:this.props.video.id},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=k?k:1)/(null!=C?C:1),captions:"",controls:v,hlsConfig:L,objectFit:u,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:l,onVolumeChange:this.handleVolumeChange,preferMp4:h,playing:x,preload:p,poster:D,src:I,videoStartTime:O,volume:w,loop:o})})})}}y(O,"defaultProps",{loop:!1,showControls:!0});t.a=Object(o.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:a}=o;let s=null;return s=i?a[n]:r[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(l.c)(t))}))((function(e){const t=Object(p.c)(),n=Object(m.b)(),i=Object(f.c)(),o=Object(u.a)("web_hls_max_loading_delay")().group;let r=null;"enabled_500"===o?r=.5:"enabled_1000"===o?r=1:"enabled_1500"===o?r=1.5:"enabled_2000"===o&&(r=2);const a=Object(u.a)("web_hls_cap_level_to_player_size")().group.startsWith("enabled")||null,s=Object(u.a)("web_hls_start_frag_prefetch")().group.startsWith("enabled")||null;return Object(j.jsx)(O,{...e,pwtSurfaceContext:i,capLevelToPlayerSize:a,maxLoadingDelay:r,startFragPrefetch:s,storyPinStepStopwatch:n,i18n:t})}))},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function c(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function l(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,o={},r=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:a}}}function h(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function p(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function b(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function f(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function m(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return m}))},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("Jr++"),o=n("n6mq"),r=n("nKUr");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(i.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(r.jsx)(o.f,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(r.jsx)(o.cb,{color:"white",children:Object(r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},WM6B:function(e,t,n){var i=n("q1tI"),o=n("nKUr");class r extends i.Component{constructor(e){var t,n,o;super(e),o={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.ref=Object(i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",r=i[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},a=n?{display:"inline",...r}:{...r};return i?Object(o.jsx)("div",{ref:this.ref,style:{...a,overflow:"hidden"},children:this.props.children}):Object(o.jsx)("div",{ref:this.ref,style:a,children:this.props.children})}}t.a=r},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const i="story_pin",o="closefakemodal",r="button",a="video",s="image"},WnNx:function(e,t,n){function i(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function o(){return{type:"HIDE_REPIN_ANIMATION"}}function r(){return{type:"SHOW_ACCOUNT_MENU_FLYOUT"}}function a(){return{type:"HIDE_ACCOUNT_MENU_FLYOUT"}}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}))},WwFo:function(e,t,n){var i=n("juv8"),o=n("7GkX");e.exports=function(e,t){return e&&i(t,o(t),e)}},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},XGnz:function(e,t,n){var i=n("CH3K"),o=n("BiGR");e.exports=function e(t,n,r,a,s){var c=-1,l=t.length;for(r||(r=o),s||(s=[]);++c<l;){var d=t[c];n>0&&r(d)?n>1?e(d,n-1,r,a,s):i(s,d):a||(s[s.length]=d)}return s}},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("q1tI");const o=120;function r(e,t=0,n=o){const[r,a]=Object(i.useState)(e?"active":"inactive");return Object(i.useEffect)(()=>{if(!e){const e=setTimeout(()=>a("inactive"),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout(()=>a("active"),t);return()=>{clearTimeout(e)}}a("active")},[e]),r}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,o=800,r=508,a=424,s=278,c=640,l=508,d=1016,u=508},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XhR6:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},r=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},Xuu2:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("1Fta"),o=n("vvax");function r({feedbackOptions:e,pin:t,viewParameter:n},r){const{board:a,pinner:s}=t,{getFeedbackType:c}=Object(i.a)({i18n:r,interpolateNamedTemplate:o.b});return c({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},Xy1J:function(e,t,n){n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return h}));var i=n("7Cbv");const o=1,r=2,a=1e3,s=1e3,c=1e3,l=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+Object(i.a)()}function h(){return Object(i.a)()}},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("c4Fo"),r=n("BcvT"),a=n("n6mq"),s=n("nKUr");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return Object(s.jsx)(a.L,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(a.f,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(a.f,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(a.cb,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(a.f,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>Object(s.jsx)(a.f,{height:60,width:50,paddingX:1,children:Object(s.jsx)(a.D,{rounding:2,height:60,children:Object(s.jsx)(a.y,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:c,flyoutSize:d,fontSize:u,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:b,onClickComplete:f,onClickDismiss:m,placementId:g,positionRelativeToAnchor:j,shouldTimeoutDismiss:y,showCaret:O,textAlign:v,textOverflow:_,textOverrideFn:x,textWeight:S,customizedComplete:w,pulsarZIndex:T}=this.props,P=t||(({children:e})=>p?Object(s.jsx)(a.A,{children:e}):e),E="blue";return Object(s.jsx)(o.a,{experienceIds:n,placementId:g,type:8,children:({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(y&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),o.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[o.has_pulsar&&Object(s.jsx)(r.a,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:T&&T.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?Object(s.jsx)(l,{anchor:e,dismiss:n,idealDirection:h||"down",text:o.text,thumbnails:o.thumbnail_urls}):Object(s.jsx)(P,{children:Object(s.jsx)(a.L,{anchor:e,color:E,idealDirection:h||"down",onDismiss:b?()=>{}:n,positionRelativeToAnchor:!p&&j,shouldFocus:!1,showCaret:O,size:d,children:Object(s.jsxs)(a.f,{column:12,padding:3,children:[Object(s.jsx)(a.cb,{align:"right"===v?"end":v,color:"white",overflow:_,size:u,weight:S||"bold",children:this.getText(o,c,x)}),o.sub_text&&Object(s.jsx)(a.f,{paddingY:2,children:Object(s.jsx)(a.cb,{color:"white",size:u,children:o.sub_text})}),o.complete_button_cta_url&&Object(s.jsx)("div",{children:Object(s.jsx)(a.cb,{align:"right"===v?"end":v,color:"white",size:u,children:Object(s.jsx)(a.C,{href:o.complete_button_cta_url,target:"blank",onClick:({disableOnNavigation:e})=>e(),children:o.complete_button_text})})}),!o.complete_button_cta_url&&(o.dismiss_button_text||o.complete_button_text)&&Object(s.jsxs)(a.f,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&Object(s.jsx)(a.f,{marginEnd:1,column:6,children:Object(s.jsx)(a.g,{fullWidth:!0,color:E,onClick:()=>{m&&m(),n()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&Object(s.jsx)(a.f,{column:o.dismiss_button_text?6:12,children:w?Object(s.jsx)(a.bb,{fullHeight:!0,onTap:()=>{t(),f&&f()},rounding:2,children:Object(s.jsx)(a.f,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(a.cb,{color:"blue",weight:"bold",children:o.complete_button_text})})}):Object(s.jsx)(a.g,{fullWidth:!0,color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),f&&f()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YYM5:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("+NLT");function o(){const e=i.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),o=n("yjg8"),r=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),h=(e,t=!1)=>e&&e.length>0&&!t,p=(e,t,n,i)=>{let o=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!h(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=l.seeMoreButtonHeight,o+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=l.productSiteTitle,o+=l.productSiteTitleTopMargin),h(s,i)&&(o+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);o+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},b=(e,t,n,i=!1,o,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:p(e,0,0,o);return s||c?c+s+10:0},f=(e,t="orig")=>Object(i.a)(e.images,t);function m(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const a=f(e,"orig");if(a){var s,c;const e=Math.floor((null!==(s=a.height)&&void 0!==s?s:1)*o.f/(null!==(c=a.width)&&void 0!==c?c:1));i=e>r?r:e}return i}},ZP0o:function(e,t,n){var i=n("n6mq"),o=n("nKUr");t.a=({children:e})=>Object(o.jsx)(i.f,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:e})},ZWtO:function(e,t,n){var i=n("4uTw"),o=n("9Nap");e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function o(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function r(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function a(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n,o){let r;const a=new Promise((c,d)=>{r=(r,a)=>{const{text:u,pinId:h,boardId:p,userId:b,didItId:f}=t,m=a();function g(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:u,pin:h,board:p,user:b,user_did_it_data:f,source:n}),a=""+l();r(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:u,sender:o,created_at:(new Date).toString(),created_ms:Date.now(),id:a,board:null,event_type:null,pin:h?m.pins[h]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,o;r((n=e,i=a,o=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:o}})),c()}).catch(d)}m.conversations.data[e]?g():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;r(s(t)),g()})},r.getPromise=()=>a});return r}const u=(e,t,n)=>o=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;o(r(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},aFfM:function(e,t,n){var i=n("q1tI"),o=n("ulZh"),r=n.n(o),a=n("xkL+"),s=n("U4JR"),c=n("QAzJ"),l=n("pLLR"),d=n("n6mq"),u=n("Lic6"),h=n("Xy1J"),p=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.PureComponent{constructor(...e){super(...e),b(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.g.DEFAULT}),b(this,"errorRetryCount",1),b(this,"firstFragBuffered",!1),b(this,"hasPlaybackStarted",!1),b(this,"hasVideoSessionStarted",!1),b(this,"hasVideoSessionEnded",!1),b(this,"hls",null),b(this,"fragStartupTime",{}),b(this,"lastLevelSwitchKbps",null),b(this,"lastStallTime",null),b(this,"logSessionStartOnNextPlay",!1),b(this,"playerId",""),b(this,"videoSessionId",""),b(this,"videoVisibleTime",null),b(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0,videoCreatedTime:null}),b(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new r.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(r.a.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(r.a.Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(r.a.Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(r.a.Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(r.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),n.on(r.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(r.a.Events.ERROR,this.handleHlsError),this.hls=n}),b(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),b(this,"addSegment",e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},o="number"==typeof e.level?i[e.level]:{},r=this.fragStartupTime[e.url];let a=-1;r&&r.startLoadTime&&r.endLoadTime&&(a=r.endLoadTime-r.startLoadTime);const s={indicatedKbps:o.bitrate/h.a,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.a||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:o.width,sourceHeight:o.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}}),b(this,"initializeSegments",e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls.levels,o="number"==typeof e.level?n[e.level]:{},r=this.fragStartupTime[e.url];let a=-1;r&&r.startLoadTime&&r.endLoadTime&&(a=r.endLoadTime-r.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.a;const s={indicatedKbps:o.bitrate/h.a,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.a||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:o.width,sourceHeight:o.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(s)}}else Object(u.c)("initializeSegmentsFailed",!0,n)}),b(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.c:null),b(this,"handleCanPlayVideo",e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:o=!1}=t,{canPlayVideo:r}=this.state;Object(u.c)("handleCanPlayVideo",!0,o,{firstCanPlayEvent:!r,playing:i}),this.playbackPerformance.hasFatalError=!1,r||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)}),b(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,o=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.e,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.g.ENDED}),n&&n(e)}),b(this,"handleHlsError",(e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:o=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var a,s,c,l;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorRecoveryGroup:this.props.errorRecoveryGroup,errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(a=t.err)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(c=t.response)||void 0===c||null===(l=c.text)||void 0===l?void 0:l.slice(0,50))||"unknown",playbackState:this.state.playbackState};if(Object(u.c)("fatalError",!0,o,e),this.props.errorRecoveryGroup.startsWith("enabled")&&this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case r.a.ErrorTypes.NETWORK_ERROR:if(t.details===r.a.ErrorDetails.MANIFEST_LOAD_ERROR||t.details===r.a.ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===r.a.ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e}=this.props;null===(d=this.hls)||void 0===d||d.loadSource(e)}else{var p;null===(p=this.hls)||void 0===p||p.startLoad()}break;case r.a.ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.g.FAILED})}),b(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),b(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),b(this,"handleHlsFragLoading",(e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})}),b(this,"handleHlsFragLoaded",(e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.b);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)}),b(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.a)}),b(this,"handleLoadedMetadata",()=>{this.setState({playbackState:h.g.LOADED_METADATA})}),b(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.g.LOAD_START})}),b(this,"handleLoadedData",()=>{this.setState({playbackState:h.g.LOADED_DATA})}),b(this,"handlePlaying",()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.setState({playbackState:h.g.PLAYING})}),b(this,"handlePause",()=>{this.state.playbackState!==h.g.STALLING&&this.state.playbackState!==h.g.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:h.g.PAUSED})}),b(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.g.ENDED&&this.setState({playbackState:h.g.SEEKING})}),b(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==h.g.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:h.g.STALLING})}),b(this,"handleTimeUpdate",e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.g.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),b(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numStalls=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),b(this,"setLastSegmentStartPlayTime",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),b(this,"setLastSegmentPlaybackStartDate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),b(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),b(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handlePause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),b(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),b(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),b(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n={},userId:i}=this.props,{is_closeup_video:o=!1}=n,{canPlayTime:r,detailedErrors:a,downloadedKiloBytes:c,errorCode:l,errorName:d,errorReason:p,hasFatalError:b,playbackStartTimestamp:f,segments:m,srcString:g,loadStartTime:j,numStalls:y}=this.playbackPerformance,O=this.videoPlayerRef&&this.videoPlayerRef.video,v=e===h.f,_=v&&!this.hasVideoSessionStarted,x=!v&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&O&&(_||x)){var S;let _=-1;r&&j&&(_=r>j?r-j:0);let x=-1;r&&this.videoVisibleTime&&(x=r>this.videoVisibleTime?r-this.videoVisibleTime:0);const w={averageVideoKbps:-1,detailedErrors:a,downloadedKiloBytes:c,isCellular:!1,errorCode:l,errorName:d,errorReason:p,fatalError:b,nativeVideoDurationMs:O.duration*h.c||-1,numberOfStalls:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:f||-1,segments:[],sessionMark:e,screenPixelScale:null!==(S=window)&&void 0!==S&&S.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:O.clientWidth,startupPlayerHeight:O.clientHeight,startupTimeMs:_,startupLatencyMs:x,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:O.videoWidth,startupVariantHeight:O.videoHeight,videoUrl:g};if(v)this.videoSessionId=Object(h.i)(i),this.playerId=this.playerId||Object(h.h)();else if(m.length>0){const e=this.hls.levels,t=m[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=m.reduce((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/h.c}return t},0),i=m.reduce((e,t)=>e+(t.watchedDurationMs||0),0);let o=null,r=0,a=0;do{r+=m[a].watchedDurationMs,o=o||m[a].level,a+=1}while(a<m.length&&m[a].level===o);w.startupVariantKbps=t.indicatedKbps,w.startupVariantWatchedDurationMs=r,w.startupVariantWidth=t.sourceWidth,w.startupVariantHeight=t.sourceHeight,w.startupPlayerWidth=t.viewportWidth,w.startupPlayerHeight=t.viewportHeight,w.overallWatchedDurationMs=i,i>0?(w.averageVideoKbps=n/(i/h.c),w.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(w.averageVideoKbps=0,w.rebufferRate=0),w.segments=m}Object(u.a)(w,!0,o,{errorRecoveryGroup:this.props.errorRecoveryGroup||"null",playbackState:this.state.playbackState,...t}),Object(s.b)(3606,{...n,is_closeup_video:o,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:w}}),v?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),Object(u.c)(v?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...t})}})}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(u.c)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.f,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:o}=this.props;var r,a;(typeof(r=e.src)!=typeof(a=i)||(Array.isArray(a)?r.length!==a.length||a.some((e,t)=>!Array.isArray(r)||e.type!==r[t].type||e.src!==r[t].src):a!==r))&&this.initializeHls(),e.visible&&!1===o&&(this.logSessionStartOnNextPlay=!1,this.logPlaybackPerformance(h.e,{initiator:"update",loop:t})),!1===e.visible&&!0===o&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.f,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.f,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(h.e,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:c,loop:l,loopOveride:u,onDurationChange:h,onFullscreenChange:b,onLoadedChange:f,onPause:m,onPlay:g,onPlayheadDown:j,onPlayheadUp:y,onSeek:O,onVolumeChange:v,playbackRate:_,playing:x,playsInline:S,poster:w,preload:T,src:P,volume:E}=this.props,{canPlayVideo:I,isManifestParsed:C}=this.state;return Object(p.jsx)(d.jb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:o,accessibilityUnmuteLabel:r,aspectRatio:a,captions:s,controls:c,loop:void 0===u?l:u,onDurationChange:h,onEnded:this.handleEnded,onFullscreenChange:b,onLoadStart:this.handleLoadStart,onLoadedChange:f,onPause:m,onPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:j,onPlayheadUp:y,onReady:this.handleCanPlayVideo,onSeek:O,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:v,onWaiting:this.handleStalled,playbackRate:_,playing:C&&I&&x,playsInline:S,poster:w,preload:T,ref:this.setVideoPlayerRef,src:P,volume:E})}}t.a=Object(i.memo)((function(e){const t=Object(c.a)("web_hls_error_recovery")().group,{country:n,isAuthenticated:i,isBot:o,isSocialBot:r,unauthId:s,userAgent:d}=Object(l.d)(),{browserName:h,browserVersion:b,isMobile:m}=d,{contextLogData:g={}}=e,{is_closeup_video:j=!1,view:y,viewParameter:O}=g,v=Object(a.b)(),_={browserName:h,browserVersion:b,country:n,isAuthenticated:i,isBot:o,is_closeup_video:j,isMobile:m,isSocialBot:r,view:y,viewParameter:O};return Object(u.b)(_),Object(p.jsx)(f,{...e,userId:v.id||s,errorRecoveryGroup:t})}))},afy1:function(e,t,n){n.d(t,"a",(function(){return o}));const i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function o({isSideBySide:e,isPadded:t}){return e?{...i,borderRadius:t?"16px":"32px 0 0 32px"}:{...i,borderRadius:t?"16px":"32px 32px 0 0"}}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b9Z9:function(e,t,n){n.d(t,"a",(function(){return B}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a({isHorizontalDesign:e}){return e?Object(r.jsxs)(o.f,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.f,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.f,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.f,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(r.jsxs)(o.f,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(r.jsx)(o.f,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[Object(r.jsx)(o.f,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(r.jsx)(o.f,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.f,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("yweb");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>{var t;return null!==(t=e.url)&&void 0!==t?t:""}).filter(Boolean):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>{var t,n,i;return((null===(t=e.images)||void 0===t?void 0:t["136x136"])||(null===(n=e.images)||void 0===n?void 0:n["236x"])||(null===(i=e.images)||void 0===i?void 0:i["736x"])||{}).url}).filter(Boolean),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%",children:!!e&&Object(r.jsx)(o.y,{naturalHeight:1,src:e,fit:"cover",alt:this.props.i18n._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(r.jsx)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:this.getImage(t[0],0)}):2===t.length?Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",children:[this.getImage(t[0],0),Object(r.jsx)(o.f,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[Object(r.jsx)(o.f,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.f,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsx)(o.f,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"row",height:"100%",width:"100%",children:[Object(r.jsx)(o.f,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(r.jsx)(o.f,{color:"white",width:"2px",flex:"none"}),Object(r.jsxs)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:136,children:[Object(r.jsx)(o.f,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(r.jsx)(o.f,{color:"white",height:"2px",flex:"none"}),Object(r.jsx)(o.f,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(r.jsx)(o.u,{alignItems:"stretch",justifyContent:"start",direction:"column",height:136,children:Object(r.jsxs)(o.f,{width:"100%",position:"relative",flex:"grow",children:[Object(r.jsx)(a,{isHorizontalDesign:e}),n,Object(r.jsx)(o.f,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=function(e){const t=Object(s.c)();return Object(r.jsx)(d,{...e,i18n:t})},h=n("FDmi"),p=n("gqRH"),b=n("U4JR");var f=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=i?80:86,u=Object(p.b)({href:a});return Object(r.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(r.jsx)(o.f,{flex:"none",height:d,width:d,children:Object(r.jsx)(o.bb,{onTap:({event:e,disableOnNavigation:t})=>{t(),e.stopPropagation(),function(e,t){Object(b.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}(l,c),u({event:e})},href:a,rounding:"circle",role:"link",children:Object(r.jsx)(h.a,{name:s,src:t,verified:n})})})})},m=n("Zxas");function g({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:a}){const s=a*t,c=Object(m.a)(e,s);return n?Object(r.jsx)(o.cb,{align:i?"start":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(r.jsx)(o.cb,{align:i?"start":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray",children:c})}function j({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(r.jsxs)(o.f,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(r.jsx)(o.f,{height:18,width:"100%",children:Object(r.jsx)(o.cb,{align:n?"start":"center",lineClamp:1,size:n?"lg":"md",weight:"bold",children:i})}),Object(r.jsxs)(o.f,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(r.jsxs)(o.f,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(r.jsx)(o.f,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(r.jsx)(o.f,{height:6,flex:"none"}),Object(r.jsx)(o.f,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(r.jsx)(o.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(r.jsx)(g,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(r.jsx)(o.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(r.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(r.jsx)(o.f,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(r.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var y=n("/MKj"),O=n("oRao"),v=n("vvax");function _({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:a}){const c=Object(s.c)();return i?Object(v.b)(c._("{{ followCount }} {{ followText }}"),{followCount:Object(r.jsx)(o.f,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(r.jsx)(o.cb,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(r.jsx)(O.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(r.jsx)(o.f,{"data-test-id":"followText",display:"inlineBlock",children:Object(r.jsx)(o.cb,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(r.jsx)(o.f,{"data-test-id":"followText",children:Object(r.jsx)(o.cb,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var x=n("M1Uz"),S=n("nGHF"),w=n("ZVOf");var T=Object(y.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(w.a)(t)),unfollow:t=>e(Object(w.c)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:h,imageUrl:p,profileUrl:f}){const m=Object(s.c)(),{showOneToast:g}=Object(S.b)(),j=a?m._("Following","User follow button","User follow button"):m._("Follow","User follow button","User follow button"),y=e=>Object(b.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(r.jsx)(o.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(r.jsx)(o.bb,{onTap:()=>{a?(Object(w.c)(l),y(46)):(c(l),y(45),g(({onHide:e})=>Object(r.jsx)(x.a,{onHide:e,text:Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(o.cb,{children:m._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(r.jsx)(o.cb,{weight:"bold",children:h})]}),href:f,imageUrl:p})))},rounding:"pill",children:Object(r.jsx)(o.f,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(r.jsx)(_,{followerCount:e,followText:j,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function P({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:h,viewType:p}){const b=function(e){return"/"+e}(u);return Object(r.jsxs)(o.f,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(r.jsx)(f,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:b,userFullName:d,viewType:p,viewParameter:h}),c&&Object(r.jsxs)(o.f,{position:"relative",width:"100%",children:[Object(r.jsx)(o.f,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(r.jsx)(T,{fullName:d,followerCount:i,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})}),Object(r.jsx)(o.f,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(r.jsx)(j,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(r.jsxs)(o.f,{width:"100%",children:[Object(r.jsx)(j,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(r.jsx)(o.u,{alignItems:"center",justifyContent:"center",width:"100%",children:Object(r.jsx)(T,{followerCount:i,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})})]})]})}var E=n("TgLd");const I=24;function C({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,h=d+c+i+12>window.innerWidth,p={left:h?d:d+c,top:u+l/2},b={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:h?-12-i:12,top:-i/2-44},f={top:-12,left:-12,fill:"white"},m=h?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(r.jsxs)(o.f,{position:"absolute",zIndex:E.a,dangerouslySetInlineStyle:{__style:p},children:[Object(r.jsx)(o.f,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:b},width:i,overflow:"hidden",children:t}),Object(r.jsx)(o.f,{position:"absolute",dangerouslySetInlineStyle:{__style:f},children:Object(r.jsx)("svg",{width:I,height:I,children:Object(r.jsx)("path",{d:m})})})]})}var R=n("eOdZ"),k=n("LT60"),D=n("xkL+"),A=n("pLLR");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.PureComponent{constructor(e){super(e),L(this,"anchorRef",Object(i.createRef)()),L(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(R.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{var n;t&&this.setState({detailedUser:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),R.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item"}).callGet().then(e=>{var n;t&&this.setState({userPins:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),R.a.create("ShowcaseResource",{username:e,page_size:2}).callGet().then(e=>{var n;t&&this.setState({showcase:null===(n=e.resource_response)||void 0===n?void 0:n.data})}),t&&this.setState({isLoaded:!0}))}),L(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),L(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),L(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),L(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:d,user:h,userPins:p}=this.state,{about:b,domain_url:f,follower_count:m,full_name:g,id:j,image_medium_url:y,show_creator_profile:O,verified_identity:v}=h||{},_=a.isAuth&&a.id===j,x=Boolean(null==v?void 0:v.verified),{group:S}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),w="enabled2_horizontal"===S;return Object(r.jsxs)(o.f,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(r.jsxs)(o.f,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(r.jsx)(o.f,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!_&&!!h&&!!i&&l&&Object(r.jsx)(o.f,{children:Object(r.jsx)(k.a,{children:Object(r.jsx)(o.A,{children:Object(r.jsx)(C,{anchor:this.anchorRef.current,isHorizontalDesign:w,children:Object(r.jsx)(o.f,{color:"white",zIndex:E.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(r.jsxs)(o.f,{width:"100%",children:[Object(r.jsx)(u,{isHorizontalDesign:w,userPins:p,showcase:d}),Object(r.jsx)(P,{avatarUrl:null!=y?y:"",description:null!=b?b:"",domainUrl:f,followerCount:null!=m?m:0,id:null!=j?j:"",isCreator:O,isHorizontalDesign:w,isVerified:null!=x&&x,userFullName:null!=g?g:"",username:i,viewParameter:s,viewType:c})]})})})})})})]})}}function B(e){const t=Object(A.d)(),n=Object(D.b)();return Object(r.jsx)(N,{...e,requestContext:t,viewer:n})}},c4Fo:function(e,t,n){var i=n("q1tI"),o=n("clxp"),r=n("zXAL"),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends i.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:o}=this.props;o?i.viewExperience(t,n,!1,o):i.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.completeExperience(t,n,o,!1,{},!1,r):o?i.completeExperience(t,n,o):i.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:o,targeting:r}=this.props;r?i.dismissExperience(t,n,o,!1,r):o?i.dismissExperience(t,n,o):i.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:r}=n;return Object(a.jsx)(o.a,{name:`Experience(${i}:${r})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return Object(a.jsx)(c,{})}}t.a=Object(r.a)(l)},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},dKiF:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));const i=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),r=(e,t=o)=>n=>{const i=[];return function(...o){const r=this,a=i.find(e=>e.context===r&&t(e.args,o));if(a)return a.result;const s={context:r,args:o,result:n.apply(this,o)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},a=r(1),s=r()},dfU2:function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("gLeT"),r=n("I7CA"),a=n("EC51"),s=n("yweb"),c=n("eqXv"),l=n("DBaX"),d=n("U4JR"),u=n("n6mq"),h=n("nKUr");const p={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.b,filter:"blur(10px)",opacity:1}},b={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},f={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],g=["pfy","pfyBoard"];function j({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:j=!1}){var y;const O=Object(s.c)(),[v,_]=Object(i.useState)(!1),[x,S]=Object(i.useState)(!1);Object(i.useEffect)(()=>_(!0),[]);const w=()=>S(!0),{feedbackText:T,images:P,showFeedbackOverlay:E,undoAction:I,undoText:C}=n,R=P&&(null===(y=P["236x"])||void 0===y?void 0:y.url),{image:k,subTitle:D,title:A,unfollow:L}=null!=T?T:{},N=!m.includes(e),B=g.includes(e),M=()=>{Object(d.b)(101,{view:1,viewParameter:92,element:11347})};return Object(h.jsxs)(u.f,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(h.jsxs)(u.f,{dangerouslySetInlineStyle:{__style:{borderRadius:l.b}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[R&&Object(h.jsx)(r.a,{additionalStyles:{...p.base,...v?p.blurred:{},backgroundImage:`url("${R}")`}}),Object(h.jsx)(r.a,{additionalStyles:{...b.base,...b.blurred}})]}),Object(h.jsx)(u.f,{dangerouslySetInlineStyle:{__style:{...f.base,...!E&&v?f.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!j&&Object(h.jsx)(u.f,{height:"100%",children:Object(h.jsxs)(u.f,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(h.jsx)(u.f,{marginBottom:2,children:Object(h.jsx)(u.v,{color:"white",size:"sm",children:A})}),Object(h.jsxs)(u.f,{display:"flex",marginBottom:1,children:[k&&Object(h.jsx)(u.f,{marginEnd:3,children:Object(h.jsx)(u.D,{width:k.width,height:k.height,rounding:2,wash:!0,children:Object(h.jsx)(u.y,{alt:D||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k.url||""})})}),Object(h.jsx)(u.cb,{color:"white",overflow:"normal",children:D})]}),t?Object(h.jsxs)(i.Fragment,{children:[I&&Object(h.jsx)(u.f,{children:Object(h.jsx)(u.bb,{onTap:I,children:Object(h.jsx)(u.cb,{color:"white",weight:"bold",overflow:"normal",children:O._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(h.jsxs)(u.f,{marginTop:"auto",children:[!I&&!x&&L&&!B&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:()=>Object(c.a)(L.action,L.actionOptions,w),text:O._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),N&&Object(h.jsx)(o.a,{color:"white",fullWidth:!0,href:"/edit",onClick:M,text:O._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):Object(h.jsxs)(i.Fragment,{children:[Object(h.jsx)(u.f,{children:N&&Object(h.jsx)(a.a,{href:"/edit",onClick:M,children:Object(h.jsx)(u.cb,{color:"white",weight:"bold",overflow:"normal",children:O._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(h.jsxs)(u.f,{marginTop:"auto",children:[!I&&!x&&L&&!B&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:()=>Object(c.a)(L.action,L.actionOptions,w),text:O._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),I&&Object(h.jsx)(u.g,{fullWidth:!0,color:"white",onClick:I,text:C||O._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},dtqy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("5S2N"),a=n("ANjH"),s=n("U4JR"),c=n("Sp3T"),l=n("nKUr");t.a=Object(a.compose)(Object(o.connect)(({pins:e},{pinId:t,carouselSlotCurrentIndex:n})=>{const{carousel_data:i}=e&&t&&e[t]||{},{index:o}=i||{};return void 0!==n?{carouselSlotCurrentIndex:o||n||0}:{}}),(function(e){return function(t){const[n,o]=Object(i.useState)(!1),a=Object(c.a)({shouldStopEventPropagation:!1}),{pinId:d,onDelete:u,onSubmit:h,carouselSlotCurrentIndex:p}=t;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(e,{...t,handlePinEditButtonClick:a(e=>{e&&e.stopPropagation();const{component:n,onToggleModal:i}=t;i&&i(!0),Object(s.b)(101,{element:3,...n?{component:n}:{}}),o(!0)})}),n&&Object(l.jsx)(r.a,{carouselSlotCurrentIndex:p,onDelete:u,onHide:()=>{o(!1),t.onToggleModal&&t.onToggleModal(!1)},onSubmit:h,pinId:d})]})}}))},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},exCO:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("gTC0"),o=n("nKUr");function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,isSVG:a,iconOnly:s}){return Object(o.jsx)(i.a,{accessibilityLabel:e,color:r,onClick:t,icon:n,isSVG:a,iconOnly:s})}},fOIk:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c({isDisabled:e,isFavorited:t,size:n,onTap:c}){const l=Object(i.c)();return Object(r.jsx)(o.bb,{disabled:e,onTap:c,children:Object(r.jsx)(o.w,{accessibilityLabel:l._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?s:a,size:n})})}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return u}));var i=n("exCO"),o=n("7pfs"),r=n("n6mq"),a=n("nKUr");const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function c({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:c}){return Object(a.jsx)(o.a,{children:({active:o,focused:l,hovered:d,onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:f,onMouseUp:m})=>{let g={borderRadius:24};if(d){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";g={...g,backgroundColor:e}}if(o){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";g={...g,backgroundColor:e}}return l&&(g={...g,...s}),Object(a.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:f,onMouseUp:m,onClick:i,children:Object(a.jsx)(r.f,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:g},children:Object(a.jsxs)(r.f,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===c&&Object(a.jsxs)(r.f,{children:[Object(a.jsx)(r.w,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),Object(a.jsx)(r.f,{paddingX:3})]}),Object(a.jsx)(r.cb,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var l=n("yweb"),d=n("CgR/");const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:n,svgPath:o,isSVG:r,iconOnly:s})=>{const d=Object(l.c)(),u="icon"===e,h=r&&o?o:"share",p={accessibilityLabel:d._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:n,icon:h};return u?Object(a.jsx)(i.a,{...p,isSVG:r,iconOnly:s,iconColor:t}):Object(a.jsx)(c,{...p,buttonColor:"lightGray",buttonText:d._("Send","Text for button to send this pin","Text for button to send this pin")})};t.default=d.a.makeSendShareButton(u)},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},o={type:"CLOSE_CONVERSATIONS_DROPDOWN"},r=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),a=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(o)})},g5OB:function(e,t,n){n.d(t,"a",(function(){return Yt}));var i=n("q1tI"),o=n("1unC"),r=n("clxp"),a=n("rYoy"),s=n("gD/Z"),c=n("sztL"),l=n("zwad");function d(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&l.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var u=n("yweb"),h=n("gqRH"),p=n("kVqD"),b=n("0nTG"),f=n("n6mq"),m=n("nKUr");const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function j({pin:e,sourceLinkStyle:t,surface:n,url:o}){const r=Object(u.c)(),[a,l]=Object(i.useState)(!1),{id:j}=e,y=d(e),O=Object(b.f)(e)||{},{slotIndex:v}=Object(s.b)(),_=Object(p.a)(12,{grid_index:v,objectId:j,...Object(b.f)(e)||{}}),x=Object(p.a)(101,{element:162,objectId:j,...Object(b.f)(e)||{}}),S=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:v,objectId:j,...Object(b.f)(e)||{}}),w=()=>{_(),x(),S()},T=Object(h.b)({href:o,target:"blank",externalData:{auxData:O,pin:e,surface:n}});return"icon-only"===t?Object(m.jsx)(f.x,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,disableOnNavigation:t})=>{t(),w(),T({event:e})},role:"link",rel:"nofollow",size:"sm"}):Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{...g.container,...a?g.containerHovered:Object.freeze({}),..."truncated-text"===t?g.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),position:"relative",children:Object(m.jsx)(c.a,{hovered:a,pin:e,slotIndex:v,viewType:1,children:Object(m.jsx)(f.bb,{fullWidth:!1,href:o,onTap:({event:e,disableOnNavigation:t})=>{t(),w(),T({event:e})},rel:"nofollow",role:"link",rounding:4,children:Object(m.jsxs)(f.f,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[Object(m.jsx)(f.f,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(m.jsx)(f.w,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(m.jsx)(f.f,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(m.jsx)(f.cb,{color:"darkGray",size:"md",weight:"bold",lineClamp:1,children:y})})]})})})})}const y=Object(i.lazy)(()=>Promise.all([n.e(98),n.e(112),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),O=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),v=Object(i.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var _=Object(i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:c,onToggleFlyout:l,pin:d,pinTitle:u,setForcePrimary:h,showEditButton:p,showOverflowMenu:b,showShareButton:g,showSourceLinkButton:_,sourceLinkStyle:x,surface:S}){var w;const T=Object(f.lb)(),{viewParameter:P,viewType:E}=Object(s.b)(),{carousel_data:I,id:C,savedInfo:R,tracked_link:k,link:D}=d,A=null!==(w=null!=k?k:D)&&void 0!==w?w:"",[L,N]=Object(i.useState)(p),[B,M]=Object(i.useState)(p),[U,F]=Object(i.useState)(p),V={marginRight:p&&b?-44:0,transition:"margin-right .2s ease-in-out"},G={opacity:U?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},H={marginLeft:B?4:0,transition:"margin-left .2s ease-in-out"};Object(i.useEffect)(()=>{let e;return p&&b?(M(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{N(!0),requestAnimationFrame(()=>{F(!0)})})},800)):(M(p),N(p),requestAnimationFrame(()=>{F(p)})),()=>{clearTimeout(e)}},[p,b]);const z=_&&Object(m.jsx)(o.b,{children:Object(m.jsx)(j,{pin:d,sourceLinkStyle:x,surface:S,url:A})}),W=g&&Object(m.jsx)(r.a,{name:"SafeSuspense_PinRep_SendShareLink",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"send-share-link",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(v,{pin:d,setForcePrimary:h})})})})}),q=Boolean(null==R?void 0:R.localPinId)?null==R?void 0:R.localPinId:C,Y=L&&Object(m.jsx)(r.a,{name:"SafeSuspense_PinRep_EditButton",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"edit-button",dangerouslySetInlineStyle:T?void 0:{__style:G},children:Object(m.jsx)(o.b,{children:Object(m.jsx)(y,{carouselSlotCurrentIndex:I&&I.index,component:0,onToggleModal:l,pinId:q,style:{size:"sm"},view:E,viewParameter:P,useLegoStyles:!0})})})})});return"equally-spaced"===c?Object(m.jsxs)(f.f,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(m.jsx)("div",{style:{flexBasis:32},children:z}),e?Y:W,e?W:Y]}):Object(m.jsxs)(f.f,{alignItems:"center",display:"flex",padding:3,children:[Object(m.jsx)(f.f,{flex:"shrink",children:z}),Object(m.jsx)(f.f,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:T?void 0:{__style:V},children:Object(m.jsxs)(f.u,{alignItems:"center",gap:2,justifyContent:"end",children:[e?Y:W,e?W:Y,b&&Object(m.jsx)(r.a,{name:"SafeSuspense_PinRep_OverflowMenu",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:T?void 0:{__style:H},children:Object(m.jsx)(o.b,{children:Object(m.jsx)(O,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:h})})})})})]})})]})})),x=n("/MKj"),S=n("XSD5"),w=n("6/Sz"),T=n("U4JR");function P({direction:e,swipeHandler:t}){const n=Object(u.c)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(m.jsx)(f.f,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(m.jsx)(f.bb,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(m.jsx)(f.f,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(m.jsx)(f.w,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var E=Object(x.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(S.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:r}=Object(s.b)(),a=Object(w.a)(e);if(!a)return null;const{id:c=""}=e,{carousel_slots:l=[],index:d=0,id:u}=a;function h(o){return()=>{const a="left"===o?d-1:d+1;t(c,a),((t=0,o)=>{Object(T.b)(108,{objectId:c,component:n,view:r,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},...Object(b.f)(e)||{}})})(d,a)}}return Object(m.jsxs)(f.f,{height:"100%",position:"relative",width:"100%",children:[d>0&&Object(m.jsx)(o.b,{children:Object(m.jsx)(P,{direction:"left",swipeHandler:h("left")})}),d<l.length-1&&Object(m.jsx)(o.b,{children:Object(m.jsx)(P,{direction:"right",swipeHandler:h("right")})})]})}),I=n("h9/w"),C=n("FDmi");function R({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:o}){const r=Object(m.jsx)(f.f,{"data-test-id":"attribution-avatar",height:32,width:32,children:Object(m.jsx)(C.a,{name:n,src:e,accessibilityLabel:o})});return t?Object(m.jsx)(f.bb,{role:"link",href:t,onTap:i,children:r}):r}function k({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:o}){return Object(m.jsx)(f.f,{children:Object(m.jsx)(f.cb,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:t?Object(m.jsx)(f.C,{onClick:i,href:t,children:n}):n})})}function D({isHover:e,link:t,onClick:n,title:i,weight:o}){return i?Object(m.jsx)(f.cb,{inline:!0,underline:e,size:"md",weight:o,children:t?Object(m.jsx)(f.C,{onClick:n,href:t,children:i}):i}):null}var A=n("b9Z9"),L=n("ynlw"),N=n("fc1g");var B=Object(x.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(N.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:o,isPromotedByPinCreator:r,pin:a,name:c,setMostRecentPin:l,url:d}){const{viewParameter:u,viewType:h}=Object(s.b)(),[b,g]=Object(i.useState)(!1),{id:j,pinner:y,sponsorship:O,story_pin_data_id:v}=a,{isPromoted:_}=Object(L.a)(a),x=y||a.promoter,{creator:S}=O||{},{id:w}=S||{},T=!!v,P=Object(p.a)(101,{view:3,element:_?283:27,objectId:j,component:T?230:void 0,...w?{creator_id:w,pin_id:j}:{}}),E=()=>{l(j),P()},I=()=>{g(e=>!e)},C=d&&!e,N=Object(m.jsxs)(f.f,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(m.jsx)(f.f,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(m.jsx)(A.a,{avatarSize:32,isDarkPromoter:o,pinId:j,user:x,username:x&&x.username,viewParameter:u,viewType:h,children:Object(m.jsx)(R,{attributionNameLink:e,avatarUrl:n,name:c,onClick:()=>E(),accessibilityLabel:""})})}),Object(m.jsxs)(f.f,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(m.jsx)(k,{attributionNameLink:e,name:c,onClick:()=>E(),regularWeight:!(_&&!O||r),isHover:b})}),Object(m.jsx)(D,{isHover:b,title:t,weight:"normal"})]})]});return C?Object(m.jsx)(f.bb,{role:"link",onTap:({event:e})=>{e.stopPropagation(),E()},href:d,onMouseEnter:I,onMouseLeave:I,children:N}):N})),M=n("rSLd"),U=n("8A+h"),F=n("YGxj"),V=n("UAdG"),G=n("MhBu"),H=n("xkL+"),z=n("tuD4"),W=n("HJ6M"),q=n("KFEb"),Y=n("zq6P");function K({board:e,favoriteCount:t,favorited:n,pinId:o}){const r=Object(x.useDispatch)(),{slotIndex:a}=Object(s.b)(),{currentFilter:c,eligibleFilters:l,refreshData:d=(()=>{}),sectionId:u,setShowExperienceTooltip:h}=Object(Y.b)(),p=Object(i.useRef)(null),b=Object(H.b)(),g=Object(U.a)(b,e),j=c===W.b&&(!t||1===t),y=Object(z.a)(l,W.b),O=e=>{Object(T.b)(101,{component:0,element:e?12225:12226,objectId:o,view:5,viewParameter:g?3069:3070})};return Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(f.f,{ref:p,children:Object(m.jsx)(V.a,{favorited:n,favoriteCount:t,onFavorite:()=>{O(!0),y&&d(),h&&h(!0)},onUnfavorite:()=>{O(!1),e&&j&&r(Object(G.a)({feedId:u||e.id,feedType:u?q.a.SECTION_PINS:q.a.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),p&&!n&&!u&&0===a&&Object(m.jsx)(f.A,{children:Object(m.jsx)(F.a,{anchor:p.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var X=n("oRao"),$=n("T5j3"),Z=n("obIb"),J=n.n(Z),Q=n("X/CP"),ee=n.n(Q),te=n("x/xQ"),ne=n.n(te),ie=n("jOPH"),oe=n.n(ie),re=n("U5D8"),ae=n.n(re);const se={goodIdea:J.a,love:ne.a,thanks:oe.a,wow:ae.a,haha:ee.a},ce={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},le=["CreatorProfileStoryPinGrid"];var de=function({pinId:e,pinner:t,reactionCounts:n,surface:i}){const o=Object(H.b)(),r=n?Object($.a)(n):null,a=n?Object($.b)(n):0,s=Boolean(o.isAuth&&(null==t?void 0:t.id)===o.id),c=!!r&&r.length>0&&r.map((e,t)=>{const n=se[ce[e]];return Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(m.jsx)(f.f,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)}),l=!!c&&Object(m.jsx)(f.bb,{role:"link",href:`/pin/${e}/`,children:Object(m.jsxs)(f.f,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(m.jsx)(f.u,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),Object(m.jsx)(f.f,{paddingX:1,children:Object(m.jsx)(f.cb,{size:"md",children:Object(m.jsx)(X.a,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),d=s&&le.includes(i)&&Object(m.jsx)(f.f,{height:24});return l||d},ue=n("4Utz"),he=n("EC51"),pe=n("Rfw2");function be({feedbackType:e,pin:t}){const n=Object(u.c)(),{pinner:i,source_interest:o}=t,{full_name:r,username:a}=i||{},{name:s}=o||{},c="topic"===e,l=!c&&"followed"===e,d=`/${a}/`,h=Object(pe.e)(s),p=`/search/pins/?q=${encodeURIComponent(h)}&rs=image_only_attribution`,b=c?p:d,g={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(l||c){const e=0===g.indexOf("{"),t=c?s:r,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?Object(m.jsxs)(f.f,{children:[Object(m.jsx)(he.a,{inline:!0,href:b,children:Object(m.jsx)(f.cb,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})}),Object(m.jsx)(f.cb,{inline:!0,size:"md",children:n})]}):Object(m.jsxs)(f.f,{children:[Object(m.jsx)(f.cb,{inline:!0,size:"md",children:n}),Object(m.jsx)(he.a,{inline:!0,href:b,children:Object(m.jsx)(f.cb,{color:"darkGray",weight:"bold",inline:!0,size:"md",lineClamp:1,children:t})})]})}return Object(m.jsx)(f.f,{children:Object(m.jsx)(ue.a,{pin:t,children:Object(m.jsx)(f.cb,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var fe=n("Te6n"),me=n("ANjH"),ge=n("fJfT"),je=n("EC67");function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Oe extends i.Component{constructor(...e){super(...e),ye(this,"state",{spamCheck:null}),ye(this,"spamCheckExperimentGroup",null),ye(this,"mounted",!1),ye(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pin:n,surface:i,to:o}=this.props;o&&(e||l.a.isOffsiteUrl(o))&&n&&Object(ge.f)({location:t,pin:n,surface:i})&&Object(ge.a)({isMounted:this.mounted,pin:n,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:o})}),ye(this,"handleClick",e=>{const{auxData:t,external:n,history:i,location:o,onClick:r,pin:a,pinId:s,to:c}=this.props,d=n||l.a.isOffsiteUrl(c);Object(ge.b)({isExternalLink:d,event:e})||(e.nativeEvent.preventDefault(),r&&r(e),c&&(d?Object(ge.c)({href:c,pinId:s,pin:a,location:o,auxData:t,spamCheck:this.state.spamCheck}):Object(ge.d)({event:e,onHistoryChange:void 0,href:c,history:i,target:null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,external:i,setAnchorRef:o,style:r,target:a,to:s}=this.props;return Object(m.jsx)("a",{"aria-label":e,className:n,href:s,onClick:this.handleClick,ref:o,rel:i?"nofollow":"",style:r,target:a?"_blank":null,children:t})}}var ve=Object(me.compose)(Object(x.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),()=>({})),je.l)(Oe),_e=n("h4v/"),xe=n("kmwA"),Se=n("pLLR"),we=n("rkcQ");function Te({children:e=null,pinId:t,onClick:n,style:i,url:o}){var r,a;const s=Object(x.useSelector)(({pins:e})=>e[t]),{userAgent:c}=Object(Se.d)(),{browserName:l}=null!=c?c:{},d="Chrome"===l?{[we.g.ATTRIBUTION_SOURCE_EVENT_ID]:null!==(r=null==s?void 0:s.pin_promotion_id)&&void 0!==r?r:-1,[we.g.ATTRIBUTION_DESTINATION]:o,[we.g.ATTRIBUTION_EXPIRY]:we.f,[we.g.ATTRIBUTION_REPORT_TO]:xe.a.settings.CANONICAL_MAIN_URL}:{[we.j.ATTRIBUTION_SOURCE_ID]:(null!==(a=null==s?void 0:s.campaign_id)&&void 0!==a?a:0)%256,[we.j.ATTRIBUTE_DESTINATION]:o,[we.j.ATTRIBUTE_ON]:o};return Object(m.jsx)("a",{...d,href:o,onClick:n,style:i,target:"_blank",rel:"noopener nofollow noreferrer",children:e})}function Pe(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Ee=n("Ofms"),Ie=n("QAzJ");function Ce({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:a}){const c=Object(s.b)(),{ad_destination_url:l,carousel_data:d,id:u,is_promoted:h,link:p,tracked_link:b}=i,g=Object(Ie.a)("m10n_event_conversion_measurement");let j,y=l||b||p,O="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(y=e[n].link),j={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},O+="-carousel"}const v=()=>{const e=_e.a.getInstance(),i=e.getViewFromContext();Object(T.b)(12,{...n,view:a||c.viewType,viewParameter:r||c.viewParameter,component:t||c.componentType,objectId:u,grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:Pe(p||"")}),Object(T.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:a||c.viewType,viewParameter:r||c.viewParameter,...n,component:t||c.componentType,objectId:u,grid_index:c.slotIndex,pin_id:u,prefetch_percentage_complete:Pe(p||"")}),Object(T.b)(13,{closeup_navigation_type:"web_closeup",objectId:u,component:t||c.componentType,view:3,...c.contextLogData,...n}),e.addViewToContext(i)};return Object(m.jsx)(f.f,{"data-test-id":"otpp",children:Object(m.jsx)(Ee.a,{id:O,children:h&&g().anyEnabled?Object(m.jsx)(Te,{onClick:v,pinId:u,style:{cursor:"pointer",display:"block"},url:y||"",children:e}):Object(m.jsx)(ve,{auxData:j,external:!0,onClick:v,pinId:u,style:{cursor:"pointer",display:"block"},surface:o,to:y||"",children:e})})})}var Re=n("gC5q");function ke(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r}=Object(L.a)(t),a=Object(Ie.a)("web_no_tap_tap"),s=i||o&&r&&a().anyEnabled?Ce:ue.a;return Object(m.jsx)(s,{surface:i?n:void 0,...Object(Re.b)(e,["surface"])})}function De({pin:e,pinNoteText:t}){return Object(m.jsx)(ke,{pin:e,children:Object(m.jsx)(f.cb,{lineClamp:1,overflow:"normal",size:"md",children:t})})}var Ae=n("EPem"),Le=n("US8k");function Ne({value:e,valueFormat:t}){const n=Object(u.c)();return e||0===e?"TIME"===t?Object(Le.a)(e):Object(m.jsx)(X.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(m.jsx)(f.gb,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:""})}function Be({pin:e}){const t=Object(u.c)(),{isStoryPin:n,isVideo:i}=Object(L.a)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(L.a)(e);return!n||!o&&i?i:n}(e),r=Object(Ae.a)(i,n,t),a=i||n?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return Object(m.jsx)(f.u,{alignItems:"stretch",justifyContent:"start",children:r.map(({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:r})=>Object(m.jsxs)(f.f,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(m.jsx)(f.f,{display:"inlineBlock",marginEnd:1,children:Object(m.jsx)(f.w,{accessibilityLabel:t,color:"darkGray",icon:i,size:o})}),Object(m.jsx)(f.cb,{inline:!0,size:"md",children:Object(m.jsx)(Ne,{value:null==a?void 0:a[n],valueFormat:r})})]},n))})}function Me({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return Object(m.jsx)(ke,{pin:n,surface:i,children:Object(m.jsxs)(f.u,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&Object(m.jsx)(f.cb,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(m.jsx)(f.cb,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Ue=n("Zxas"),Fe=n("N89m");function Ve({pin:e,surface:t}){return Object(m.jsx)(ke,{pin:e,surface:t,children:Object(m.jsx)(f.u,{alignItems:"stretch",justifyContent:"start",children:Object(m.jsx)(f.cb,{color:"darkGray",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:Object(Fe.a)(e,t)})})})}var Ge=n("Mulp");function He({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return Object(m.jsx)(ke,{pin:t,surface:i,children:Object(m.jsx)(f.cb,{color:"darkGray",lineClamp:e,size:"md",weight:"bold",children:n})})}var ze=n("XLg/");const We={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${ze.a}ms ease`},visible:{opacity:1}}};function qe({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:r,hasTitleOrSource:a,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:h,productCurrentPrice:b,productOriginalPrice:g,setForcePrimary:j,showCarouselEllipsis:y,showFavoriteButton:O,showGroupBoardAvatar:v,showNativeReactions:_,showOverflowMenu:S,showPinStats:w,showSource:T,showTextContent:P,surface:E,titleLines:I}){var C,k,A,N;const U=Object(u.c)(),F=Object(x.useDispatch)(),{favorited_by_me:V,favorite_user_count:G,id:H,pinner:z,reaction_counts:W,sponsorship:q,story_pin_data:Y}=l,{has_affiliate_products:X}=Y||{},$=function(e,t,n){var i,o,r,a;const{board:s,link_domain:c={},promoter:l,sponsorship:d,native_creator:u}=e,{sponsor:h}=d||{},{isPromoted:p}=Object(L.a)(e),{official_user:b}=c||{},f=p&&!!d&&(null==u?void 0:u.id)!==(null==l?void 0:l.id),m=e.pinner||{};let g="",j="",y="",O="",v="",_="";var x,S,w,T,P;if(f)g=null!==(x=null!==(S=null==u?void 0:u.image_medium_url)&&void 0!==S?S:null==u?void 0:u.image_small_url)&&void 0!==x?x:"",j=`/${null!==(w=null==u?void 0:u.username)&&void 0!==w?w:""}/`,y=null==l?void 0:l.full_name,O=null==u?void 0:u.full_name,_=`/${null!==(T=null==u?void 0:u.username)&&void 0!==T?T:""}/`,v=`/${null!==(P=null==l?void 0:l.username)&&void 0!==P?P:""}/`;else if(p&&l)g=l.image_medium_url||l.image_small_url,y=l.full_name,O=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),_=`/${l.username}/`;else if(d&&null!=h&&h.username){var E,I,C,R;g=null!==(E=null!==(I=null==u?void 0:u.image_medium_url)&&void 0!==I?I:null==u?void 0:u.image_small_url)&&void 0!==E?E:"",j=`/${null!==(C=null==u?void 0:u.username)&&void 0!==C?C:""}/`,y=h.full_name,O=null==u?void 0:u.full_name,_=`/${null!==(R=null==u?void 0:u.username)&&void 0!==R?R:""}/`,v=`/${h.username}/`}else if(u){var k,D,A;g=null!==(k=null!==(D=u.image_medium_url)&&void 0!==D?D:u.image_small_url)&&void 0!==k?k:"",O=u.full_name,_=`/${null!==(A=u.username)&&void 0!==A?A:""}/`}else if("show-for-claimed-content"===t){var N,B;null!=b&&b.is_primary_website_verified&&b.username&&(g=null!==(N=null!==(B=b.image_medium_url)&&void 0!==B?B:b.image_small_url)&&void 0!==N?N:"",O=b.full_name,_=`/${b.username}/`)}else{var M,U;g=null!==(M=null!==(U=m.image_medium_url)&&void 0!==U?U:m.image_small_url)&&void 0!==M?M:"",j=`/${m.username}/`,O=m.full_name,_=s?s.url:""}return{avatarUrl:null!==(i=g)&&void 0!==i?i:"",attributionNameLink:j,attributionTitle:null!==(o=y)&&void 0!==o?o:"",name:null!==(r=O)&&void 0!==r?r:"",sponsorUrl:v,url:null!==(a=_)&&void 0!==a?a:""}}(l,e,U),{avatarUrl:Z,attributionNameLink:J,attributionTitle:Q,name:ee,sponsorUrl:te,url:ne}=$,ie=!!l.promoter&&!l.is_downstream_promotion,oe=ie&&(null===(C=l.native_creator)||void 0===C?void 0:C.id)===(null===(k=l.promoter)||void 0===k?void 0:k.id),re=Object(p.a)(101,{view:3,element:27,pin_id:H,objectId:H,component:l.story_pin_data_id?230:void 0,...null!=q&&null!==(A=q.creator)&&void 0!==A&&A.id&&null!==(N=q.sponsor)&&void 0!==N&&N.id?{creator_id:q.creator.id,sponsor_id:q.sponsor.id}:{}}),ae=e=>F(ae(e)),se=!oe&&q?Object(m.jsx)(D,{link:te||ne,onClick:()=>(ae(H),void re()),title:Object(Ue.a)(Q,20),weight:"bold"},l.id+"-sponsor-name-link"):null;return Object(m.jsxs)(f.f,{dangerouslySetInlineStyle:{__style:We.container},children:[y&&Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:a||v||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(m.jsx)(M.default,{pinId:H})}),w&&Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(m.jsx)(Be,{pin:l})}),Object(m.jsx)(f.u,{alignItems:"stretch",justifyContent:"start",children:Object(m.jsxs)(f.f,{flex:"grow",children:[(!!q||X&&!ie)&&!oe&&Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(f.f,{flex:"grow",overflow:"hidden",children:Object(m.jsx)(Ge.b,{hasAffiliateProducts:X,isPromoted:ie,sponsorName:se,sponsorshipStatus:null==q?void 0:q.status})})}),(P&&r||O)&&Object(m.jsxs)(f.f,{marginBottom:1,children:[(g||b)&&Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(Me,{currentPrice:b,originalPrice:g,pin:l,surface:E})}),O?Object(m.jsxs)(f.u,{alignItems:"start",children:[Object(m.jsx)(f.u,{flex:"grow",children:Object(m.jsx)(He,{numberOfLines:I,pin:l,pinTitle:h,surface:E})}),Object(m.jsx)(f.f,{marginStart:3,children:Object(m.jsx)(K,{board:t,favorited:!!V,favoriteCount:null!=t&&t.should_show_board_activity?null!=G?G:0:void 0,pinId:H})})]}):Object(m.jsx)(He,{numberOfLines:I,pin:l,pinTitle:h,surface:E}),T&&Object(m.jsx)(f.f,{marginBottom:2,children:Object(m.jsx)(Ve,{pin:l,surface:E})})]}),Object(m.jsxs)(f.u,{alignItems:"center",justifyContent:"start",children:[Object(m.jsx)(f.f,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:We.imageOnlyAttribution["active"===s?"visible":"hidden"]},children:Object(m.jsx)(be,{pin:l,feedbackType:o})});default:return Object.values($).some(e=>Boolean(e))?Object(m.jsx)(B,{attributionNameLink:J,attributionTitle:ie&&!q||oe?Q:"",avatarUrl:Z,isDarkPromoter:!!c,isPromotedByPinCreator:!!oe,name:ee,pin:l,url:ne}):null}})()}),S&&Object(m.jsx)(f.f,{flex:"none",children:Object(m.jsx)(fe.default,{feedbackData:n,feedbackType:o,pin:l,pinTitle:h,setForcePrimary:j,transparentBackground:!0})})]}),_&&!!W&&Object(m.jsx)(f.f,{children:Object(m.jsx)(de,{pinId:H,pinner:z,reactionCounts:W,surface:E})}),d&&Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(De,{pin:l,pinNoteText:d})}),v&&!O&&Object(m.jsx)(f.f,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:!O&&Object(m.jsxs)(i.Fragment,{children:[Object(m.jsx)(R,{attributionNameLink:J,avatarUrl:Z,name:ee}),Object(m.jsx)(f.f,{marginStart:2,flex:"grow",children:Object(m.jsx)(f.cb,{size:"md",children:ee})})]})})]})})]})}var Ye=n("gLeT"),Ke=n("C2V2");const Xe=Object(i.lazy)(()=>n.e("OutOfStockCommon").then(n.bind(null,"XzTK"))),$e=Object(i.lazy)(()=>n.e("StaleProductCommon").then(n.bind(null,"CG52")));function Ze({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:s,productOriginalPrice:c,productRating:l,productShipping:d,showSource:h,showVisitSiteButton:p,surface:g,titleLines:j}){var y;const O=Object(u.c)(),v=Object(Ie.a)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:_,group:x}=v({dangerouslySkipActivation:!0}),S=null===(y=n.rich_summary)||void 0===y?void 0:y.url;return"shopping"!==e||x.includes("pwt")||v(),Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:We.productContainer},height:"100%",children:Object(m.jsx)(f.u,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&Object(m.jsxs)(i.Fragment,{children:[Object(m.jsxs)(f.f,{children:[(c||s)&&Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(Me,{currentPrice:s,originalPrice:c,pin:n,surface:g})}),Object(b.j)(n)&&Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(Xe,{})})})}),Object(b.l)(n)&&Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)($e,{})})})}),Object(m.jsx)(f.f,{marginBottom:1,children:Object(m.jsx)(He,{numberOfLines:j,pin:n,pinTitle:o,surface:g})}),h&&Object(m.jsx)(Ve,{pin:n,surface:g}),"shopping"===e&&_&&(l||Number.isFinite(null==d?void 0:d.free_shipping_value))&&Object(m.jsx)(Ke.b,{count:null==l?void 0:l.count,countFormat:"number",ratingValue:null==l?void 0:l.rating,shippingInfo:d})]}),p&&S?Object(m.jsx)(f.f,{marginTop:2,children:Object(m.jsx)(Ye.a,{fullWidth:!0,href:S,onClick:()=>{Object(T.b)(12,{view:1,viewParameter:3563})},target:"blank",text:O._("Visit site","Wishlist.Pin.CTA.Button.VisitSite.Text","Text on CTA button on Wishlist Pin to Visit Site")})}):null]})})})}var Je=Object(i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:r,feedbackType:a,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:b,productShipping:g,setForcePrimary:j,showCarouselEllipsis:y,showFavoriteButton:O,showGroupBoardAvatar:v,showNativeReactions:_,showOverflowMenu:x,showPinStats:S,showSource:w,showTextContent:T,showVisitSiteButton:P,surface:E,titleLines:I}){const C=u||w,R="shopping"===i?Object(m.jsx)(Ze,{contentType:i,hasTextContent:!!C,pin:l,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,productRating:b,productShipping:g,showSource:w,showVisitSiteButton:P,surface:E,titleLines:I}):Object(m.jsx)(qe,{attributionType:e,board:n,feedbackData:r,feedbackType:a,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:s,isDarkPromoter:c,pin:l,pinNoteText:d,pinTitle:u,productCurrentPrice:h,productOriginalPrice:p,setForcePrimary:j,showCarouselEllipsis:y,showFavoriteButton:O,showGroupBoardAvatar:v,showNativeReactions:_,showOverflowMenu:x,showPinStats:S,showSource:w,showTextContent:T,surface:E,titleLines:I});return t?Object(m.jsx)("div",{style:{pointerEvents:"none"},children:R}):Object(m.jsx)(f.u,{flex:"grow",children:Object(m.jsx)(o.b,{fullWidth:!0,children:R})})})),Qe=n("4+TC"),et=n("sUAf");const tt=Object(i.lazy)(()=>n.e("PinPersistentOneClickSaveCommon").then(n.bind(null,"f6y4"))),nt=Object(i.lazy)(()=>Promise.all([n.e(98),n.e(112),n.e(165),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),it=Object(i.lazy)(()=>Promise.all([n.e(98),n.e(112),n.e(165),n.e(175),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),ot=Object(i.lazy)(()=>Promise.all([n.e(358),n.e("QuickSaveButtonCommon")]).then(n.bind(null,"iTUf"))),rt=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function at({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:c,onToggleModal:l,pin:d}){const{id:u,savedInfo:h}=d,b=Object(i.useRef)(!!h),g=Object(x.useSelector)(({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null}),{saveBehaviorType:j}=Object(et.b)(n);void 0!==j&&["classic","controlled","inline"].includes(e.type)&&(e=j);const{viewParameter:y,viewType:O}=Object(s.b)(),v=Object(p.a)(101,{element:0,objectId:u});let _=null;const S={onToggleModal:c,view:O,viewParameter:y,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(g||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;_=Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(o.b,{children:Object(m.jsx)(ot,{experience:g||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:y})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;_=Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(nt,{onClickCallback:v,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!h&&Object(m.jsx)(o.b,{children:Object(m.jsx)(Qe.a,{isNewlySaved:!b.current,name:h.title,type:h.type,url:h.url})}),variant:"lego",viewParameter:y})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:s,hidePinBetterSaveDropdown:u}=e;_=Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"better-save",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(it,{initialSelection:n,onSave:i,onToggleFlyout:c,onToggleModal:l,pin:t,renderPinSaveTooltip:s,renderSavedStatus:({savedInfo:e})=>e&&Object(m.jsx)(o.b,{children:Object(m.jsx)(Qe.a,{isNewlySaved:!b.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:y,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?_=Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"persistent-one-click-save",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(tt,{...S,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(_=Object(m.jsx)(f.u,{alignItems:"stretch",justifyContent:"end",children:Object(m.jsx)(r.a,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:Object(m.jsx)(a.a,{children:Object(m.jsx)(f.f,{"data-test-id":"pin-promote-button",children:Object(m.jsx)(o.b,{children:Object(m.jsx)(rt,{pin:d})})})})})}));return Object(m.jsx)(r.a,{name:"PinRepPrimaryContent",children:Object(m.jsx)(f.f,{display:"flex",margin:3,children:_&&Object(m.jsx)(f.f,{marginStart:"auto",flex:"grow",children:_})})})}var st=n("7wXf"),ct=n("VJm5"),lt=n("3qdF"),dt=n("qhFy"),ut=n("HOY+");const ht={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function pt({isSelected:e}){const t=Object(u.c)();return Object(m.jsx)(f.f,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?ht:{},children:Object(m.jsx)(f.f,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(m.jsx)(f.f,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(m.jsx)(f.w,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var bt=n("9pre"),ft=n("BUdX"),mt=n("y7hk"),gt=n("JRj3"),jt=n("7w6Q"),yt=n("jZDM");const Ot="video",vt={},_t={},xt=(e,t)=>{if(jt.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void jt.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void jt.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void jt.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(yt.a)(e),i=document.createElement("link");var o;(i.rel="prefetch",i.href=e,i.as=t,"fetch"===t&&(i.crossOrigin="anonymous"),jt.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{vt[e]&&(vt[e].loaded=!0),jt.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{jt.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},vt[e])||(null===(o=document.head)||void 0===o||o.appendChild(i),vt[e]={added:!0})},St=e=>{jt.a.increment("web_prefetch_via_xhr.attempt",1);const t=Object(yt.a)(e);return new Promise((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(jt.a.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(jt.a.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(_t[e]&&(_t[e].loaded=!0),jt.a.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(jt.a.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},_t[e]||(o.send(),_t[e]={added:!0},jt.a.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))})};var wt=n("7jH2");function Tt(e){return`https://v.pinimg.com/videos/mc/hls/${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Pt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isHovering:r,isSocialSeasonalBoard:a=!1,onError:l,onLoad:d,pin:u,pinImageCrop:h,resolution:p="default",rootMargin:b,selectionState:g,showCarousel:j,showPromotedVideos:y,surface:O}){const{contextLogData:v,slotIndex:_,viewParameter:x,viewType:S}=Object(s.b)(),{group:w}=Object(Ie.b)("web_prefetch_video_in_feed"),{id:T="",aggregated_pin_data:P,image_signature:E,story_pin_data:I}=u,{pin_tags_chips:C}=P||{},{isOneTap:R,isVideo:k,isPromoted:D,isGif:A}=Object(L.a)(u),{cropHeight:N,cropWidth:B}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let M=null;if(e||!k||!y&&D)if(j)M=Object(m.jsx)(f.f,{"data-test-id":"pinrep-carousel",children:Object(m.jsx)(ct.a,{cropHeight:N,cropWidth:B,onError:l,onLoad:d,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,pinId:T,showCarouselBadge:!1,pin:u})});else{const e="backend"===h?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:(n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0)+"px"}}return{}}(u):{};M=Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(m.jsx)(dt.b,{animateGif:A&&a,cropHeight:N,cropWidth:B,fallbackColor:n,imageFit:o,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,mediumResOnly:"medium-res"===p,onLoad:d,onError:l,pin:u})})}else M=Object(m.jsx)(f.f,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:N||void 0,justifyContent:"center",children:Object(m.jsx)(ut.a,{cropHeight:N,rootMargin:b,inAdsDesktopVideoExperiment:k&&y,pin:u,surface:O,onLoad:d,viewType:S,viewParameter:x,highResOnly:"high-res"===p,lowResOnly:"low-res"===p,onError:l,isExperimentalPinRep:!0})});const U=Object(m.jsx)(f.D,{wash:!0,children:Object(m.jsx)(c.a,{hovered:r,pin:u,slotIndex:_,viewType:1,children:M})}),F=["selected-image-only","deselected-image-only"].includes(g),V="selected-image-only"===g,G=Object(i.useRef)(!0);if(Object(i.useEffect)(()=>{G.current||!r||R||t||(I?function(e){var t;const{pages:n,pages_preview:i}=e;if(!i&&!n)return;const o=i?i[0]:null==n?void 0:n[0],r=null==o||null===(t=o.blocks)||void 0===t?void 0:t.find(e=>3===e.block_type);if(r&&r.video){const{hlsv3:e,mp4:t}=Object(gt.a)(r.video)||{},n=t||e;var a;n&&xt(null!==(a=n.url)&&void 0!==a?a:"",Ot)}}(I):w.startsWith("enabled_mp4_and_hls_manifest")?function(e){const{videos:t}=e,{video_list:n}=t||{},i=Object(wt.q)({pin:e}),{video:o}=Object(wt.y)(i)||{},{hls:r,hlsv3:a,mp4:s}=o||{};if(n){const e=Object(gt.b)(n)||{},t=a||r||{},i=ft.a.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",o=t.duration||(null==s?void 0:s.duration)||null;var c;if(o&&Object(mt.b)(i,o)&&i.startsWith("enabled")&&e.url)St(null!==(c=e.url)&&void 0!==c?c:"");else if(t.url){var l;St(null!==(l=t.url)&&void 0!==l?l:"")}}}(u):w.startsWith("enabled_mp4_and_hls")&&function(e){const{videos:t}=e,{video_list:n}=t||{},i=Object(wt.q)({pin:e}),{video:o}=Object(wt.y)(i)||{},{hls:r,hlsv3:a,mp4:s}=o||{};if(n){const e=Object(gt.b)(n)||{},t=a||r||{},i=ft.a.fromGlobalContext().experiments.v2GetGroup("web_mp4_video_closeup")||"",o=t.duration||(null==s?void 0:s.duration)||null;var c;if(o&&Object(mt.b)(i,o)&&i.startsWith("enabled")&&e.url)St(null!==(c=e.url)&&void 0!==c?c:"");else if(t.url){var l;St(null!==(l=t.url)&&void 0!==l?l:"").then(e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter(e=>e.endsWith(".m3u8"))),t&&t[bt.a]){const e=Tt(t[bt.a]);return St(null!=e?e:"")}return null}).then(e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter(e=>e.endsWith(".ts"))),t&&t[0]){const e=Tt(t[0]);return St(null!=e?e:"")}return null})}}}(u)),G.current=!1},[t,r,R,I,u,w]),t)return Object(m.jsxs)(i.Fragment,{children:[U,F&&Object(m.jsx)(pt,{isSelected:V}),C&&Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(m.jsx)(lt.a,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:H}=v||{},z=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(O);return Object(m.jsxs)(ke,{contextLogData:{grid_index:_,image_signature:E,commerce_data:z?H:void 0},elementType:35,pin:u,surface:O,children:[U,C&&Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(m.jsx)(lt.a,{pin:u,enableCloseupLink:!1})})]})}var Et=n("nuuT"),It=n("CgR/"),Ct=n("Sp3T");var Rt=It.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e})=>{const t=Object(u.c)(),n=Object(Ct.a)();return Object(m.jsx)(f.g,{fullWidth:!0,onClick:n(({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()}),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function kt(e){return e<160?"header-only":"none"}function Dt(e){const[t,n]=Object(i.useState)(e.current?kt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(i.useRef)();Object(i.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=kt(e);i!==t&&n(i)}),t}var At=n("W5T3"),Lt=n("dfU2"),Nt=n("I7CA"),Bt=n("vcEN"),Mt=n("DBaX");const Ut="#000000",Ft="#ffffff";function Vt({selected:e=!1}){const t=Object(u.c)(),{isRTL:n}=Object(Se.d)();return Object(m.jsx)(f.f,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Ut:Ft,borderRadius:Mt.b,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(m.jsx)(f.f,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(m.jsx)(f.w,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(m.jsx)(f.f,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:Object(m.jsx)(f.w,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Gt={wrapper:{borderRadius:Mt.b,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Mt.a.VISUAL},savedOverlay:{backgroundColor:Mt.a.SAVED},legoWashOverlay:{backgroundColor:Mt.a.LEGO_WASH}};function Ht({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:i,primaryContentVisibility:o="none",secondaryContent:r,secondaryContentVisibility:a="none",accessoryContent:s,accessoryContentVisibility:c="none",actionBar:l,actionBarVisibility:d="none",seeStatsButton:u,footer:h,selectionState:p="no-selection",debugContent:b,signalDebuggerContent:g,signalDebuggerV2Content:j,signalDebuggerV2ContentVisibility:y="none",obscuredPinOverlay:O,showNoPinBorderRadius:v,showPromotedPinBorderTreatment:_,shouldUseLegoWash:x}){return Object(m.jsx)(f.f,{dangerouslySetInlineStyle:{__style:_?Gt.promotedPinBorderTreatment:{}},height:"100%",children:Object(m.jsxs)(f.f,{dangerouslySetInlineStyle:{__style:v?{}:Gt.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(p)&&Object(m.jsx)(Vt,{selected:"selected"===p}),Object(m.jsxs)(f.f,{dangerouslySetInlineStyle:{__style:v?{}:Gt.wrapper},overflow:"hidden",position:"relative",children:[e,Object(m.jsx)(Bt.a,{visibility:n,children:Object(m.jsx)(Nt.a,{additionalStyles:x?Gt.legoWashOverlay:Gt.visualOverlay})}),Object(m.jsx)(Bt.a,{visibility:t,children:Object(m.jsx)(Nt.a,{additionalStyles:x?Gt.legoWashOverlay:Gt.savedOverlay})}),s&&Object(m.jsx)(Bt.a,{visibility:c,children:Object(m.jsx)(Nt.a,{children:s})}),r&&Object(m.jsx)(Bt.a,{visibility:a,children:Object(m.jsx)(Nt.a,{children:r})}),i&&Object(m.jsx)(Bt.a,{visibility:o,children:Object(m.jsx)(Nt.a,{children:i})}),j&&Object(m.jsx)(Bt.a,{visibility:y,children:Object(m.jsx)(Nt.a,{children:Object(m.jsx)(f.f,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:j})})}),l&&Object(m.jsx)(Bt.a,{visibility:d,children:Object(m.jsx)(Nt.a,{children:Object(m.jsx)(f.f,{position:"absolute",left:!0,right:!0,bottom:!0,children:l})})}),u&&Object(m.jsx)(Nt.a,{children:Object(m.jsx)(f.f,{position:"absolute",left:!0,bottom:!0,children:u})}),b&&Object(m.jsx)(Nt.a,{children:b}),g]}),h,O&&Object(m.jsx)(f.f,{children:O})]})})}var zt=n("078/");function Wt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function qt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Yt=228;t.b=Object(i.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:a=!1,footerProps:c,forcePrimaryContentVisibility:l,impressionsDebuggerProps:d,onError:u,onLoad:h,obscuredPinOverlayProps:p,pin:b,pinVisualProps:g,presentationProps:j,primaryContentProps:y,selectionState:O,secondaryContentProps:v,showAccessoryContent:x,showActionBar:S,showFooter:w,showImpressionsDebugger:T,showSeeStatsButton:P,showSignalDebugger:C,showObscuredPinOverlay:R,showPrimaryAndSecondaryContent:k,surface:D}){const{savedInfo:A}=b,{viewType:L}=Object(s.b)(),{showEnabledSaveBehavior:N}=Object(et.c)(zt.a.includes(D)||zt.c.includes(D)),[B,M]=Object(i.useState)(!1),U=Object(ze.b)(B);let{isHovering:F,hoverTransitionState:V,handleMouseOver:G,handleMouseLeave:H}=function(){const[e,t]=Object(i.useState)(!1);return{isHovering:e,hoverTransitionState:Object(ze.b)(e,0,ze.a),handleMouseOver:Object(i.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(i.useCallback)(()=>t(!1),[t])}}();a&&(F=!1,V="inactive");const z=Object(ze.b)(!!A),W=Wt(z),q=Wt(V),Y=Wt(V),K=Wt(U),X=Wt(z),$=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(D),Z="visible"!==W||$?W:"none",J={primaryContentVisibility:qt(Y,K,"visible"===X?"none":X),secondaryContentVisibility:(Q=qt(Y,K,X),"none"===Q?"visible":"visible"===Q?"none":"hidden"),actionBarVisibility:qt(Y,K),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var Q;const ee=e=>M(e),te=e=>M(e),ne=e=>{M(e),e||H()};let ie=null;l&&(J.primaryContentVisibility="visible"),"none"!==J.primaryContentVisibility&&k&&(ie=Object(m.jsx)(at,{forcePrimaryContent:ee,showEnabledSaveBehavior:N,onToggleFlyout:te,onToggleModal:ne,pin:b,...y}));let oe=null;const re=Object(i.useRef)(!0),ae=re.current;re.current=!1;const se=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,a]=Object(i.useState)(!n||t),s=Object(i.useRef)(o),c=Object(i.useRef)(null);if(n){const e=s.current;s.current=o,(o!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(i.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(b,ae),ce=Wt(Object(ze.b)(se));J.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(J.secondaryContentVisibility,ce),oe=(v.allowShoppingPriceIndicator||v.shoppingLabelColor||"none"!==J.secondaryContentVisibility)&&k&&!n&&Object(m.jsx)(f.f,{margin:2,children:Object(m.jsx)(st.a,{pin:b,...v})});let le=null;x&&(le=Object(m.jsx)(E,{pin:b}),J.accessoryContentVisibility=Wt(V)),g.isSocialSeasonalBoard&&(e.showShareButton=!1);let de=null;P&&(e.showSourceLinkButton=!1,de=Object(m.jsx)(o.b,{children:Object(m.jsx)(Et.b,{pinId:b.id,surface:D})}));const ue=S?Object(m.jsx)(_,{onToggleFlyout:te,pin:b,setForcePrimary:M,surface:D,...e}):null;let he=null;w&&(he=Object(m.jsx)(Je,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===c.attributionType?V:null,pin:b,setForcePrimary:M,surface:D,...c})),g.isSocialSeasonalBoard&&(he=Object(m.jsx)(f.f,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(m.jsx)(f.f,{margin:"auto",width:Yt,children:Object(m.jsx)(Rt,{isFlyoutOpen:B,onFlyoutDismiss:()=>te(!B),onToggleFlyout:()=>te(!B),pinId:b.id,sendType:"pin",shownWithinMasonry:!0,viewType:L})})}));const pe=T&&Object(m.jsx)(At.b,{...d}),be=C&&b.debug_info_html&&Object(m.jsx)(f.f,{paddingY:1,children:Object(m.jsx)("pre",{children:b.debug_info_html})}),fe=Object(m.jsx)(I.a,{pin:b}),me=Object(i.useRef)();"header-only"===Dt(me)&&(J.actionBarVisibility="none",J.accessoryContentVisibility="none");const ge=R?Object(m.jsx)(Lt.a,{pin:b,...p}):null,je="ShoppingWishlist"===D?{height:"100%"}:{};return Object(m.jsx)(r.a,{name:"PinRepContainer",children:Object(m.jsx)("div",{"data-test-id":"pin","data-test-pin-id":b.id,onFocus:G,onBlur:H,onMouseEnter:G,onMouseLeave:H,style:je,children:Object(m.jsx)(Ht,{visualOverlayVisibility:q,savedOverlayVisibility:Z,primaryContent:ie,primaryContentVisibility:J.primaryContentVisibility,secondaryContent:oe,secondaryContentVisibility:J.secondaryContentVisibility,accessoryContent:le,accessoryContentVisibility:J.accessoryContentVisibility,actionBar:ue,actionBarVisibility:J.actionBarVisibility,seeStatsButton:de,footer:he,selectionState:O,debugContent:pe,signalDebuggerV2Content:fe,signalDebuggerV2ContentVisibility:J.signalDebuggerV2ContentVisibility,signalDebuggerContent:be,obscuredPinOverlay:ge,...j,children:Object(m.jsx)(f.f,{height:"100%",ref:me,children:Object(m.jsx)(Pt,{blockClickEvents:t,isHovering:F,onError:u,onLoad:h,pin:b,surface:D,selectionState:O,...g})})})})})}))},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},gSZa:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("iYS+"),o=n("Ofms"),r=n("yweb"),a=n("eqXv"),s=n("vvax"),c=n("5+ob"),l=n("U4JR"),d=n("1Fta"),u=n("n6mq"),h=n("nKUr");function p({feedbackData:e,feedbackType:t,pinId:n,onHide:p,recommendationReason:b,viewParameter:f,viewType:m}){const g=Object(r.c)(),j=Object(d.a)({i18n:g,interpolateNamedTemplate:s.b}),y=(i,o)=>{const r=b&&b.reason&&c.ReasonToChoose[b.reason],s=b&&Object(d.d)(b),u=b&&Object(d.e)(b),{action:h,actionOptions:g}=j.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:r,throughId:s,throughProperties:u,complaintReason:i});(e=>{Object(l.b)(101,{view:m,viewParameter:f,element:e,component:Object(d.c)(t)})})(o),Object(a.a)(h,g),p()},O="promoted"===t?[{text:g._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:g._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:g._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:g._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:g._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:g._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:g._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:g._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(h.jsxs)(u.f,{overflow:"hidden",rounding:2,width:"100%",children:[Object(h.jsx)(u.f,{paddingX:4,paddingY:4,children:Object(h.jsx)(u.cb,{color:"darkGray",size:"md",children:g._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(h.jsx)(u.q,{}),Object(h.jsx)(u.f,{paddingY:2,children:O.map(({text:e,reason:t,elementType:n})=>Object(h.jsx)(o.a,{id:"hide-reason-"+e.split(" ").join("-"),children:Object(h.jsx)(u.bb,{fullWidth:!1,onTap:()=>y(t,n),children:Object(h.jsx)(i.a,{compact:!0,text:e})})},e))})]})}},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return _e}));var i=n("q1tI"),o=n("/MKj"),r=n("FDmi"),a=n("hFfv"),s=n("xkL+"),c=n("oVol"),l=n("yweb"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),h(this,"state",{textValue:this.props.initialTextValue||""}),h(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),h(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},o="conversation_share_suggestion"===i.type,s=o?(i.users||[]).filter(e=>e.id!==n):[];return Object(u.jsxs)(d.f,{paddingX:4,width:360,children:[Object(u.jsxs)(d.f,{alignItems:"center",display:"flex",paddingY:4,children:[Object(u.jsx)(d.f,{height:48,paddingX:1,width:56,children:o?Object(u.jsx)(a.a,{collaborators:s.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(u.jsx)(r.a,{name:i.full_name||i.email||" ",src:i.image_large_url})}),Object(u.jsxs)(d.f,{flex:"grow",marginStart:1,children:[Object(u.jsx)(d.cb,{weight:"bold",children:o?s.map(e=>e.first_name||e.full_name).join(", "):i.full_name||i.email}),Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:o||i.username?i.username:this.props.i18n._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(u.jsx)(d.x,{accessibilityLabel:this.props.i18n._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.f,{paddingX:1,children:Object(u.jsx)(d.db,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(u.jsx)(d.f,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(u.jsx)(d.g,{color:"red",onClick:this.handleSendMessage,size:"lg",text:this.props.i18n._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}function b(e){const t=Object(l.c)(),n=Object(s.b)();return Object(u.jsx)(p,{...e,viewerId:n.isAuth?n.id:"",i18n:t})}var f=n("fZbY");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),m(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),m(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),m(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),m(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(u.jsxs)(d.f,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(u.jsxs)(d.f,{display:"flex",alignItems:"center",paddingY:4,children:[Object(u.jsx)(d.f,{flex:"grow",children:Object(u.jsx)(d.cb,{weight:"bold",children:this.props.i18n._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(u.jsx)(d.x,{accessibilityLabel:this.props.i18n._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(u.jsxs)(d.u,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[Object(u.jsx)(d.f,{paddingY:1,marginBottom:4,children:Object(u.jsx)(d.db,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(u.jsx)(d.db,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(u.jsx)(d.f,{paddingY:4,display:"flex",justifyContent:"center",children:Object(u.jsx)(d.g,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(f.a)(this.state.emailValue)})})]})]})}}function j(e){const t=Object(l.c)();return Object(u.jsx)(g,{...e,i18n:t})}var y=n("vvax");function O({email:e,isValid:t,onClick:n,showSendEmailText:i}){const o=Object(l.c)(),a=t?o._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?Object(y.b)(o._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(y.b)(o._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(u.jsx)(d.f,{marginBottom:4,children:Object(u.jsx)(d.bb,{onTap:()=>{t&&n()},children:Object(u.jsxs)(d.u,{alignItems:"stretch",justifyContent:"start",children:[Object(u.jsx)(d.f,{height:48,width:48,children:Object(u.jsx)(r.a,{name:e})}),Object(u.jsxs)(d.f,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(u.jsx)(d.cb,{weight:"bold",size:"lg",children:s}),Object(u.jsx)(d.cb,{size:"sm",color:"gray",children:a})]})]})})})}var v=n("iS6d"),_=n("w1Xl"),x=n("8vQR"),S=n("Ofms");function w(e){const t=Object(l.c)(),{shouldShowViewChat:n,isSent:i,onClickSend:o,onViewConversation:r}=e;return Object(u.jsx)(d.u,{alignItems:"stretch",justifyContent:"start",children:n?Object(u.jsx)(d.bb,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:Object(u.jsxs)(d.f,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(u.jsx)(d.cb,{color:"darkGray",size:"md",lineClamp:1,weight:"bold",children:t._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(u.jsx)(d.f,{marginStart:1,children:Object(u.jsx)(d.w,{accessibilityLabel:t._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(u.jsx)(S.a,{id:i?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(u.jsx)(d.g,{color:i?"gray":"red",disabled:i,onClick:o,size:"lg",text:i?t._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):t._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var T=n("U4JR");function P(e){var t,n,o;const{item:c,textFieldValue:l,onSendMessage:h,onShowSendDraft:p,onViewConversation:b,sentHistory:f}=e,[m,g]=Object(i.useState)(!1),[j,y]=Object(i.useState)(!1),[O,S]=Object(i.useState)(!1),P=c.id||"string"==typeof c.email&&c.email||"",E=P in f,I=""!==l,C=null!==(t=f[P])&&void 0!==t?t:"",R=Object(s.b)().id||"",k="conversation_share_suggestion"===c.type,D=k?(c.users||[]).filter(e=>e.id!==R):[],A=c.debug_reason&&c.debug_reason.readable_reason;let L="";"string"!=typeof c.full_name||c.full_name.match(/^\s*$/)?"string"!=typeof c.email||c.email.match(/^\s*$/)||(L=c.email):L=c.full_name;return m?Object(u.jsx)(d.f,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(u.jsx)(_.a,{identifier:null!==(n=c.id)&&void 0!==n?n:c.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:D.length>1})}):Object(u.jsxs)(d.f,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(u.jsx)(d.bb,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(c)},children:Object(u.jsx)(d.j,{onMouseEnter:()=>{y(!(I||O&&E))},onMouseLeave:()=>y(!1),children:Object(u.jsxs)(d.u,{alignItems:"center",justifyContent:"start",children:[Object(u.jsx)(d.f,{height:48,width:48,children:k?Object(u.jsx)(a.a,{collaborators:D.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(u.jsx)(r.a,{accessibilityLabel:"",name:L,src:c.image_medium_url})}),Object(u.jsxs)(d.u,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"100%",children:[Object(u.jsxs)(d.f,{dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(u.jsx)(d.f,{marginBottom:1,children:Object(u.jsx)(d.cb,{color:"darkGray",lineClamp:1,weight:"bold",children:k?D.map(e=>e.first_name||e.full_name).join(", "):L})}),I&&A?Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:A}):"string"==typeof c.username&&Object(u.jsx)(d.cb,{color:"gray",size:"sm",children:c.username})]}),Object(u.jsxs)(d.u,{alignItems:"center",flex:"none",justifyContent:"end",children:[j&&Object(u.jsx)(d.f,{display:"flex",marginEnd:2,children:Object(u.jsx)(x.a,{identifier:null!==(o=c.id)&&void 0!==o?o:c.email,onHide:()=>g(!0),component:13029,element:11917})}),Object(u.jsx)(w,{shouldShowViewChat:E,isSent:O,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=l?1044:1039;Object(T.b)(101,{component:13029,element:i,entered_query:l,result_index:n+1,rs:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})})(),S(!0),h(c),y(!1)},onViewConversation:()=>b(C)})]})]})]})})}),Object(u.jsx)(v.a.Consumer,{children:e=>{var t;return e?Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(u.jsx)(d.v,{color:"blue",size:"sm",children:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var E=n("w70y"),I=n("ZdHo"),C=n("fhk9");function R(e){const t=Object(l.c)(),{onChange:n,onSendMessage:r,onShowSendDraft:a,onShowImportContacts:s,sentHistory:c,value:h,paddingX:p}=e,{isLoaded:b}=Object(E.a)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{isLoaded:m}=Object(E.a)({name:"ShareSuggestionsTypeaheadResource",options:{field_set_key:"default",term:h||"default"},noCache:!0}),g=Object(o.useSelector)(e=>e.social.shareSuggestions[h]||[]);Object(i.useEffect)(()=>{if(!h&&b){const e=g.length>0?7511:7512;Object(T.b)(e,{component:56,view:70,viewParameter:256})}},[b]);const j=Object(o.useDispatch)(),y=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{j(Object(I.e)(e))})(t),j(C.a)},v=g.map((e,t)=>{const n=`${t}-${h?"search":"suggestion"}`,i={item:e,idx:t,onSendMessage:r,onShowSendDraft:a,onViewConversation:y,sentHistory:c,textFieldValue:h};return Object(u.jsx)(P,{...i},n)}),_=0===g.length&&(""===h&&!b||""!==h&&!m);return Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.f,{display:"flex",paddingX:p,position:"relative",children:Object(u.jsx)(d.f,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(u.jsx)(d.Q,{accessibilityLabel:t._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:n,placeholder:t._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:h})})}),Object(u.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(u.jsxs)(d.f,{paddingX:p,children:[Object(u.jsx)(d.f,{paddingY:_?2:0,children:Object(u.jsx)(d.U,{accessibilityLabel:t._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:_})}),Object(u.jsxs)(d.f,{children:[v,h&&Object(u.jsxs)(d.f,{children:[Object(u.jsx)(d.j,{children:Object(u.jsx)(O,{email:h,isValid:Object(f.a)(h),onClick:()=>a({email:h,full_name:h}),showSendEmailText:!1})}),!_&&Object(u.jsx)(d.f,{width:"100%",children:Object(u.jsx)(d.j,{children:Object(u.jsx)(d.bb,{onTap:s,children:Object(u.jsxs)(d.u,{alignItems:"center",direction:"row",justifyContent:"start",children:[Object(u.jsx)(d.f,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(u.jsx)(d.w,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(u.jsx)(d.f,{paddingX:3,children:Object(u.jsx)(d.cb,{weight:"bold",children:t._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})}var k=n("d7ng"),D=n("ZtJp"),A=n("WM6B");var L=({text:e})=>Object(u.jsx)(d.cb,{align:"center",size:"sm",children:Object(u.jsx)(A.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var N=({iconSize:e,marginEnd:t,children:n})=>Object(u.jsx)(d.f,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const B=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var M=({onClick:e,iconColor:t,iconSize:n,backgroundColor:o,invitePath:r,marginEnd:a})=>{const s=Object(l.c)(),[c,h]=Object(i.useState)(!1),p=Object(i.useRef)(null);return Object(i.useEffect)(()=>{B().then(({default:e})=>{e.isSupported()&&(e=>{if(!p.current||!B)return;new e(p.current,{text:()=>r}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[r]),Object(u.jsx)(N,{iconSize:n,marginEnd:a||!1,children:Object(u.jsxs)(d.f,{ref:p,children:[Object(u.jsx)(d.bb,{onTap:()=>{e(),h(!0),setTimeout(()=>{h(!1)},3e3)},children:Object(u.jsx)(d.u,{alignItems:"center",direction:"column",justifyContent:"center",children:Object(u.jsx)(D.a,{backgroundColor:o,iconColor:t,size:n})})}),Object(u.jsx)(L,{text:c?s._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):s._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},U=n("SNfw"),F=n("K316"),V=n("TvzZ");function G({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const o=t||(i?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return Object(u.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(u.jsx)("circle",{fill:r,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(u.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:o,children:[Object(u.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(u.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(u.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(u.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(u.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(u.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(u.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(u.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(u.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}function H({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:o}){const r=Object(l.c)(),a=Object(s.b)();return t&&[c.a.BOARD,c.a.PINNER,c.a.USER].includes(e.type)&&a.isAuth&&(e.id===a.id||a.isEmployee)?Object(u.jsxs)(N,{iconSize:i,marginEnd:!0,children:[Object(u.jsx)(d.bb,{fullWidth:!1,onTap:t,children:Object(u.jsx)(G,{backgroundColor:o,iconColor:n,size:i})}),Object(u.jsx)(L,{text:r._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var z=n("mBfy"),W=n("udob");const q="#EFEFEF",Y="#333333";function K({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",i=t?q:"#1877f2";return Object(u.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(u.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function X({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",i=t?q:"#0DC2FF";return Object(u.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function $({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",i=t?q:"#25d366";return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(u.jsxs)("g",{id:"surface1",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}function Z({size:e=48,grayscale:t=!1}){const n=t?Y:"#fff",i=t?q:"#00b900";return Object(u.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsxs)("g",{id:"FULL_COLOR_ICON","data-name":"FULL COLOR ICON",children:[Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M18,35.97644h0a18.05292,18.05292,0,0,1-18-18H0a18.05292,18.05292,0,0,1,18-18h0a18.05292,18.05292,0,0,1,18,18h0A17.9886,17.9886,0,0,1,18,35.97644Z",transform:"translate(0 0.02356)"}),Object(u.jsxs)("g",{id:"TYPE_A","data-name":"TYPE A",children:[Object(u.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M28.5,17.05606c0-4.7-4.7-8.5-10.5-8.5s-10.5,3.8-10.5,8.5c0,4.2,3.7,7.7,8.8,8.4.3.1.8.2.9.5a1.37864,1.37864,0,0,1,0,.9s-.1.7-.1.9c0,.3-.2,1,.9.6a36.05491,36.05491,0,0,0,8.2-6.1h0a7.86275,7.86275,0,0,0,2.3-5.2",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M15.8,14.75606h-.7a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-4.6c0-.1,0-.2-.2-.2",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M20.9,14.75606h-.7a.21508.21508,0,0,0-.2.2v2.7l-2.1-2.8H17a.21508.21508,0,0,0-.2.2v4.6a.21508.21508,0,0,0,.2.2h.7a.21508.21508,0,0,0,.2-.2v-2.7l2.1,2.8.1.1h.8a.21508.21508,0,0,0,.2-.2v-4.6c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M14.1,18.55606h-2v-3.6a.21508.21508,0,0,0-.2-.2h-.7a.21508.21508,0,0,0-.2.2v4.6h0c0,.1,0,.1.1.1h0l.1.1h2.9a.21508.21508,0,0,0,.2-.2v-.7c0-.2-.1-.3-.2-.3",transform:"translate(0 0.02356)"}),Object(u.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M25,15.85606a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H22c-.1,0-.1,0-.1.1h0l-.1.1h0v4.6h0c0,.1,0,.1.1.1h0l.1.1h3a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2a.21508.21508,0,0,0,.2-.2v-.7a.21508.21508,0,0,0-.2-.2H23v-.8h2Z",transform:"translate(0 0.02356)"})]})]})})}var J=n("nGHF");function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=48,te="#111111",ne="#EFEFEF",ie={backgroundColor:"#ffffff",border:"none",padding:0},oe=new Set(["JP","TW","TH"]),re=e=>{Object(V.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},F.a)};class ae extends i.Component{constructor(...e){super(...e),Q(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Q(this,"mounted",!1),Q(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(W.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),Q(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||W.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),Q(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===c.a.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case c.a.BOARD:return this.props.i18n._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case c.a.PIN:return this.props.i18n._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case c.a.PINNER:return this.props.i18n._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(k.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!z.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e&&(this.openLineDialog(),t=952),this.props.onExternalSend&&this.props.onExternalSend(),Object(T.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){re(()=>{W.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){re(()=>{W.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.a.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){W.a.shareLineInvite(this.getShareOptions(8))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t,showLineShare:n}=this.props;return Object(u.jsxs)(i.Fragment,{children:[Object(u.jsxs)(d.u,{alignItems:"stretch",justifyContent:"around",children:[n&&Object(u.jsxs)(N,{iconSize:ee,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":this.props.i18n._("Share on LINE","sharesheet.shareSocialBar.ShareLine","Button that will share via Line"),onClick:()=>this.handleSocialShareClick("line"),style:ie,children:Object(u.jsx)(Z,{size:48})}),Object(u.jsx)(L,{text:this.props.i18n._("LINE","sharesheet.shareSocialBar.ShareLineLabel","Line button label")})]}),Object(u.jsxs)(N,{iconSize:ee,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":this.props.i18n._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ie,tabIndex:"-1",children:Object(u.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(u.jsx)($,{size:ee})})}),Object(u.jsx)(L,{text:this.props.i18n._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(u.jsxs)(N,{iconSize:ee,marginEnd:!0,children:[Object(u.jsx)("button",{"aria-label":this.props.i18n._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ie,children:Object(u.jsx)(K,{size:ee})}),Object(u.jsx)(L,{text:this.props.i18n._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(u.jsxs)(N,{iconSize:ee,marginEnd:!n,children:[Object(u.jsx)("button",{"aria-label":this.props.i18n._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ie,children:Object(u.jsx)(X,{size:ee})}),Object(u.jsx)(L,{text:this.props.i18n._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),!n&&Object(u.jsx)(N,{iconSize:ee,marginEnd:!1,children:this.renderEmail()})]}),Object(u.jsxs)(d.f,{display:"flex",paddingY:4,children:[Object(u.jsx)(H,{backgroundColor:ne,iconColor:te,iconSize:ee,onCreatePincodeClick:t,sharedObject:e}),Object(u.jsx)(M,{backgroundColor:ne,iconColor:te,iconSize:ee,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink"),marginEnd:n},"copylink"),n&&this.renderEmail()]})]})}renderEmail(){return Object(u.jsxs)(N,{iconSize:ee,marginEnd:!0,children:[Object(u.jsx)(d.f,{display:"inlineBlock",children:Object(u.jsx)("button",{"aria-label":this.props.i18n._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:ie,children:Object(u.jsx)(U.a,{backgroundColor:ne,iconColor:te,size:ee})})}),Object(u.jsx)(L,{text:this.props.i18n._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(u.jsxs)(d.f,{paddingX:t,children:[Object(u.jsx)(d.u,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:Object(u.jsx)(d.cb,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(u.jsx)(d.f,{paddingX:2,children:this.renderShareOptions()})]})}}function se(e){const t=Object(l.c)(),n=Object(s.b)(),i=n.isAuth&&oe.has(n.country);return Object(u.jsx)(ae,{...e,toastManagerContext:Object(J.b)(),viewer:Object(s.b)(),showLineShare:i,i18n:t})}var ce=n("7w6Q"),le=n("eOdZ"),de=n("M1Uz");function ue(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var he=n("ENhS");const pe=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var be=Object(o.connect)(null,e=>({createConversation:t=>e(Object(I.b)(t)),sendMessage:t=>e(t)}))((function(e){const t=Object(l.c)(),[n,o]=Object(i.useState)(!1),[r,a]=Object(i.useState)(null),[h,p]=Object(i.useState)({}),[f,m]=Object(i.useState)(""),[g]=Object(i.useState)(((e,t)=>"today_article"===e?t._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType,t)),{showOneToast:y}=Object(J.b)(),{surface:O}=Object(he.b)(),v=Object(s.b)(),_=(t,n)=>{o(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,o=i.id;ce.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(T.b)(180,{element:276,objectId:o,conversation_id:t,pin_id:n})})(t,n)},x=e=>{ce.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&y(({onHide:e})=>Object(u.jsx)(de.a,{color:"red",duration:5e3,onHide:e,text:t}))},S=async(t,n,i)=>{const{createConversation:o,sharedObject:r,sendType:a}=e,s=r.id,c={emails:n,user_ids:t,text:i,source:ue(O)};c[a]=s;const l=le.a.create("ConversationsResource",c);try{const e=await l.callCreate(),i=e&&e.resource_response.data;o(i),_(i.id,"pin"===a?s:null),t.length>0?p({...h,...pe(t,i.id)}):p({...h,...pe(n,i.id)})}catch(d){x(d)}},w=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:o,sharedObject:r,sendType:a}=e;let s;switch(a){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const c=s?Object(I.g)(t,{text:n,[s]:r.id,source:ue(O)},void 0,v):void 0;c&&(o(c),c.getPromise().then(()=>{_(t,"pin"===a?r.id:null),p({...h,[t]:t})}).catch(e=>{x(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?S([],[t.email],n):S([t.id],[],n),Object(T.b)(101,{component:56,element:276})},P=(t,n)=>{e.sendType!==c.a.SEARCH||n?w(t,n):le.a.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e)).then(e=>{const n=e.message;w(t,n)})},E=()=>{o(!1),a(null)},{onCreatePincodeClick:C,onShowImport:k,sendType:D,sharedObject:A,isFlyout:L,onHide:N,onExternalSend:B}=e,M="email"===r?Object(u.jsx)(j,{initialTextValue:g,isFlyout:L,objectId:A.id,objectType:D,onCancelDraft:E,onHide:N,onSendMessage:P}):Object(u.jsx)(b,{initialTextValue:g,isFlyout:L,objectId:A.id,objectType:D,onCancelDraft:E,onHide:N,onSendMessage:P,recipient:"object"==typeof r?r:void 0});return n?M:Object(u.jsxs)(d.f,{color:"white",children:[Object(u.jsx)(se,{onCreatePincodeClick:C,onEmailIconClick:()=>{o(!0),a("email")},onExternalSend:B,onHide:N,paddingX:4,sharedObject:A}),Object(u.jsx)(d.f,{children:Object(u.jsx)(R,{isFlyout:L,onChange:({value:e})=>{m(e),Object(T.b)(4113,{component:13029,element:1043})},onHide:N,onSendMessage:P,onShowImportContacts:k,onShowSendDraft:e=>{o(!0),a(e),m("")},paddingX:4,sentHistory:h,value:f})})]})})),fe=n("TSYQ"),me=n.n(fe),ge=n("+zF7");const je=["facebook","google"];function ye(e,t){return"facebook"===e?t._("Facebook"):"twitter"===e?t._("Twitter"):"google"===e?t._("Google"):t._("Other")}function Oe(e){const t=Object(l.c)(),n=me()("sendShare",e.network),i=function(e,t,n){return"facebook"===e?n._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}(e.network,e.email,t);return Object(u.jsx)("a",{onClick:e.onClick,role:"button",children:Object(u.jsxs)("div",{className:n,children:[Object(u.jsx)("em",{className:"icon"}),Object(u.jsxs)("div",{className:"networkInfo",children:[Object(u.jsx)("h4",{className:"title",children:ye(e.network,t)}),i?Object(u.jsx)("div",{className:"subtitle",children:i}):null]})]})})}function ve({onBack:e}){const t=Object(l.c)(),n=Object(s.b)(),i=n.isAuth?n.email:null,o=je.filter(e=>!n.isAuth||!1===n.socialNetwork[e].connected);return Object(u.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"backNav",children:Object(u.jsxs)("a",{onClick:e,role:"button",children:[Object(u.jsx)("span",{className:"icon"}),Object(u.jsx)("span",{className:"label",children:t._("Back")})]})}),Object(u.jsx)("div",{className:"prompt",children:t._("Upload contacts from...")})]}),Object(u.jsx)("ul",{className:"socialConnectOptions",children:o.map(e=>Object(u.jsx)("li",{style:{borderLeft:"none"},children:Object(u.jsx)(Oe,{email:i,network:e,onClick:()=>function(e){ge.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function _e({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:o,onHide:r,sendType:a,sharedObject:s,viewType:c,viewParameter:l}){const[h,p]=Object(i.useState)(!1),[b,f]=Object(i.useState)(!1);Object(i.useEffect)(()=>(Object(T.b)(7120,{objectId:s.id,view:c,viewParameter:l}),()=>{Object(T.b)(7121,{objectId:s.id,view:c,viewParameter:l});const e=b?7493:7492;Object(T.b)(e,{view:c,viewParameter:l})}),[]);const m=()=>{p(!0)},g=()=>{p(!1)},j=()=>{f(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(u.jsx)("div",{className:e,children:Object(u.jsx)(ve,{onBack:g})})})():Object(u.jsx)(d.f,{overflow:"hidden",children:Object(u.jsx)(be,{isFlyout:t,onCreatePincodeClick:n,onHide:r,onShowImport:m,onMessageSent:j,onExternalSend:o,sendType:a,sharedObject:s})})}},"h9/w":function(e,t,n){n.d(t,"a",(function(){return j}));var i=n("q1tI"),o=n("M1Uz"),r=n("yweb"),a=n("n6mq"),s=n("nKUr");function c(e){const t=Object(r.c)(),{onHide:n}=e,i=Object(s.jsx)(a.cb,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(s.jsx)(o.a,{onHide:n,text:i})}var l=n("eOdZ"),d=n("xkL+"),u=n("nGHF");var h=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const h=Object(r.c)(),[p,b]=Object(i.useState)(0),f=Object(d.b)(),{showOneToast:m}=Object(u.b)();if(!f.isEmployee)return null;const g=o.map(({signal_message:e})=>({href:"#",text:null!=e?e:""})),{background_color:j,icon_url:y,signal_id:O,signal_message:v}=o[p];return Object(s.jsx)(a.A,{children:Object(s.jsx)(a.L,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(s.jsxs)(a.f,{padding:4,width:"100%",children:[o.length>1&&Object(s.jsx)(a.f,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(s.jsx)(a.Z,{activeTabIndex:p,onChange:({event:e,activeTabIndex:t,disableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),b(e)})({activeTabIndex:t,event:e})},tabs:g})}),Object(s.jsx)(a.u,{alignItems:"center",justifyContent:"start",children:Object(s.jsx)(a.v,{size:"sm",children:h._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(s.jsx)(a.f,{paddingY:3,children:Object(s.jsxs)(a.u,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(s.jsx)(a.f,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?Object(s.jsx)(a.y,{alt:h._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):Object(s.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{backgroundColor:j}},height:40,width:40})}),Object(s.jsx)(a.cb,{size:"md",children:v})]})}),Object(s.jsx)(a.f,{marginBottom:3,children:Object(s.jsx)(a.cb,{size:"md",children:h._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(s.jsxs)(a.u,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(s.jsx)(a.g,{fullWidth:!0,color:"red",size:"md",text:h._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:f.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),m(({onHide:e})=>Object(s.jsx)(c,{onHide:e}))}}),Object(s.jsx)(a.g,{fullWidth:!0,color:"gray",size:"md",text:h._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},p=n("7pfs"),b=n("1unC"),f=n("clxp"),m=n("rYoy");function g({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[c,l]=Object(i.useState)(!1),d=Object(i.useRef)();return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(f.a,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:Object(s.jsx)(m.a,{children:Object(s.jsx)(a.f,{"data-test-id":"debug-signals-feedback-button",children:Object(s.jsx)(b.b,{children:Object(s.jsx)(p.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>Object(s.jsx)(a.bb,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:Object(s.jsxs)(a.f,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(s.jsx)(a.f,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(s.jsx)(a.f,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(s.jsx)(a.y,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),Object(s.jsx)(a.cb,{color:"white",size:"md",weight:"bold",children:r})]})})})})})})}),c&&d&&d.current&&Object(s.jsx)(h,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function j({pin:e}){if(!Object(d.b)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return n?Object(s.jsx)(g,{pinId:t,signals:n}):i?Object(s.jsx)(g,{pinId:t,signals:i}):o?Object(s.jsx)(g,{pinId:t,signals:o}):r?Object(s.jsx)(g,{pinId:t,signals:r}):a?Object(s.jsx)(g,{pinId:t,signals:a}):null}},hFfv:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("n6mq"),o=n("nKUr");const r=e=>{const{size:t,name:n,textLayout:r}=e,a=`calc(${Math.sin((s=45,s*(Math.PI/180)))} * (${t}) / 2)`;var s;const c=Object(o.jsx)(i.b,{name:n?[...n][0].toUpperCase():""});switch(r){case"bottomLeft":return Object(o.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"end",dangerouslySetInlineStyle:{__style:{paddingBottom:a,paddingRight:a}},children:c});case"topLeft":return Object(o.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"start",dangerouslySetInlineStyle:{__style:{paddingTop:a,paddingRight:a}},children:c});default:return Object(o.jsx)(i.f,{"aria-label":n,color:"lightGray",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:c})}};function a(e){const{collaborators:t,outline:n=!1,size:a="fit"}=e,{colorGray0:s,colorGray100:c}=Object(i.kb)(),l="fit"===a?"100%":32,d="fit"===a?"":32,u=((e,t)=>{switch(e){case 0:case 1:return[{top:0,left:0,width:t,height:t,textLayout:"center"}];case 2:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50% - 1px)",height:t,textLayout:"center"}];default:return[{top:0,left:0,width:"calc(50% - 1px)",height:t,textLayout:"center"},{top:0,left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"topLeft"},{top:"calc(50% + 1px)",left:"calc(50% + 1px)",width:"calc(50%)",height:"calc(50% - 1px)",textLayout:"bottomLeft"}]}})(t.length,l).map((e,n)=>[e,t[n]]);return Object(o.jsxs)(i.f,{color:"white",overflow:"hidden",rounding:"circle",width:l,height:d,position:"relative",dangerouslySetInlineStyle:{__style:{...n?{boxShadow:"0 0 0 2px "+s}:{},willChange:"transform"}},children:[Object(o.jsx)(i.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}}}),u.map(([e,t={name:"",src:void 0}],n)=>{const{width:a,height:s,top:l,left:d,textLayout:u}=e,{name:h,src:p}=t;return Object(o.jsxs)(i.f,{position:"absolute",width:a,height:s,dangerouslySetInlineStyle:{__style:{top:l,left:d}},children:[null!=p?Object(o.jsx)(i.y,{alt:h,color:c,src:p,naturalWidth:1,naturalHeight:1,fit:"cover"}):Object(o.jsx)(r,{name:h,textLayout:u,size:s}),Object(o.jsx)(i.f,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)","pointer-events":"none"}}})]},n)})]})}},hgQt:function(e,t,n){var i=n("Juji"),o=n("4sDh");e.exports=function(e,t){return null!=e&&o(e,t,i)}},iS6d:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(!1)},"iYS+":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),o=n("n6mq"),r=n("nKUr");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends i.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(r.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(r.jsxs)(o.f,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(r.jsx)(o.f,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(r.jsx)(o.w,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(r.jsx)(o.w,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(r.jsxs)(o.f,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(r.jsx)(o.cb,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(r.jsx)(o.u,{alignItems:"center",justifyContent:"start",children:!c&&i&&Object(r.jsx)(o.f,{marginBottom:2,marginTop:1,children:Object(r.jsx)(o.cb,{color:a,overflow:"normal",size:"sm",children:i})})})]})]})})}}a(c,"defaultProps",{bold:!0})},idmN:function(e,t,n){var i=n("ZWtO"),o=n("FZoo"),r=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],d=i(e,l);n(d,l)&&o(c,r(l,e),d)}return c}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jHGc:function(e,t,n){n.r(t),n.d(t,"PinRepEditButton",(function(){return s}));var i=n("yweb"),o=n("dtqy"),r=n("n6mq"),a=n("nKUr");function s({handlePinEditButtonClick:e,style:t,useLegoStyles:n=!1,usePersistentOneClickSaveStyles:o,wrappingIconStyle:s,shouldUseLegoStyles:c,onDelete:l}){const d=Object(i.c)(),u=Object(a.jsx)(r.x,{accessibilityLabel:d._("Edit","edit button on pin","edit button on pin"),bgColor:t&&t.bgColor||"white",icon:"edit",iconColor:t&&t.iconColor||"darkGray",onClick:({event:t})=>e(t),size:t&&t.size||"md"});return c?Object(a.jsx)(r.g,{fullWidth:!0,size:"lg",color:"gray",text:d._("Saved","PinRepEditButton.SavedButton","saved button on pin"),onClick:l,accessibilityLabel:d._("Pin Saved Button","PinRepEditButton.SavedButtonLabel","saved button label on pin"),selected:!0}):n||o?Object(a.jsx)("div",{style:{...s||{}},children:u}):u}t.default=Object(o.a)(s)},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},jZXB:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("zir5");class o extends i.a{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},jgRP:function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},jmst:function(e,t,n){var i=n("q1tI"),o=n("i8i4"),r=n.n(o),a=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const d=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends i.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=r.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(d,i),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=this.props.trackFullVisible?e.intersectionRatio>=1:i,r=this.props.trackFullVisible?0===e.intersectionRatio:!o;!this.seen&&o?this.enter(e):this.seen&&r&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return Object(a.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},kugi:function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var i=n("zir5"),o=n("4xvr"),r=n("eOdZ");class a extends i.a{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,i){const a={add_to_experiment:!!t,experiment_name:e};if(i&&(a.override_group=i),n&&(a.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new o.b("ActivateExperimentResource",e=>({experiments:e}))),this._queuedResource.enqueue(a);else{r.a.create("ActivateExperimentResource",a).callCreate({showError:!1})}}}},lIqH:function(e,t,n){n.r(t),n.d(t,"RoleBasedAccessControlProvider",(function(){return O})),n.d(t,"RoleBasedAccessControlConsumer",(function(){return j})),n.d(t,"useRoleBasedAccessControlContext",(function(){return y}));var i=n("q1tI"),o=n("IWjZ"),r=n("w70y"),a=n("xkL+"),s=n("QAzJ"),c=n("NdXn");const l=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[Object(c.a)(n)]=e[n]:t[Object(c.a)(n)]=l(e[n]));return t};var d=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...l(e[r])});const i=n.sort(({user:{businessName:e}},{user:{businesName:t}})=>e.localeCompare(t)),o=new Map;for(const r of i)o.set(r.id,r);return o},u=n("vtuW");const h={profiles:new Map,isPublicView:!1,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"TOGGLE_VIEW_AS_PUBLIC":return{...e,isPublicView:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var b=e=>{const[t,n]=Object(i.useReducer)(p,h,e=>{const t=Object(u.a)("orbacActiveProfile",e.activeProfile),n=Object(u.a)("orbacVisibilty",e.orbacVisibility);return{...e,activeProfile:t,orbacVisibility:n}}),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:a,isPublicView:s}=n;return{changeProfile:Object(i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]),toggleORBACVisibility:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})},[t,e,o]),toggleDisableProfileChanger:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})},[t,e,r]),toggleHeaderVisibility:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!a})},[t,e,a]),toggleViewAsPublic:Object(i.useCallback)(n=>{t&&e({type:"TOGGLE_VIEW_AS_PUBLIC",payload:null!=n?n:!s})},[t,e,s])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:a}=t;Object(i.useEffect)(()=>{Object(u.c)("orbacVisibility",a)},[a]),Object(i.useEffect)(()=>{Object(u.c)("orbacActiveProfile",r)},[r]);return{state:t,actions:o,receiveProfiles:Object(i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:d(e,t)})},[n])}},f=n("1dBE"),m=n("nKUr");const{Provider:g,Consumer:j,useHook:y}=Object(f.b)("RoleBasedAccessControlContext"),O=({children:e})=>{const t=Object(s.a)("web_m10n_business_access_orbac_www"),n=Object(a.b)(),c=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:l,actions:d,receiveProfiles:u}=b(c),{activeProfile:h,headerVisible:p,profiles:f}=l,j=Object(o.a)(f?Array.from(f.values()):[]),y=!(!n.isAuth||!f)&&j,O=n.isAuth?n.id:"",v=n.isAuth?n.username:"",{changeProfile:_,toggleORBACVisibility:x,toggleDisableProfileChanger:S,toggleHeaderVisibility:w,toggleViewAsPublic:T}=d;Object(i.useEffect)(()=>{c&&("string"!=typeof j?h||_(O):_(j))},[j,O,c,_,h]),Object(i.useEffect)(()=>{c&&(y&&!p&&w(!0),!y&&p&&w(!1))},[w,y,c,p,f]);const{data:P}=Object(r.a)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!c}),E=null==P?void 0:P.profiles;let I;n&&n.isAuth&&l.activeProfile===n.id?I={id:n.id,permissions:["OWNER"],user:{username:v,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:h&&l.profiles&&(I=l.profiles.get(h)),Object(i.useEffect)(()=>{E&&u(E,O)},[u,E,O]);const C=l.profiles?Array.from(l.profiles.values()):[];return Object(m.jsx)(g,{value:{profiles:C,headerVisible:l.headerVisible,activeProfile:I,isPublicView:l.isPublicView,changeProfile:_,toggleORBACVisibility:x,toggleDisableProfileChanger:S,toggleHeaderVisibility:w,toggleViewAsPublic:T},children:e})}},"mVz+":function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u}));const i=40,o=4,r=106,a=133,s=.1,c=10,l=246,d=197,u=236},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var o=null==e?void 0:i(e,t);return void 0===o?n:o}},nrog:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("eOdZ");function o(e){return{type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:e}}}function r(e){return t=>i.a.create("UserResource",{user_id:e,field_set_key:"save_behavior"}).callGet().then(e=>{var n;const i=null==e||null===(n=e.resource_response)||void 0===n?void 0:n.data;t(o(i.save_behavior))})}},nuuT:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var i=n("gLeT"),o=n("Cr6c"),r=n("yweb"),a=n("n6mq"),s=n("U4JR"),c=n("nKUr");const l=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],d={component:210,view:4,viewParameter:3106},u={view:5,viewParameter:3069},h={component:13668,view:4,viewParameter:3106};function p({pinId:e,surface:t}){const n=Object(r.c)(),p=()=>{const e=l.includes(t)?h:"BaseBoardPinGrid"===t?u:"UserProfilePinGrid"===t?d:{};Object(s.b)(101,{element:10573,...e})},b=n._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return Object(c.jsx)(a.f,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:l.includes(t)?Object(c.jsx)(i.a,{accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:p,size:"sm",text:(f=b,f.length>14?f.substring(0,12).trim()+"...":f)}):Object(c.jsx)(o.a,{accessibilityLabel:n._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:p,size:"sm"})});var f}},"oCl/":function(e,t,n){var i=n("CH3K"),o=n("LcsW"),r=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=o(e);return t}:a;e.exports=s},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},"otv/":function(e,t,n){var i=n("nmnc"),o=i?i.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},ptXI:function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),o=n("7w6Q"),r=n("fepT"),a=n("U4JR"),s=(n("CgR/"),n("yweb")),c=n("n6mq"),l=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={overlay:{__style:{backgroundColor:"#000"}}};class p extends i.PureComponent{constructor(...e){super(...e),d(this,"setSendButton",e=>{this.sendButton=e}),d(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),o.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),d(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(a.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),d(this,"handleExternalSend",()=>{o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),d(this,"renderReplayButton",()=>Object(l.jsx)(c.bb,{onTap:this.handleRestartVideo,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.w,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})),d(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(r.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.bb,{onTap:this.handleShareVideo,rounding:2,children:Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})})}componentDidMount(){const{pinId:e}=this.props;o.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(a.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.y,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:Object(l.jsxs)(c.f,{position:"absolute",children:[Object(l.jsx)(c.f,{children:this.renderShareButton()}),Object(l.jsx)(c.f,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function b(e){const t=Object(s.c)();return Object(l.jsx)(p,{...e,i18n:t})}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=Object(s.c)();return Object(l.jsx)(c.f,{children:Object(l.jsxs)(c.y,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(l.jsx)(c.f,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(l.jsx)(c.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:Object(l.jsx)(c.f,{children:Object(l.jsx)(c.bb,{onTap:i,rounding:2,children:Object(l.jsxs)(c.f,{alignItems:"center",display:"flex",padding:2,children:[Object(l.jsx)(c.w,{accessibilityLabel:r._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(l.jsx)(c.f,{margin:1}),Object(l.jsx)(c.v,{color:"white",overflow:"normal",size:"sm",children:r._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})}},qAg2:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("qpbZ");function o(e,t){const{alt_text:n,auto_alt_text:o}=e;return n?Object(i.b)(t._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:n}).join(""):o?Object(i.b)(t._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:o}).join(""):null}},qD10:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("zwad"),o=n("fJfT"),r=n("EC67"),a=n("nKUr");function s({external:e,onClick:t,to:n,children:s,className:c,style:l,target:d,to:u}){const h=Object(r.h)(),p=Object(r.i)();return Object(a.jsx)("a",{className:c,href:u,onClick:r=>{const a=e||i.a.isOffsiteUrl(n);Object(o.b)({isExternalLink:a,event:r})||(r.nativeEvent.preventDefault(),null==t||t(r),n&&(a?Object(o.c)({href:n,location:p}):Object(o.d)({event:r,href:n,history:h})))},rel:e?"nofollow":"",style:l,target:d?"_blank":null,children:s})}},qhFy:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("VJm5"),o=n("TSYQ"),r=n.n(o),a=n("qAg2");var s={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1},c=n("n6mq"),l=n("nKUr");function d({onError:e,onLoad:t,pin:n}){var i,o,r,a;const{title:d="",dominant_color:u,images:h={}}=n,p="number"==typeof(null===(i=h["474x"])||void 0===i?void 0:i.width)&&"number"==typeof h["474x"].height&&h["474x"].width>h["474x"].height?h["736x"]:h["474x"];return Object(l.jsx)(c.f,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(l.jsx)(c.f,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.storyPinImage}},children:Object(l.jsx)(c.y,{alt:d,color:u,naturalHeight:null!==(o=null==p?void 0:p.height)&&void 0!==o?o:1,naturalWidth:null!==(r=null==p?void 0:p.width)&&void 0!==r?r:1,onError:e,onLoad:t,src:null!==(a=null==p?void 0:p.url)&&void 0!==a?a:"",fit:"cover"})})})}var u=n("yweb"),h=n("qpbZ");const p=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:o,imageFit:s,lowResOnly:b,mediumResOnly:f,onError:m,onLoad:g,pin:j,saved:y=!1,animateGif:O})=>{var v,_,x;const S=Object(u.c)(),{carousel_data:w,description:T="",dominant_color:P,id:E,images:I,title:C}=j,R=Object(h.b)(S._("This contains an image of: {{ pinTitle }}","web.altText","Alt text input for PinImage by a human"),{pin:C}).join(""),k=Object(a.a)(j,S)||T.trim().length>0&&T||R;if(w)return Object(l.jsx)(i.a,{onError:m,onLoad:g,highResOnly:o,lowResOnly:b,pinId:E});let D,A="",L=0,N=0;if(I){var B,M,U;let e=I["236x"];var F,V,G,H,z;if(o?e=I["736x"]||I.orig||I["474x"]||I["236x"]:f&&(e=I["474x"]||I.orig||I["236x"]),L=null===(B=e)||void 0===B?void 0:B.height,N=null===(M=e)||void 0===M?void 0:M.width,A=null===(U=e)||void 0===U?void 0:U.url,b||f||o)D=null!==(F=e)&&void 0!==F&&F.url?e.url+" 1x":"";else D=[(null===(V=I["236x"])||void 0===V?void 0:V.url)&&I["236x"].url+" 1x",(null===(G=I["474x"])||void 0===G?void 0:G.url)&&I["474x"].url+" 2x",(null===(H=I["736x"])||void 0===H?void 0:H.url)&&I["736x"].url+" 3x",(null===(z=I.orig)||void 0===z?void 0:z.url)&&I.orig.url+" 4x"].filter(Boolean).join(", ")}if(O){const e=Math.max(j.embed&&j.embed.width||0,236),t=Math.max(j.embed&&j.embed.height||0,236),n=j.embed?j.embed.src:"";n&&(L=t,N=e,A=n,D="")}return Object(l.jsx)(c.u,{alignItems:"center",justifyContent:"start",minHeight:p,children:Object(l.jsx)(c.f,{flex:"grow",children:Object(l.jsx)("div",{className:r()({savedGradient:y}),children:j.story_pin_data_id?Object(l.jsx)(d,{pin:j,onError:m,onLoad:g}):Object(l.jsx)(c.f,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:Object(l.jsx)(c.y,{alt:k,color:"dominant"===n?P:n,fit:s,naturalHeight:null!==(v=L)&&void 0!==v?v:1,naturalWidth:null!==(_=N)&&void 0!==_?_:1,onError:m,onLoad:g,src:null!==(x=A)&&void 0!==x?x:"",srcSet:D})})})})})}},qtKf:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const i=(e,t)=>`${e}:${t||""}`,o=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],r=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("QLaP"),o=n.n(i);class r{constructor(e,t){o()(e,"You must pass a requestContext to check an Experiment"),o()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_getGroup(e){return e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends r{getGroup(e=!1){return this._getGroup(e)}}class s extends r{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},rO08:function(e,t,n){n.r(t),n.d(t,"PinSaveButton",(function(){return w}));var i=n("q1tI"),o=n("/MKj"),r=n("clxp"),a=n("TgLd"),s=n("rYoy"),c=n("xkL+"),l=n("2qKt"),d=n("n6mq"),u=n("0nTG"),h=n("lm6u"),p=n("B6Tf"),b=n("y9Ij"),f=n("yweb"),m=n("Sp3T"),g=n("seP0"),j=n("ANjH"),y=n("xjIv"),O=n("EC67"),v=n("nKUr");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=Object(i.lazy)(()=>n.e("FirstPinCreateCommon").then(n.bind(null,"kj35"))),S=[500639,11022];class w extends i.Component{constructor(e){super(e),_(this,"componentWillUnmount",()=>{this._repinCompletionPromise&&this._repinCompletionPromise.cancel()}),_(this,"setCompletionPromise",e=>{this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(()=>{this.handleRepinHideAndToggle()})}),_(this,"_repinCompletionPromise",null),_(this,"handleRepinHideAndToggle",()=>{this.setState({isRepinModalOpen:!1});const{onToggleModal:e}=this.props;e&&e(!1)}),_(this,"handleSaveButtonClick",({shouldStopEventPropagation:e=!0}={shouldStopEventPropagation:!0})=>this.props.requireAuth(t=>{t&&(t.preventDefault(),e&&t.stopPropagation());const{onClickCallback:n,onToggleModal:i,oneTapSave:o,boardPickerStopwatch:r,pathname:a}=this.props;n&&n(),o?o.saved||"function"!=typeof o.save||o.save():(r&&(r.start(),Object(g.b)(r,a)),i&&i(!0),this.setState({isRepinModalOpen:this.props.isAuth}))})),_(this,"handleUnsaved",()=>{const{unsave:e,pin:t}=this.props;e(t.id)}),_(this,"handleBoardEdited",({boardId:e,title:t,url:n})=>{const{pin:i,save:o}=this.props;o(i.id,e,t,n)}),_(this,"handleSavedButtonClick",()=>{const{history:e,pin:t,pinSavedInfo:n,viewerId:i}=this.props;let o;t.pinner.id===i?o=t.board.url:n&&(o=n.url),o&&e.push(o)}),_(this,"saveButtonRef",Object(i.createRef)()),_(this,"renderPinToBoardRepin",()=>{const{isCloseupPin:e,onToggleModal:t,pin:n}=this.props,{isFPE:i,isRepinModalOpen:o}=this.state;return o&&i?this.renderFPE():i?null:Object(v.jsx)(h.a,{action:"repin",additionalCreateFields:{is_stl_pin:Object(u.k)(n)},onClose:this.handleRepinHideAndToggle,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,onToggleModal:t,pin:n,children:({dismissModal:t,displaySuccessAnimation:i,handleAbort:r,handleNewBoardAnimationCompletion:a,handleSocialConnectSet:s,handleSaveToBoard:c,newPin:l,updateDescription:d,modalTitle:u,setModalTitle:h})=>Object(v.jsx)(p.c,{dismissModal:t,displaySuccessAnimation:i,handleAbort:r,handleNewBoardAnimationCompletion:a,handleSaveToBoard:c,handleSocialConnectSet:s,isCloseupPin:e,isInModal:!0,modalTitle:u,newPin:l,pin:n,pwtAuxData:{pin_create_method:"repin"},setModalTitle:h,shouldRenderContent:o,updateDescription:d})})});const{experience:t,showRepinOnInitialRender:n}=e;this.state={isFPE:!!t&&S.includes(t.experience_id),isRepinModalOpen:n||!1}}componentDidMount(){const{onMount:e}=this.props;e&&e()}isFPERemoved(e){const{isFPE:t}=this.state,{experience:n}=e;return t&&(!n||!S.includes(n.experience_id))}renderFPE(){const{experience:e,pin:t}=this.props;return Object(v.jsx)(a.b,{accessibilityModalLabel:this.props.i18n._("Create board","Accessible create board education modal label","Accessible create board education modal label"),heading:this.props.i18n._("Create board","Create board education modal label","Create board education modal label"),onDismiss:this.handleRepinHideAndToggle,size:"lg",children:Object(v.jsx)(d.f,{dangerouslySetInlineStyle:{__style:{marginBottom:64}},children:Object(v.jsx)(r.a,{name:"SafeSuspense_PinSaveButton_FirstPinCreate",children:Object(v.jsx)(s.a,{children:Object(v.jsx)(x,{anchorRef:this.saveButtonRef.current,experience:e,isInModal:!0,onClose:this.handleRepinHideAndToggle,pin:t,pwtAuxData:{pin_create_method:"repin"}})})})})})}render(){const{iconOnly:e,isCloseupPin:t,oneTapSave:n,onToggleModal:o,pin:r,renderPinSaveTooltip:a,renderSavedStatus:s,size:c,variant:l,viewerId:u,viewParameter:h}=this.props,p=!!(r.pinner.id===u||r.saved||r.savedInfo||"controlled"===(null==n?void 0:n.type)&&n.saved),f="controlled"===(null==n?void 0:n.type)?"controlled":"classic";return Object(v.jsxs)(i.Fragment,{children:[Object(v.jsxs)(d.f,{ref:this.saveButtonRef,children:[t?Object(v.jsx)(b.a,{iconOnly:e,isCloseupPin:t,isPulsarDisplayed:!this.state.isRepinModalOpen,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!1}),onSavedClick:this.handleSavedButtonClick,saveButtonType:f,saved:p,size:c,variant:l}):Object(v.jsx)(b.b,{carouselData:r.carousel_data,iconOnly:e,isCloseupPin:t,onBoardUpdated:this.handleBoardEdited,onClick:this.handleSaveButtonClick({shouldStopEventPropagation:!0}),onSavedClick:this.handleSavedButtonClick,onToggleModal:o,onUnsaved:this.handleUnsaved,renderSavedStatus:s,saveButtonType:f,saved:p,savedInfo:r.savedInfo,size:c,variant:l,viewParameter:h}),this.renderPinToBoardRepin()]}),!!a&&this.saveButtonRef.current&&a(this.saveButtonRef.current)]})}}_(w,"defaultProps",{anchorString:""}),t.default=Object(j.compose)(Object(o.connect)((function({pins:e},{pin:t}){return{pinSavedInfo:e[t.id]&&e[t.id].savedInfo}}),(function(e){return{save:(t,n,i,o)=>e(Object(y.a)(t,n,i,o)),unsave:t=>e(Object(y.b)(t))}})),Object(l.a)(33),O.l)((function(e){const t=Object(f.c)(),n=Object(g.c)(),{pathname:i}=Object(O.i)(),o=Object(c.b)(),r=o.isAuth?o.email:void 0,a=o.isAuth,s=o.isAuth?o.id:"",l=Object(m.a)();return Object(v.jsx)(w,{...e,boardPickerStopwatch:n,email:r,isAuth:a,viewerId:s,pathname:i,requireAuth:l,i18n:t})}))},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("/MKj"),o=n("XSD5"),r=n("6/Sz"),a=n("0nTG"),s=n("U4JR"),c=n("4cTg"),l=n("n6mq"),d=n("nKUr");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:h,isCloseup:p,isEditMode:b,pinId:f,viewParameter:m,viewType:g,variant:j}){const y=Object(i.useSelector)(({pins:e})=>e[f],i.shallowEqual),O=e||Object(r.a)(y),v=Object(i.useDispatch)();if(!O)return null;const _=(e,t,i)=>{b||void 0===o.a||(e.preventDefault(),e.stopPropagation(),v(Object(o.a)(String(f),i))),void 0!==h&&h(i),((e,t,n=0,i,o,r,c,l,d,u)=>{if(!u){const{carousel_slots:u,id:h}=o;Object(s.b)(108,{...d,objectId:t,component:l,view:c,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(h),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(a.f)(e)||{}})}})(y,f,t,i,O,m,g,n,u,b)},{carousel_slots:x=[],index:S}=O,w=void 0!==t?t:S,T="default"===j,P=T?"white":"#555",E=T?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(d.jsx)(c.c.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(d.jsx)(l.f,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:b?1:0,children:[...Array(x.length).keys()].map(e=>{var t;return Object(d.jsx)(l.f,{paddingX:1,children:Object(d.jsx)(l.bb,{accessibilityLabel:null!==(t=x[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>_(t,w,e),rounding:"circle",children:Object(d.jsx)(l.f,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===w?P:E}},rounding:"circle"})})},f+e)})})})}},rVUJ:function(e,t,n){var i,o,r,a=n("q1tI"),s=n("/MKj"),c=n("BcvT"),l=n("n6mq"),d=n("nKUr");class u extends a.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:i}=this.props;return Object(d.jsx)(c.a,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:i})}renderFlyout(){const{anchor:e,overflow:t,tooltip:n,handleDismiss:i,handleComplete:o}=this.props;if(!n)return null;const{cancelButtonText:r,confirmButtonText:a,mainText:s,idealDirection:c="down"}=n,u=r&&i&&a&&o;return Object(d.jsx)(l.L,{anchor:e,color:"blue",idealDirection:c,onDismiss:i,shouldFocus:!1,showCaret:!0,size:"flexible",children:Object(d.jsxs)(l.f,{maxWidth:284,padding:3,width:"max-content",children:[Object(d.jsx)(l.cb,{color:"white",overflow:t,weight:"bold",children:s}),u?Object(d.jsxs)(l.f,{marginTop:2,display:"flex",alignItems:"center",children:[Object(d.jsx)(l.f,{column:6,marginEnd:1,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>i(e),size:"md",text:String(r)})}),Object(d.jsx)(l.f,{column:6,children:Object(d.jsx)(l.g,{fullWidth:!0,color:"white",size:"md",text:String(a),onClick:o})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}r={overflow:"breakWord"},(o="defaultProps")in(i=u)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r;var h=n("NdXn"),p=n("AAEI"),b=n("gC5q");t.a=({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:o,isHidden:r,onCompleteClick:c,overflow:f,zIndex:m})=>{var g;const j=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object(s.useSelector)(({experiences:e})=>null==e?void 0:e.anchorExperiences),passedExperience:o}),y=Object(p.a)(null==j?void 0:j.placement_id),O=(null==j||null===(g=j.display_data)||void 0===g?void 0:g.delay)||0,[v,_]=Object(a.useState)(!!O);if(Object(a.useEffect)(()=>{if(O>0&&v){const e=setTimeout(()=>{_(!1)});return()=>clearTimeout(e)}return()=>{}},[O,v]),Object(a.useEffect)(()=>{!v&&j&&y.viewExperience(j.placement_id,j.experience_id)},[v,j]),!j||v||r)return a.Children.only(n);const x=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),Object(b.a)(h.a,!0)(t)})(j),S=()=>{var e;null!==(e=j.display_data)&&void 0!==e&&e.complete_on_hover&&y.completeExperience(j.placement_id,j.experience_id)};return Object(d.jsxs)(l.f,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[Object(d.jsx)(l.bb,{onMouseEnter:S,onTap:()=>{c&&c(),x.skipComplete||y.completeExperience(j.placement_id,j.experience_id)},children:a.Children.only(n)}),Object(d.jsx)(u,{anchor:t||null,handlePulsarCompleteOnHover:S,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),y.dismissExperience(j.placement_id,j.experience_id)},overflow:f,pulserOnly:!!x.pulserOnly,tooltip:x.tooltip,tooltipOnly:!!x.tooltipOnly,zIndex:m})]})}},rkcQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return _}));const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",c="WooCommerce",l="Weebly",d="Tealium",u="Magento",h="Squarespace",p="Ecwid",b="Bigcommerce",f={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},m={["Google Tag Manager"]:f.GOOGLE_TAG_MANAGER,[a]:f.SHOPIFY,[c]:f.WOO_COMMERCE,[s]:f.WORDPRESS,[h]:f.SQUARESPACE,[l]:f.WEEBLY,[d]:f.TEALIUM,[u]:f.MAGENTO,[p]:f.ECWID,[b]:f.BIG_COMMERCE},g={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},j={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},O={ATTRIBUTION_DESTINATION:"attributiondestination",ATTRIBUTION_EXPIRY:"attributionexpiry",ATTRIBUTION_REPORT_TO:"attributionreportto",ATTRIBUTION_SOURCE_EVENT_ID:"attributionsourceeventid"},v=2592e6,_={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},rsy7:function(e,t,n){function i(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}n.d(t,"a",(function(){return i}))},sErn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("La7j");function o(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:o}=e;return{experiments:new i.a(t,n,o)}}},"sH+O":function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(null==e||!e.match(n)||null==t||!t.match(n))return null;const i=null==e?void 0:e.split("."),o=null==t?void 0:t.split("."),r=Math.max((null!=i?i:"").length,(null!=o?o:"").length);for(let c=0;c<r;c+=1){var a,s;const e=c<(null!==(a=null==i?void 0:i.length)&&void 0!==a?a:0)?parseInt(null==i?void 0:i[c],10):0,t=c<(null!==(s=null==o?void 0:o.length)&&void 0!==s?s:0)?parseInt(null==o?void 0:o[c],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class r{constructor(e,t,n){i(this,"start",Date.now()),i(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval(()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}},sUAf:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("/MKj"),o=n("w70y"),r=n("xkL+"),a=n("nrog");const s=0,c=1;function l(e){var t;const n=Object(r.b)(),i=n.isAuth&&n.id===e,a=Object(o.a)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||i});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=a.data)||void 0===t||!t.has_quicksave_board)}}function d(e){var t;const n=Object(i.useDispatch)(),s=Object(r.b)(),c=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,l=Object(o.a)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id},dangerouslyDisableFetch:!c||!e});return s.isAuth&&void 0===s.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&n(Object(a.b)(l.data.save_behavior)),{showEnabledSaveBehavior:c}}function u(e){const t=Object(r.b)();let n;return e&&(t.save_behavior===s?n={type:"classic"}:t.save_behavior===c&&(n={type:"inline"})),{saveBehaviorType:n}}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),o=n("Nle8"),r=n("tVBo"),a=n("0nTG"),s=n("Y8Sn"),c=n("U4JR"),l=n("7jH2"),d=n("nKUr");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:h,viewType:p}){const[b,f]=Object(i.useState)(),[m,g]=Object(i.useState)(),{id:j,tracked_link:y,link:O}=n,v=y||O||"",_=()=>{f(!0)},x=Object(l.c)(Object(l.q)({pin:n})),S=Object(i.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(o.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...u||{},...Object(a.f)(e)||{}})};return Object(r.a)(i)})(n,v,!1).callGet({showError:!1}).then(e=>{e&&(Object(c.b)(12,{clickthrough_type:"rightClick",objectId:j,view:p,viewParameter:x,...u||{},...Object(a.f)(n)||{}}),Object(c.b)(8948,{click_type:"clickthrough",closeup_navigation_type:h&&Object(s.k)(h)?"deeplink":"click",clickthrough_type:"rightClick",view:p,objectId:j,viewParameter:x,...u||{},...Object(a.f)(n)||{}}))})}),w=e=>{var t;b&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(S(),f(!1)),window.removeEventListener(m,w,!1))};return Object(i.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(i.useEffect)(()=>(b&&window&&window.addEventListener(m,w,!1),()=>window.removeEventListener(m,w)),[b,m]),Object(i.useEffect)(()=>(t&&window.addEventListener("contextmenu",_),()=>{window.removeEventListener("contextmenu",_)}),[t]),Object(d.jsx)(i.Fragment,{children:e})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},udob:function(e,t,n){var i=n("LqyK"),o=n("d7ng"),r=n("4dcN"),a=n("zwad"),s=n("mBfy");const c={};c.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),s.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var l=c;const d={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){r.a.trackEvent("share_line","click");const t=d._getWindowUrl(e.share_path,e.share_text);l.open(t,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://social-plugins.line.me/lineit/share",{url:e?Object(o.a)(e):void 0,text:t})};var u=d,h=n("eOdZ");const p={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";r.a.trackEvent(t,"click");const n=p._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>a.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(o.a)(e):void 0,text:t||void 0})};var b=p;const f={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return h.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>f.createShareInviteData(e).then(t=>(f._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return h.a.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}{const o=e.object_id;return h.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}},logShareInvite(e,t){t&&f._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>f.createShareInviteData(e).then(t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&f._logShareInvite(e,o)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return f.createShareInviteData(e).then(n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&b.openDialog({tweet_path:i,tweet_text:r}),f._logShareInvite(e,o),Promise.resolve(n)},e=>Promise.reject(e))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return f.createShareInviteData(e).then(n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r||(r=n.title),i&&u.openDialog({share_path:i,share_text:r}),f._logShareInvite(e,o),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>f.createShareInviteData(e).then(t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&f._logShareInvite(e,o)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=f},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function o({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{x:e/o,y:t/r,w:n/o,h:i/r}}function r({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:o,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*r)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:r,entrySource:a,trafficSource:s,imageSignature:c}){const l=[];e>=0&&t>=0&&n>=0&&i>=0&&l.push("x="+e,"y="+t,"w="+n,"h="+i),o&&l.push("cropSource="+o),a&&l.push("entrySource="+a),r&&l.push("q="+r),c&&l.push("imageSignature="+c),s&&"unknown"!==s&&l.push("rs="+s);return l.length?"?"+l.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,imageSignature:o,pinId:r,searchQuery:s,trafficSource:c,view:l}){return`/pin/${r}/${i?"related-products":"visual-search"}/${i||"products"!==l?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:c,searchQuery:s,imageSignature:o})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},uyxo:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("jHGc"),o=n("n6mq"),r=n("nKUr");function a(e){const{children:t,currentCarouselIndex:n,onDeleteSavedState:a,onEditSubmit:s,onToggleModal:c,pinId:l,variant:d,viewParameter:u,shouldUseLegoStyles:h}=e,p="pin"===d?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"};return Object(r.jsxs)(o.f,{alignItems:"center",display:"flex",direction:"row",marginStart:"pin"===d?-1:void 0,marginEnd:"pin"===d?-1:void 0,paddingX:"closeup"!==d||h?void 0:2,width:"closeup"===d?"100%":void 0,height:"100%",children:[t&&Object(r.jsx)(o.f,{paddingX:1,"data-test-id":"saved-info",flex:"grow",children:t}),Object(r.jsx)(o.f,{paddingX:1,flex:"none",marginStart:"auto",children:Object(r.jsx)(i.default,{component:0,onDelete:a,onSubmit:s,pinId:l,onToggleModal:c,viewParameter:u,carouselSlotCurrentIndex:n,style:p,shouldUseLegoStyles:h,useLegoStyles:"pin"===d})})]})}},vZlu:function(e,t,n){n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function c(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function l(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("n6mq"),o=n("XLg/"),r=n("nKUr");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.a,visibility:s}){return"none"!==s&&e?Object(r.jsx)(i.f,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vh5K:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("mwIZ"),o=n.n(i);function r(e){return!!e&&0!==e.type}const a=(e,t,n)=>{const i=e[n];return t[n]&&r(i)?i:null};function s(e){return o()(e,["display_data","anchor"])}function c(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function l(e,t){t&&8===t.type&&(e[s(t)]=t)}},vpxy:function(e,t,n){var i=n("q1tI"),o=n("/MKj"),r=n("9WJf"),a=n("ynlw"),s=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:o,rich_summary:r,title:c}=t,{isOwnPin:l,isPromoted:d}=Object(a.a)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(d){if(s.a.includes(n))return o||"";if(l&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return c||t||o||""}return o||""}const l=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n("N89m"),u=n("EPem");const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function p({attributionOption:e,board:t,contentType:n,feedbackData:i,feedbackType:o,hasCarouselData:r,isGroupBoard:s,isOwnBoard:l,pin:p,showImageOnly:b,showNativeReactions:f,showPromotedShoppingPrice:m,surface:g,viewer:j}){var y;const{isPromoted:O,isSponsored:v}=Object(a.a)(p),{promoter:_,pin_note:x}=p,S=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(h.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:o,isGroupBoard:s,pin:p,showImageOnly:b,surface:g}),w=b?"":c({isGroupBoard:s,pin:p,surface:g}),T=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(g)&&!O&&!b&&Boolean(Object(d.a)(p,g)),P="ShoppingWishlist"===g,E="BaseBoardPinGrid"===g&&x?null===(y=x.text)||void 0===y?void 0:y.trim():null,I=O,C="shopping"===n,R=/ShoppingSquareGridRelatedProducts/.test(g);let k=2;O?k=3:(T||"none"!==S)&&(k=C||R?2:1);let D,A,L,N;if(C||(O&&R||m)){var B,M;const e=null===(B=p.rich_summary)||void 0===B||null===(M=B.products)||void 0===M?void 0:M[0],{offer_summary:t}=e||{};D=t?t.standard_price:void 0,A=t?t.price||t.max_price:void 0}if(C&&!O){var U,F,V;const{rating_count:e,rating_value:t,review_count:n}=(null===(U=p.rich_summary)||void 0===U?void 0:U.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(L={count:e||n,rating:t}),N=null===(F=p.rich_metadata)||void 0===F||null===(V=F.products)||void 0===V?void 0:V[0].shipping_info}const G=Object(u.e)(p,j),H="CreatorProfileStoryPinGrid"!==g&&"CreatorProfileActivityPinGrid"!==g,z=s&&!v;return{attributionType:S,board:t,contentType:n,feedbackData:i,feedbackType:o,isDarkPromoter:!O&&!!_,pinNoteText:E,pinTitle:w,productCurrentPrice:A,productOriginalPrice:D,productRating:L,productShipping:N,showCarouselEllipsis:r,showFavoriteButton:"BaseBoardPinGrid"===g&&l||Boolean(null==t?void 0:t.should_show_board_activity),showGroupBoardAvatar:z,showNativeReactions:f,showOverflowMenu:I,showPinStats:G,showSource:T,showTextContent:H,showVisitSiteButton:P,titleLines:k}}var b=n("JW66"),f=n("jgRP"),m=n("QLqj"),g=n("XPo3"),j=n("mVz+");const y=["ShoppingCatalogsProductsMetadata"];var O=n("8A+h"),v=n("clxp");const _={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var x=n("Xuu2"),S=n("PzwE"),w=n("WUYR"),T=n("Zygf");var P=n("rYoy"),E=n("yweb"),I=n("QO9Q"),C=n("xkL+"),R=n("nuuT"),k=n("gC5q"),D=n("T5j3"),A=n("Y8Sn"),L=n("0Xtd"),N=n("ENhS"),B=n("gD/Z"),M=n("g5OB"),U=n("W5T3"),F=n("QAzJ"),V=n("0S8y"),G=n("nKUr");const H=Object(i.lazy)(()=>Promise.all([n.e(358),n.e(175),n.e("ChangeBoardModalCommon")]).then(n.bind(null,"2tul"))),z=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],W=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],q=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"],Y=["BaseBoardPinGrid","UserProfilePinGrid",...R.a];t.a=Object(o.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[""+a]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,debugImpressionState:d,feedbackOptions:h,imageOnlyOption:R="default",isSocialSeasonalBoard:K,pinImageCrop:X,pinImageFit:$,reduxPin:Z,resolution:J="default",saveButtonOptions:Q,shouldShowFooter:ee=!0,surface:te,trackingParameters:ne,...ie}){var oe;const re=Object(E.c)(),{collaborated_by_me:ae,collaborator_count:se,is_collaborative:ce}=n||{},{pinner:le,showFeedback:de,sponsorship:ue}=Z,he=Object(T.a)(Z),pe=Object(C.b)(),be=Object(I.a)(),{slotIndex:fe,viewParameter:me}=ne,{anyEnabled:ge}=Object(F.b)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(te)),je=Object(o.useSelector)(({ui:e})=>e.views),ye=Object(o.useSelector)(({ui:e})=>e),Oe=ye.app?ye.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},ve=Object(A.j)(Z.id,Oe),_e=Object(o.useSelector)(({changeBoardFromToast:e})=>e)||{},xe=Object(w.a)(Z),Se=Object(S.a)(Z)||xe,we=pe.isAuth&&pe.isEmployee,Te=pe.isAuth&&(Object(V.c)({user:pe})||Object(V.d)({user:pe}))&&!pe.isPartner;let Pe=Te;"TodayArticleFeed"===te&&(Pe=!1),"default"!==R&&(Pe="image-only"===R),function(e){return s.c.includes(e)}(te)&&(Pe=!1),"ShoppingSquareGridDomainNoMetadata"===te&&(Pe=!0);let Ee=t;Te&&!Ee&&(Ee="image-only");const Ie=Object(x.a)({feedbackOptions:h,pin:Z,viewParameter:me},re),{data:Ce}=h||{},Re="number"==typeof se&&se>0||ce,ke=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=_[t];return!!n&&"dense"===e[n]}(je,te),De=Boolean(Re&&"BaseBoardPinGrid"===te),{anyEnabled:Ae}=Object(F.a)("web_business_access_orbac_feature_gate")();let Le;Le=Ae?Object(L.c)(pe,n,be):Object(O.a)(pe,n);const Ne=Boolean(pe.isAuth&&le&&le.id===pe.id),Be=Boolean(ae||Re&&Le),Me=pe.isAuth&&pe.isPartner,Ue=Z.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==te,Fe=Object(i.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isQuickPromotable:r,isRemovable:a,saveButtonOptions:c,surface:l,viewer:d,viewerIsCollaborator:u}){const h=d.isAuth?d.boardCount:void 0;let p=c||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);return r?p={type:"promote"}:(u||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(l))&&"BoardlessPins"!==l&&(p={type:"classic"}),i&&(p={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===l}),(a||y.includes(l))&&(p={type:"none"}),{board:e,derivedSaveButtonOptions:p,showLikeButton:u&&n&&s.d.includes(l),supportsReactionBar:!t}}({board:n,isInlineBetterSave:ge,isDenseView:ke,isGroupBoard:De,isOwnBoard:Le,isOwnPin:Ne,isQuickPromotable:Ue,isRemovable:he,saveButtonOptions:Q,surface:te,viewer:pe,viewerIsCollaborator:Be}),[n,ge,ke,De,Le,Ne,Ue,he,Q,te,pe,Be]),{isPromoted:Ve}=Object(a.a)(Z),{group:Ge}=Object(F.a)("web_shopping_grid_labels")({dangerouslySkipActivation:!0}),{anyEnabled:He}=Object(F.a)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0}),ze=["ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"];let We;[...ze,"ShoppingSquareGridCrop","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts"].includes(te)&&!Ve&&(He&&ze.includes(te)?We="white":["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Ge)?We="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Ge)&&(We="white"));const qe=Object(i.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:xe,shoppingLabelColor:We,surface:te}),[xe,We,te]),Ye=Se,Ke=Object(i.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:s,pin:d,surface:u}){var h;const{isOwnPin:p,isPromoted:b}=Object(a.a)(d),f=c({isGroupBoard:o,pin:d,surface:u}),m=e&&Object(r.a)({action:4,board:e})||p,g=d.savedInfo&&d.savedInfo.localPinId,j=Boolean(s&&!o||"UserProfilePinGrid"===u&&m||g),y=o&&m||j,O=Boolean((null==e?void 0:e.is_collaborative)||j),v=!(b||s||o||l.includes(u)),_="CloseupRelatedProducts"!==u,{tracked_link:x,link:S}=d,w=!(null===(h=null!=x?x:S)||void 0===h||!h);let T=o&&i?"equally-spaced":"default",P="default";return i&&(P=o?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(P="icon-only",T="equally-spaced"),{actionBarEditBeforeShare:O,feedbackData:t,feedbackType:n,layout:T,pinTitle:f,showEditButton:y,showOverflowMenu:v,showShareButton:_,showSourceLinkButton:w,sourceLinkStyle:P}}({board:n,feedbackData:Ce,feedbackType:Ie,isDenseView:ke,isGroupBoard:De,isOwnBoard:Le,pin:Z,surface:te}),[n,Ce,Ie,ke,De,Le,Z,te]),Xe=Object(u.e)(Z,pe)&&Y.includes(te),$e=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingRegularGridRelatedProductsBoth","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(te),Ze=!Ve&&$e?"shopping":"standard",Je=Object(D.c)(Z),Qe=Object(i.useMemo)(()=>p({attributionOption:Ee,board:n,contentType:Ze,feedbackData:Ce,feedbackType:Ie,hasCarouselData:Se,isGroupBoard:De,isOwnBoard:Le,pin:Z,showImageOnly:Pe,showNativeReactions:Je,showPromotedShoppingPrice:He&&Ve&&$e,surface:te,viewer:pe}),[Ee,n,Ze,Ce,Ie,Se,De,Le,Ve,$e,Z,He,Pe,Je,te,pe]),et=Boolean(Qe.pinTitle)||Qe.contentType||Qe.userNote||Qe.showSource||"none"!==Qe.attributionType||Qe.showNativeReactions||Qe.productCurrentPrice||Qe.productOriginalPrice||Qe.showPinStats;let tt=ee&&(et||De);"BaseBoardPinGrid"===te&&Le&&Me||ue?tt=!0:z.includes(te)||ke&&(Le||ae)||K?tt=!1:Ne||"CreatorProfileStoryPinGrid"!==te&&"CreatorProfileActivityPinGrid"!==te||(tt=!1);const nt=Boolean(de),it=Object(F.a)("web_others_board_feed_ads_border"),ot={showNoPinBorderRadius:"TopicBestPinNarrow"===te||"TopicBestPinWide"===te,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===te&&Ve&&it().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:rt}=Object(F.b)("hfp_homefeed_control_cta_variants"),at={feedbackType:Ie,isHomefeedTunerVariantExp:rt},{anyEnabled:st}=Object(F.a)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),ct=Object(i.useMemo)(()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:j.a,width:j.b}:"TopicBestPinWide"===c?l={height:g.h,width:g.i}:"TopicBestPinNarrow"===c?l={height:g.b,width:g.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(c)?l={height:j.i,width:j.i}:o&&(l=o);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingWishlist","ShoppingWishlistCategories","ShoppingWishlistRecentlyViewed","ShoppingWishlistRecentlyViewedFeed"].includes(c);let u="none";"string"!=typeof l&&(u="cover",(d||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r||"ShoppingSquareGridDomainNoMetadata"===c)&&(u="contain"));const h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",p=Object(f.a)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===m.c.getItem(b.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:p,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}({hasCarouselData:Se,isDenseView:ke,isPromoted:Ve,isSocialSeasonalBoard:K,pinImageCrop:X,pinImageFit:$,resolution:J,showPromotedVideos:st,surface:te}),[Se,ke,Ve,K,X,$,J,st,te]),lt=we&&Object(U.a)(),dt=Object(i.useMemo)(()=>({debugImpressionState:d,slotIndex:fe}),[d,fe]);return Object(G.jsx)(v.a,{name:"PinRepConfiguration",children:Object(G.jsx)(B.a,{value:ne,children:Object(G.jsxs)(N.a,{value:{surface:te},children:[Object(G.jsx)(M.b,{actionBarProps:Ke,blockClickEvents:e,currentlyPlayingVideo:ve,footerProps:Qe,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(te)||"BoardMoreIdeasTabContent"===te,impressionsDebuggerProps:dt,obscuredPinOverlayProps:at,pin:Z,pinVisualProps:ct,presentationProps:ot,primaryContentProps:Fe,secondaryContentProps:qe,showAccessoryContent:Ye,showActionBar:!q.includes(te),showFooter:tt,showImpressionsDebugger:lt,showObscuredPinOverlay:nt,showPrimaryAndSecondaryContent:!W.includes(te),showSeeStatsButton:Xe,showSignalDebugger:we,surface:te,...Object(k.b)(ie,["pinId"])}),_e.shouldOpenModal&&_e.newPin&&(null===(oe=_e.originalPin)||void 0===oe?void 0:oe.id)===Z.id&&Object(G.jsx)(v.a,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:Object(G.jsx)(P.a,{children:Object(G.jsx)(H,{experience:_e.experience,newPin:_e.newPin})})})]})})})}))},"w/wX":function(e,t,n){var i=n("QqLw"),o=n("ExA7");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("7w6Q"),o=n("eOdZ"),r=n("yweb"),a=n("U4JR"),s=n("n6mq"),c=n("nKUr");function l(e){const t=Object(r.c)(),{identifier:n,onUndoHide:l,isGroupChat:d}=e,u=async()=>{const t=o.a.create("ShareSuggestionsHideResource",{user_identifier:n});await t.callDelete(),l(),(()=>{const{component:t,element:n}=e;Object(a.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(c.jsxs)(s.u,{alignItems:"stretch",justifyContent:"start",children:[Object(c.jsx)(s.u,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"start",width:"80%",children:Object(c.jsx)(s.cb,{inline:!0,color:"gray",children:d?t._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):t._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(c.jsx)(s.u,{alignItems:"center",flex:"none",justifyContent:"end",children:Object(c.jsx)(s.g,{onClick:({event:e})=>{e.stopPropagation(),u()},text:t._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button"})})]})}},wrZu:function(e,t,n){var i=n("+K+b"),o=n("XYm9"),r=n("b2z7"),a=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return r(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:o,viewType:r,type:a}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},"xs/l":function(e,t,n){var i=n("TYy9"),o=n("Ioao"),r=n("wclG");e.exports=function(e){return r(o(e,void 0,i),e+"")}},y7hk:function(e,t,n){n.d(t,"b",(function(){return E}));var i=n("q1tI"),o=n("/MKj"),r=n("jmst"),a=n("d90F"),s=n("Vt0H"),c=n("vZlu"),l=n("Y8Sn"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=Object(r.a)(s.a);class p extends i.Component{constructor(...e){super(...e),u(this,"handleVisibilityChanged",e=>{const{pinId:t,isPromoted:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r,videoStartTime:a}=this.props,s=Object(l.j)(t,r);e&&!s?i({pinId:t,isPromoted:!!n,currentTime:a}):!e&&s&&o({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})}),u(this,"handleVideoTimeChange",e=>{const{pinId:t,videosAutoplaying:n}=this.props;Object(l.j)(t,n)&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,pauseAutoplay:i,pinId:o,isPromoted:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,c=Object(l.j)(o,s),d=Object(l.b)(o,s);this.currentVideoCurrentTime=null!=d?d:this.currentVideoCurrentTime,n!==t&&!n&&c?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:o,isPromoted:!!r,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){const{pinId:e,isPromoted:t,pauseAutoplay:n}=this.props;n({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){const{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:n,videosAutoplaying:i,...o}=this.props;return Object(d.jsx)(a.a,{name:"ads_desktop_video_ads",activate:!1,children:({anyEnabled:e})=>Object(d.jsx)(h,{inAdsDesktopVideoExperiment:e,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!e,...o})})}}var b=Object(o.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:a}=o,s=i?a[n]:r[n];return{appInFocus:e.ui.app.appInFocus,videosAutoplaying:o,videoStartTime:s?s.currentTime:null}},(e,t)=>({pauseAutoplay:t=>e(Object(c.a)(t)),setCurrentVideo:t=>e(Object(c.c)(t))}))(p),f=n("JW66"),m=n("1unC"),g=n("clxp"),j=n("ZP0o"),y=n("z7q0"),O=n("rYoy"),v=n("n6mq"),_=n("JRj3"),x=n("QLqj"),S=n("QAzJ"),w=n("/zJj"),T=n("7jH2");const P=Object(i.lazy)(()=>n.e("CloseupTagButtonCommon").then(n.bind(null,"mJyq"))),E=(e,t)=>!!(e.includes("below_15")&&t>=0&&t<=15e3)||(!!(e.includes("15_to_30")&&t>15e3&&t<=3e4)||(!!(e.includes("30_to_45")&&t>3e4&&t<=45e3)||(!!(e.includes("45_to_60")&&t>45e3&&t<=6e4)||!!(e.includes("above_60")&&t>6e4)))),I=({children:e,name:t})=>Object(d.jsx)(v.f,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-"+t,left:!0,position:"absolute",right:!0,top:!0,children:e});t.a=({closeupIsFirstPageInHistoryStack:e,imageContainerRef:t,isWideVideo:n,pin:i,shouldPadImage:o,flyoutShareProps:r})=>{const a=Object(T.q)({pin:i}),{embed:s}=Object(T.i)(a)||{},{video:c}=Object(T.y)(a)||{},{hls:l={},hlsv3:u={},mp4:h={}}=c||{},p=l.duration||u.duration||h.duration||null,{group:C}=Object(S.a)("web_mp4_video_closeup")({dangerouslySkipActivation:!0}),R=!!p&&E(C,p),k=Object(S.a)("web_mp4_video_closeup"),D=R&&k().anyEnabled,{videos:A}=i,{video_list:L={}}=A||{};if(D){const e=Object(_.b)(L);e&&(c.mp4=e)}const N=s&&"gif"===s.type,{image564x:B={}}=Object(T.l)(Object(T.o)(a))||{},M=N?s.src:B.url,U=!!i.promoter&&!i.is_downstream_promotion,F=U&&!i.is_eligible_for_web_closeup,{access:V}=i||{},G=!!V&&V.includes("tag"),H=w.e-w.b,z=o?{maxWidth:{maxWidth:H},minWidth:{minWidth:H},height:{},borderRadius:16}:{},W="undefined"!=typeof window&&0===x.c.getItem(f.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),q=Object(d.jsxs)(y.a,{isVideo:!0,isWideVideo:n,shouldPadImage:o,styleOverrides:z,variant:"default",children:[Object(d.jsx)(v.f,{width:"100%",ref:t,children:Object(d.jsx)(b,{showControls:!0,autoplay:!W,customThumbnail:M,flyoutShareProps:r,isPromoted:U,loop:F,muted:e,preferMp4:D,pinId:i.id,video:c,variant:"default"})}),G&&Object(d.jsx)(I,{name:"tag-button",children:Object(d.jsx)(g.a,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:Object(d.jsx)(O.a,{children:Object(d.jsx)(m.b,{children:Object(d.jsx)(P,{pin:i})})})})})]});return o?Object(d.jsx)(j.a,{children:q}):q}},y9Ij:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),o=(n("PNKV"),n("TSYQ")),r=n.n(o),a=n("rVUJ"),s=n("uyxo"),c=n("yweb"),l=n("n6mq"),d=n("nKUr");const u={sm:32,md:40,lg:48},h=Object(i.memo)(Object(i.forwardRef)(({carouselData:e,disabled:t=!1,iconOnly:n,isCloseupPin:i,onBoardUpdated:o,onClick:a,onSavedClick:h,onToggleModal:p,onUnsaved:b,renderSavedStatus:f,saveButtonType:m="classic",saved:g,savedInfo:j,size:y="md",variant:O="classic",viewParameter:v},_)=>{const x=Object(c.c)();return g&&"controlled"===m?Object(d.jsx)(l.g,{fullWidth:!0,disabled:!0,text:x._("Saved"),size:"sm"}):!i&&j&&f&&b&&o&&"classic"===m?Object(d.jsx)(s.a,{currentCarouselIndex:e&&e.index,onDeleteSavedState:b,onEditSubmit:o,onToggleModal:p,pinId:j.localPinId,variant:"pin",viewParameter:v,children:f()}):g&&"classic"===m&&i?Object(d.jsx)(l.g,{fullWidth:!0,accessibilityLabel:x._("Saved button","saveButton.saved.label","Saved state label on save button"),text:x._("Saved!","saveButton.saved","Saved state text on save button"),size:"md",color:"white",onClick:h}):n?Object(d.jsx)("div",{ref:_,"data-test-id":"SaveButton",children:Object(d.jsx)(l.x,{accessibilityLabel:x._("Save","Accessibility label for the save button","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:({event:e})=>a(e),iconColor:"darkGray"})}):Object(d.jsx)(l.f,{display:i?void 0:"flex",justifyContent:"end",children:Object(d.jsx)("div",{ref:_,className:r()("SaveButton",t?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===O}),"data-test-id":"SaveButton",onClick:t?void 0:a,onKeyPress:t?void 0:e=>{32!==e.charCode&&13!==e.charCode||(e.preventDefault(),a(e))},role:"button",tabIndex:"0",children:Object(d.jsx)("div",{className:r()("SaveButton__background",t?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===O}),children:Object(d.jsx)(l.f,{alignItems:"center",minHeight:u[y],dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",children:Object(d.jsx)(l.cb,{color:t?"gray":"white",size:"lego"===O?"sm":"md",weight:"bold",children:Object(d.jsx)("span",{className:r()("SaveButton__label",{"SaveButton__label--lego":"lego"===O}),children:x._("Save","Pin save button label","Pin save button label")})})})})})})})),p=({isPulsarDisplayed:e,...t})=>{const[n,o]=Object(i.useState)(null),r=Object(i.useCallback)(e=>{o(e)},[n]);return Object(d.jsx)(a.a,{anchor:".PinActionBar .repin.pinActionBarButton",anchorElementRef:n,isHidden:!e,children:Object(d.jsx)(h,{ref:r,...t})})};t.b=h},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yjg8:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return j}));const i=236,o=2*i/3,r=24,a=2,s=125,c=16,l=14,d=16,u=e=>e||d,h=900,p=12,b=16,f=24,m=16,g=(e=!1,t=!1)=>e?t?b:p:f,j=(e,t,n,i,o=l)=>{const r=e+o;return`\n@media (min-width: ${t*r}px) and (max-width: ${(n+1)*r-1}px) {\n  ${i}\n}\n`}},ynlw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("PzwE"),o=n("Y8Sn");function r(e){const{access:t,attribution:n,embed:r,is_eligible_for_web_closeup:a,rich_summary:s,sponsorship:c,story_pin_data_id:l,videos:d}=e,u={isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};Object(i.a)(e)&&(u.isCarousel=!0),a&&(u.isOneTap=!0),Object(o.i)(d)&&(u.isVideo=!0);const h=r||n&&n.embed||null;return h&&"gif"===h.type&&(u.isGif=!0),s&&"product"===s.type_name&&(u.isProduct=!0),s&&"recipe"===s.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(t||[]).includes("write")&&(u.isOwnPin=!0),l&&(u.isStoryPin=!0),c&&(u.isSponsored=!0),u}},z7q0:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("afy1"),o=n("n6mq"),r=n("4cTg"),a=n("/zJj"),s=n("nKUr");function c({children:e,isVideo:t=!1,isWideVideo:n,shouldPadImage:c,styleOverrides:l={},variant:d}){var u,h,p;const{showCloseupContentRight:b,showPdp:f,viewportSize:m,paneWidth:{pdp:g,regular:j}}=Object(r.e)(),y="default"===d;if(!(b&&"lg"===m||y||n))return Object(s.jsx)(o.f,{children:e});const O=f?g:j,v=Object(i.a)({isSideBySide:b&&!n,isPadded:c}),_=n?a.n:O,x=n?0:6,S=n?a.n:496,w=(null===(u=l.height)||void 0===u?void 0:u.height)||"100%",T=(null===(h=l.maxWidth)||void 0===h?void 0:h.maxWidth)||_,P=(null===(p=l.minWidth)||void 0===p?void 0:p.minWidth)||O;return Object(s.jsx)(o.f,{dangerouslySetInlineStyle:{__style:{borderRadius:l.borderRadius||v.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...c&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:y?"flex":void 0,flex:y&&n?"grow":void 0,height:y?w:void 0,justifyContent:y?"center":void 0,marginBottom:y?void 0:6,marginEnd:y?void 0:x,maxWidth:y?T:S,minWidth:y?P:344,rounding:y?void 0:2,children:e})}},zEVN:function(e,t,n){var i=n("Gi0A"),o=n("sEf8"),r=n("mdPL"),a=r&&r.isMap,s=a?o(a):i;e.exports=s},zQfT:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI");const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var a=r,s=n("eOdZ");function c({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=s.a.create(e,n),o=new a,r=()=>{i.abort()};return async function(e){const t=o.get(e);if(t){const n=t.items;if(n&&n.length){r();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;r()}const{bookmarks:a,...s}=i.options||{};i.options={...s,term:e};const c=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,l=null==c?void 0:c.items,d=(null==c?void 0:c.hint)||{},u={hint:d,items:l};return o.set(e,u),{term:e,items:l,hint:d}})(e):{hint:{},items:[],term:e}}}function l({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const r=Object(i.useRef)(!1),a=Object(i.useRef)({}),[s,l]=Object(i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=Object(i.useRef)();return n.current||(n.current=c({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return Object(i.useEffect)(()=>{(async()=>{if(null!=o&&(e||r.current))if(o in a.current)l(a.current[o]);else try{const e=await d(o);if(e){const{items:t}=e;a.current[o]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}r.current||(r.current=!0)})()},[o]),s}},zXAL:function(e,t,n){var i=n("/MKj"),o=n("peh1"),r=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(o.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(i.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:r.a,dismissExperience:r.b,fetchAllExperiences:r.d,fetchAllExperiencesMulti:r.f,fetchExperienceForPlacement:r.c,triggerExperimentsForPlacement:r.k,viewExperience:r.j},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zir5:function(e,t,n){n.d(t,"a",(function(){return o}));const i=e=>e.startsWith("enabled")||e.startsWith("employee");class o{constructor(e={},t={},n=!1){var i,o,r;r=!1,(o="useBatching")in(i=this)?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},zoYe:function(e,t,n){var i=n("nmnc"),o=n("eUgh"),r=n("Z0cm"),a=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}},0,[98,112,165,175,"PinBetterSaveCommon","PinSaveButtonCommon","PinRepEditButtonCommon",358,"ChangeBoardModalCommon","QuickSaveButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinSaveButtonCommon-9fec419cb1e2c43cce5f.mjs.map